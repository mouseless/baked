{"_path":"/layers/http-server","_dir":"layers","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Http Server","description":"DO uses ASP.NET Core's WebApplication to build and host a web application.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"http-server"},"children":[{"type":"text","value":"Http Server"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"DO uses ASP.NET Core's "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebApplication"}]},{"type":"text","value":" to build and host a web application."}]},{"type":"element","tag":"code","props":{"code":"app.AddHttpServer();\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-cceaf5"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-294c92"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-6b5c03"},"children":[{"type":"text","value":"AddHttpServer"}]},{"type":"element","tag":"span","props":{"class":"ct-294c92"},"children":[{"type":"text","value":"();"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"configuration-targets"},"children":[{"type":"text","value":"Configuration Targets"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"HttpServer"}]},{"type":"text","value":" layer provides "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IMiddlewareCollection"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IEndpointRouteBuilder"}]},{"type":"text","value":"\ntargets to configure a web application."}]},{"type":"element","tag":"h3","props":{"id":"imiddlewarecollection"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IMiddlewareCollection"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This target is provided in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Build"}]},{"type":"text","value":" phase as the first target. To configure it in\na feature;"}]},{"type":"element","tag":"code","props":{"code":"configurator.ConfigureMiddlewareCollection(middlewares =>\n{\n    ...\n});\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-cceaf5"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"class":"ct-294c92"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-6b5c03"},"children":[{"type":"text","value":"ConfigureMiddlewareCollection"}]},{"type":"element","tag":"span","props":{"class":"ct-294c92"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cceaf5"},"children":[{"type":"text","value":"middlewares"}]},{"type":"element","tag":"span","props":{"class":"ct-294c92"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-294c92"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-294c92"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-294c92"},"children":[{"type":"text","value":"});"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"iendpointroutebuilder"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IEndpointRouteBuilder"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This target is provided in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Build"}]},{"type":"text","value":" phase right after "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IMiddlewareCollection"}]},{"type":"text","value":". To\nconfigure it in a feature;"}]},{"type":"element","tag":"code","props":{"code":"configurator.ConfigureEndpointRouteBuilder(routes =>\n{\n    ...\n});\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-cceaf5"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"class":"ct-294c92"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-6b5c03"},"children":[{"type":"text","value":"ConfigureEndpointRouteBuilder"}]},{"type":"element","tag":"span","props":{"class":"ct-294c92"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cceaf5"},"children":[{"type":"text","value":"routes"}]},{"type":"element","tag":"span","props":{"class":"ct-294c92"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-294c92"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-294c92"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-294c92"},"children":[{"type":"text","value":"});"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"phases"},"children":[{"type":"text","value":"Phases"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This layer introduces following phases to the application it is added;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CreateBuilder"}]},{"type":"text","value":": This phase is the earliest phase in an application which\ncreates and adds a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebApplicationBuilder"}]},{"type":"text","value":" instance to the application context\nalong with a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ConfigurationManager"}]},{"type":"text","value":" instance."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Build"}]},{"type":"text","value":": This phase adds all services from dependency injection layer to the\nservices in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebApplicationBuilder"}]},{"type":"text","value":" instance. Then builds the app and adds\nthe "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebApplication"}]},{"type":"text","value":" instance to the application context along with the\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IServiceProvider"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Run"}]},{"type":"text","value":": This phase is added internally and is the latest phase in an\napplication. It is not allowed to provide a configuration at this phase since\nit runs the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebApplication"}]},{"type":"text","value":" instance during phase initialization."}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-6b5c03{color:#DCDCAA}\n.ct-294c92{color:#D4D4D4}\n.ct-cceaf5{color:#9CDCFE}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"configuration-targets","depth":2,"text":"Configuration Targets","children":[{"id":"imiddlewarecollection","depth":3,"text":"IMiddlewareCollection"},{"id":"iendpointroutebuilder","depth":3,"text":"IEndpointRouteBuilder"}]},{"id":"phases","depth":2,"text":"Phases"}]}},"_type":"markdown","_id":"content:layers:http-server.md","_source":"content","_file":"layers/http-server.md","_extension":"md"}