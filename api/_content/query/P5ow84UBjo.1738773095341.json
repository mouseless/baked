{"_path":"/layers/code-generation","_dir":"layers","_draft":false,"_partial":false,"_locale":"","title":"Code Generation","description":"Allows meta-programming-like experience to reduce repetitive code.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"code-generation"},"children":[{"type":"text","value":"Code Generation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Allows meta-programming-like experience to reduce repetitive code."}]},{"type":"element","tag":"pre","props":{"className":"language-csharp shiki shiki-themes slack-dark","code":"app.Layers.AddCodeGeneration();\n","language":"csharp","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"Layers"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA"},"children":[{"type":"text","value":"AddCodeGeneration"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"();\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"configuration-targets"},"children":[{"type":"text","value":"Configuration Targets"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Code generation layer provides "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IGeneratedAssemblyCollection"}]},{"type":"text","value":",\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IGeneratedFileCollection"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"GeneratedContext"}]},{"type":"text","value":" configuration targets."}]},{"type":"element","tag":"h3","props":{"id":"igeneratedassemblycollection"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IGeneratedAssemblyCollection"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This target is provided in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"GenerateCode"}]},{"type":"text","value":" phase. To configure it in a feature;"}]},{"type":"element","tag":"pre","props":{"className":"language-csharp shiki shiki-themes slack-dark","code":"configurator.ConfigureGeneratedAssemblyCollection(assemblies =>\n{\n    ...\n});\n","language":"csharp","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA"},"children":[{"type":"text","value":"ConfigureGeneratedAssemblyCollection"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"assemblies"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":"    .."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":".\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"});\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"igeneratedfilecollection"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IGeneratedFileCollection"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This target is provided in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Compile"}]},{"type":"text","value":" phase. To configure it in a feature;"}]},{"type":"element","tag":"pre","props":{"className":"language-csharp shiki shiki-themes slack-dark","code":"configurator.ConfigureGeneratedFileCollection(files =>\n{\n    ...\n});\n","language":"csharp","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA"},"children":[{"type":"text","value":"ConfigureGeneratedFileCollection"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"files"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":"    .."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":".\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"});\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"generatedcontext"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"GeneratedContext"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This target is provided in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"BuildConfiguration"}]},{"type":"text","value":" phase and contains generated\nassemblies and files data. To configure it in a feature;"}]},{"type":"element","tag":"pre","props":{"className":"language-csharp shiki shiki-themes slack-dark","code":"configurator.ConfigureGeneratedFileCollection(files =>\n{\n    ...\n});\n","language":"csharp","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA"},"children":[{"type":"text","value":"ConfigureGeneratedFileCollection"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"files"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":"    .."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":".\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"});\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"phases"},"children":[{"type":"text","value":"Phases"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This layer introduces following "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Generate"}]},{"type":"text","value":" phases to the application it is added;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"GenerateCode"}]},{"type":"text","value":": This phase creates a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IGeneratedAssemblyCollection"}]},{"type":"text","value":" instance\nand places it in the application context"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Compile"}]},{"type":"text","value":": This phase compiles generated code during above phase, saves\ngenerated assemblies and files to entry assembly location with\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ASPNETCORE_ENVIRONMENT"}]},{"type":"text","value":" subfolder"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"!TIP"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To access to a generated assembly from a feature use\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"configurator.Context.GetGeneratedContext().Assemblies[\"MyAssembly\"]"}]},{"type":"text","value":" extension method."}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"configuration-targets","depth":2,"text":"Configuration Targets","children":[{"id":"igeneratedassemblycollection","depth":3,"text":"IGeneratedAssemblyCollection"},{"id":"igeneratedfilecollection","depth":3,"text":"IGeneratedFileCollection"},{"id":"generatedcontext","depth":3,"text":"GeneratedContext"}]},{"id":"phases","depth":2,"text":"Phases"}]}},"_type":"markdown","_id":"content:layers:code-generation.md","_source":"content","_file":"layers/code-generation.md","_stem":"layers/code-generation","_extension":"md"}