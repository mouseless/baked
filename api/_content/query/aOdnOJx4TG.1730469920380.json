{"_path":"/layers/runtime","_dir":"layers","_draft":false,"_partial":false,"_locale":"","title":"Runtime","description":"This layer serves as foundation and provides common libraries for an\napplication. Baked uses .NET's standard libraries for providing an environment\nbased configuration mechanism, dependency injection container for inversion of\ncontrol and logging mechanism for monitoring and diagnostic purposes.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"runtime"},"children":[{"type":"text","value":"Runtime"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This layer serves as foundation and provides common libraries for an\napplication. Baked uses .NET's standard libraries for providing an environment\nbased configuration mechanism, dependency injection container for inversion of\ncontrol and logging mechanism for monitoring and diagnostic purposes."}]},{"type":"element","tag":"pre","props":{"className":"language-csharp shiki shiki-themes slack-dark","code":"app.Layers.AddRuntime();\n","language":"csharp","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"Layers"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA"},"children":[{"type":"text","value":"AddRuntime"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"();\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"configuration-targets"},"children":[{"type":"text","value":"Configuration Targets"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Runtime"}]},{"type":"text","value":" layer provides "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IConfigurationBuilder"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ILoggingBuilder"}]},{"type":"text","value":",\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IServiceCollection"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IServiceProvider"}]},{"type":"text","value":" as configuration targets."}]},{"type":"element","tag":"h3","props":{"id":"iconfigurationbuilder"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IConfigurationBuilder"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This target is provided in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"BuildConfiguration"}]},{"type":"text","value":" phase. To configure it in a\nfeature;"}]},{"type":"element","tag":"pre","props":{"className":"language-csharp shiki shiki-themes slack-dark","code":"configurator.ConfigureConfigurationBuilder(configuration =>\n{\n    ...\n});\n","language":"csharp","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA"},"children":[{"type":"text","value":"ConfigureConfigurationBuilder"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"configuration"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":"    .."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":".\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"});\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"iloggingbuilder"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ILoggingBuilder"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This target is provided in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"AddServices"}]},{"type":"text","value":" phase. To configure it in a feature;"}]},{"type":"element","tag":"pre","props":{"className":"language-csharp shiki shiki-themes slack-dark","code":"configurator.ConfigureLoggingBuilder(logging =>\n{\n    ...\n});\n","language":"csharp","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA"},"children":[{"type":"text","value":"ConfigureLoggingBuilder"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"logging"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":"    .."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":".\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"});\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"iservicecollection"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IServiceCollection"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This target is provided in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"AddServices"}]},{"type":"text","value":" phase. To configure it in a feature;"}]},{"type":"element","tag":"pre","props":{"className":"language-csharp shiki shiki-themes slack-dark","code":"configurator.ConfigureServiceCollection(services =>\n{\n    ...\n});\n","language":"csharp","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA"},"children":[{"type":"text","value":"ConfigureServiceCollection"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"services"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":"    .."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":".\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"});\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"iserviceprovider"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IServiceProvider"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This target is provided in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"PostBuild"}]},{"type":"text","value":" phase. To configure it in a feature;"}]},{"type":"element","tag":"pre","props":{"className":"language-csharp shiki shiki-themes slack-dark","code":"configurator.ConfigureServiceProvider(sp =>\n{\n    ...\n});\n","language":"csharp","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA"},"children":[{"type":"text","value":"ConfigureServiceProvider"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"sp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":"    .."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":".\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"});\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"phases"},"children":[{"type":"text","value":"Phases"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This layer introduces following phases to the application it is added;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"BuildConfiguration"}]},{"type":"text","value":": This phase runs in the earliest stage to allow the usage\nof "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Settings"}]},{"type":"text","value":" API from features"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"AddServices"}]},{"type":"text","value":": This phase creates a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IServiceCollection"}]},{"type":"text","value":" instance and places\nit in the application context"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"PostBuild"}]},{"type":"text","value":": This phase depends on a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IServiceProvider"}]},{"type":"text","value":" instance to be added\nto application context so that it can be provided from this layer"}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"configuration-targets","depth":2,"text":"Configuration Targets","children":[{"id":"iconfigurationbuilder","depth":3,"text":"IConfigurationBuilder"},{"id":"iloggingbuilder","depth":3,"text":"ILoggingBuilder"},{"id":"iservicecollection","depth":3,"text":"IServiceCollection"},{"id":"iserviceprovider","depth":3,"text":"IServiceProvider"}]},{"id":"phases","depth":2,"text":"Phases"}]}},"_type":"markdown","_id":"content:layers:runtime.md","_source":"content","_file":"layers/runtime.md","_stem":"layers/runtime","_extension":"md"}