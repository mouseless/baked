{"_path":"/layers/http-server","_dir":"layers","_draft":false,"_partial":false,"_locale":"","title":"HTTP Server","description":"Baked uses ASP.NET Core's WebApplication to build and host a web application.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"http-server"},"children":[{"type":"text","value":"HTTP Server"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Baked uses ASP.NET Core's "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"WebApplication"}]},{"type":"text","value":" to build and host a web application."}]},{"type":"element","tag":"pre","props":{"className":"language-csharp shiki shiki-themes slack-dark","code":"app.Layers.AddHttpServer();\n","language":"csharp","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"Layers"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA"},"children":[{"type":"text","value":"AddHttpServer"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"();\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"configuration-targets"},"children":[{"type":"text","value":"Configuration Targets"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"HttpServer"}]},{"type":"text","value":" layer provides "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IAuthenticationCollection"}]},{"type":"text","value":",\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IMiddlewareCollection"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IEndpointRouteBuilder"}]},{"type":"text","value":" targets to configure a web\napplication."}]},{"type":"element","tag":"h3","props":{"id":"iauthenticationcollection"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IAuthenticationCollection"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This target is provided in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"AddServices"}]},{"type":"text","value":" phase. To configure it in a feature;"}]},{"type":"element","tag":"pre","props":{"className":"language-csharp shiki shiki-themes slack-dark","code":"configurator.ConfigureAuthenticationCollection(authentications =>\n{\n    ...\n});\n","language":"csharp","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA"},"children":[{"type":"text","value":"ConfigureAuthenticationCollection"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"authentications"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":"    .."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":".\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"});\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"imiddlewarecollection"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IMiddlewareCollection"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This target is provided in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Build"}]},{"type":"text","value":" phase as the first target. To configure it in\na feature;"}]},{"type":"element","tag":"pre","props":{"className":"language-csharp shiki shiki-themes slack-dark","code":"configurator.ConfigureMiddlewareCollection(middlewares =>\n{\n    ...\n});\n","language":"csharp","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA"},"children":[{"type":"text","value":"ConfigureMiddlewareCollection"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"middlewares"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":"    .."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":".\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"});\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"iendpointroutebuilder"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IEndpointRouteBuilder"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This target is provided in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Build"}]},{"type":"text","value":" phase right after "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IMiddlewareCollection"}]},{"type":"text","value":". To\nconfigure it in a feature;"}]},{"type":"element","tag":"pre","props":{"className":"language-csharp shiki shiki-themes slack-dark","code":"configurator.ConfigureEndpointRouteBuilder(routes =>\n{\n    ...\n});\n","language":"csharp","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#DCDCAA"},"children":[{"type":"text","value":"ConfigureEndpointRouteBuilder"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9CDCFE"},"children":[{"type":"text","value":"routes"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#D4D4D4"},"children":[{"type":"text","value":"    .."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":".\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6E6E6"},"children":[{"type":"text","value":"});\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"phases"},"children":[{"type":"text","value":"Phases"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This layer introduces following phases to the application it is added;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"CreateBuilder"}]},{"type":"text","value":": This phase is the earliest phase in an application which\ncreates and adds a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"WebApplicationBuilder"}]},{"type":"text","value":" instance to the application context\nalong with a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ConfigurationManager"}]},{"type":"text","value":" instance"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Build"}]},{"type":"text","value":": This phase adds all services from dependency injection layer to the\nservices in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"WebApplicationBuilder"}]},{"type":"text","value":" instance, then builds the app and adds\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"WebApplication"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IServiceProvider"}]},{"type":"text","value":" instances to the application context"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Run"}]},{"type":"text","value":": This phase is added to the application internally as the latest phase\nto run the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"WebApplication"}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"configuration-targets","depth":2,"text":"Configuration Targets","children":[{"id":"iauthenticationcollection","depth":3,"text":"IAuthenticationCollection"},{"id":"imiddlewarecollection","depth":3,"text":"IMiddlewareCollection"},{"id":"iendpointroutebuilder","depth":3,"text":"IEndpointRouteBuilder"}]},{"id":"phases","depth":2,"text":"Phases"}]}},"_type":"markdown","_id":"content:layers:http-server.md","_source":"content","_file":"layers/http-server.md","_extension":"md"}