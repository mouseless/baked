{"generatedAt":1689259441105,"generateTime":17,"contents":[{"_path":"/architecture/application","_dir":"architecture","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Application","description":"Application acts as a container object for all the domain objects, features\nand layers of the software you develop.","position":1,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"application"},"children":[{"type":"text","value":"Application"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Application"}]},{"type":"text","value":" acts as a container object for all the domain objects, features\nand layers of the software you develop."}]},{"type":"element","tag":"h2","props":{"id":"forging-an-application"},"children":[{"type":"text","value":"Forging an Application"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"DO provides a fluent interface to create an application. You can access it\nthrough "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Forge.New"}]},{"type":"text","value":" under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do"}]},{"type":"text","value":" namespace. Below is a sample "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Program.cs"}]},{"type":"text","value":" that\ncreates and runs a new application;"}]},{"type":"element","tag":"code","props":{"code":"Forge.New\n    .Application(app =>\n    {\n        ...\n    })\n    .Run();\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"Forge"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"New\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-09bcc6"},"children":[{"type":"text","value":"Application"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"        ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"    })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-09bcc6"},"children":[{"type":"text","value":"Run"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"();"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do"}]},{"type":"text","value":" is automatically added as a global using so that you can directly make a\ncall to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Forge.New"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"adding-extensions"},"children":[{"type":"text","value":"Adding Extensions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To add a new extension to an application, you need to make use of the feature /\nlayer system."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"DO does not allow you to use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"build.Services.Add"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"app.Use"}]},{"type":"text","value":" methods\ndirectly. This is a design decision to avoid any unexpected behaviour because\nthe order of extensions may require a special attention as in "},{"type":"element","tag":"a","props":{"href":"https://learn.microsoft.com/en-us/aspnet/core/security/cors#enable-cors","rel":["nofollow"]},"children":[{"type":"text","value":"Enabling\nCors"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"As"}]},{"type":"text","value":" method provides an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ApplicationDescriptor"}]},{"type":"text","value":" instance that has "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Layers"}]},{"type":"text","value":" and\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Features"}]},{"type":"text","value":" properties. Using these properties, you can add desired extensions\ninto your application."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Layers and features come with extension methods exposed directly in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do"}]},{"type":"text","value":"\nnamespace so that you can see options without adding an extra "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"using"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h3","props":{"id":"layers"},"children":[{"type":"text","value":"Layers"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Layers are added without any options to configure;"}]},{"type":"element","tag":"code","props":{"code":"app.Layers.AddDomain();\napp.Layers.AddWeb();\napp.Layers.AddDatabase();\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"Layers"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-09bcc6"},"children":[{"type":"text","value":"AddDomain"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"Layers"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-09bcc6"},"children":[{"type":"text","value":"AddWeb"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"Layers"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-09bcc6"},"children":[{"type":"text","value":"AddDatabase"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"();"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To configure a layer, you need to add a feature mentioned in the next section."}]},{"type":"element","tag":"h3","props":{"id":"features"},"children":[{"type":"text","value":"Features"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Features are added using one of the implementations available in given\nconfigurator;"}]},{"type":"element","tag":"code","props":{"code":"app.Features.AddApi(c => c.Rest());\napp.Features.AddOrm(c => c.EfCore());\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"Features"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-09bcc6"},"children":[{"type":"text","value":"AddApi"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-09bcc6"},"children":[{"type":"text","value":"Rest"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"());\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"Features"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-09bcc6"},"children":[{"type":"text","value":"AddOrm"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-09bcc6"},"children":[{"type":"text","value":"EfCore"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"());"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"An implementation may ask for additional options within its configurator\nmethod;"}]},{"type":"element","tag":"code","props":{"code":"app.Features.AddOrm(c => c.EfCore(primaryKeyPrefix: \"PK_\"))\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"Features"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-09bcc6"},"children":[{"type":"text","value":"AddOrm"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-09bcc6"},"children":[{"type":"text","value":"EfCore"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"primaryKeyPrefix"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-8a85b8"},"children":[{"type":"text","value":"\"PK_\""}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"))"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"running-an-application"},"children":[{"type":"text","value":"Running an Application"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To run an application you need to call "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Run()"}]},{"type":"text","value":" method after forging it."}]},{"type":"element","tag":"code","props":{"code":"Forge.New\n    .Application(app =>\n    {\n        app.Layers.AddWeb();\n    })\n    .Run();\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"Forge"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"New\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-09bcc6"},"children":[{"type":"text","value":"Application"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e5412f"},"children":[{"type":"text","value":"Layers"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-09bcc6"},"children":[{"type":"text","value":"AddWeb"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"    })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-09bcc6"},"children":[{"type":"text","value":"Run"}]},{"type":"element","tag":"span","props":{"class":"ct-99172e"},"children":[{"type":"text","value":"();"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Application runs in phases provided by its layers. For example an ASP.NET Core\napplication typically runs in three phases;"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"diagram","src":"./application-1.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"These phases come from layers using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetPhases()"}]},{"type":"text","value":" method of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ILayer"}]},{"type":"text","value":". In the\nabove example, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebLayer"}]},{"type":"text","value":" (ASP.NET Core) introduced these three phases."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"At the beginning of each phase, application initializes it by providing an\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ApplicationContext"}]},{"type":"text","value":" instance. This way each phase can add/get certain objects\nto/from the context, such as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IServiceCollection"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IApplicationBuilder"}]},{"type":"text","value":",\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IEndpointRouteBuilder"}]},{"type":"text","value":" etc."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"diagram","src":"./application-2.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As mentioned "},{"type":"element","tag":"a","props":{"href":"./"},"children":[{"type":"text","value":"earlier"}]},{"type":"text","value":", layers provide features with things to\nconfigure. For this to happen, application asks every layer what to configure\nat each phase. If a layer has something to get configured at a phase, such as\nthe "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IApplicationBuilder"}]},{"type":"text","value":" at the "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Build"}]},{"type":"text","value":" phase, it returns that object within a\nphase context in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ILayer.GetContext()"}]},{"type":"text","value":". Using this phase context, application\npasses the provided object(s) to all of the features through\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IFeature.Configure()"}]},{"type":"text","value":". Phase contexts are disposed at the end of their phase."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below sequence diagram shows how an application runs in phases. In this diagram\nthere are two layers ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"A"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"B"}]},{"type":"text","value":"), each having one phase, and two features\n("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Y"}]},{"type":"text","value":");"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"diagram","src":"./application-3.png"},"children":[]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A layer doesn't necessarily introduce new phases to an application, but all\nphases are applied to all layers nevertheless. For example, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebLayer"}]},{"type":"text","value":"\nintroduces "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Build"}]},{"type":"text","value":" phase which is applied to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Domain"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Web"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Database"}]},{"type":"text","value":"\nlayers to allow them provide their configuration specific to the "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Build"}]},{"type":"text","value":"\nphase."}]}]},{"type":"element","tag":"h3","props":{"id":"order-of-phases"},"children":[{"type":"text","value":"Order of Phases"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Initialization order of phases are determined by;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Readiness of a phase through "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IPhase.IsReady()"}]},{"type":"text","value":" method,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Value of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IPhase.Order"}]},{"type":"text","value":" property,"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"And the order they are added to the application."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Application checks if a phase is ready and if it is not, application keeps it\nfor the next iteration of initializations."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A phase makes use of given application context to determine if it is ready to\nbe initialized or not. For example, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Run"}]},{"type":"text","value":" phase looks for "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebApplication"}]},{"type":"text","value":" in\nthe given context. If it does not, phase decides not to initialize. This way\napplication knows that "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Run"}]},{"type":"text","value":" phase is not ready until some other phase, e.g.,\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Build"}]},{"type":"text","value":" phase, adds "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebApplication"}]},{"type":"text","value":" to the context."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"diagram","src":"./application-4.png"},"children":[]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All phases need to initialize. Application will cause a\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CannotProceedException"}]},{"type":"text","value":" if any of the phases never gets initialized."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When two phases are ready to be initialized at the same iteration, application\nsorts them by their "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Order"}]},{"type":"text","value":" property. A phase can have the following orders;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Earliest"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Early"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Normal"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Late"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Latest"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Application may have any number of phases with the same order at the same\niteration. So in that case, they will initialize in the order they are provided\nfrom layers."}]},{"type":"element","tag":"h4","props":{"id":"earliest-and-latest-phases"},"children":[{"type":"text","value":"Earliest and Latest Phases"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There should be only one "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"earliest"}]},{"type":"text","value":" phase and one "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"latest"}]},{"type":"text","value":" phase per iteration.\nIf there are multiple "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"earliest"}]},{"type":"text","value":" or "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"latest"}]},{"type":"text","value":" phases, application will throw an\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"OverlappingPhaseException"}]},{"type":"text","value":" and execution will stop. If you see this exception,\nit means you need to reorder phases so that they don't overlap, or you might\nchange their readiness so that they run in their own iteration."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"These special values ensures certain phases are initialized firstly or lastly.\nFor example, the first phase of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebLayer"}]},{"type":"text","value":", "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Create Builder"}]},{"type":"text","value":", adds\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebApplicationBuilder"}]},{"type":"text","value":" to the application context, which should be the first\nthing to be done when running an application. To ensure this, "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Create Builder"}]},{"type":"text","value":"\nshould be able to declare itself to be the only "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"earliest"}]},{"type":"text","value":" phase of its\niteration."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-8a85b8{color:#CE9178}\n.ct-09bcc6{color:#DCDCAA}\n.ct-99172e{color:#D4D4D4}\n.ct-e5412f{color:#9CDCFE}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"forging-an-application","depth":2,"text":"Forging an Application"},{"id":"adding-extensions","depth":2,"text":"Adding Extensions","children":[{"id":"layers","depth":3,"text":"Layers"},{"id":"features","depth":3,"text":"Features"}]},{"id":"running-an-application","depth":2,"text":"Running an Application","children":[{"id":"order-of-phases","depth":3,"text":"Order of Phases"}]}]}},"_type":"markdown","_id":"content:architecture:application.md","_source":"content","_file":"architecture/application.md","_extension":"md"},{"_path":"/architecture/feature","_dir":"architecture","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Feature","description":"Features consist of two parts; abstraction (port) and implementation (adapter).\nEach adapter exposes a class that implements IFeature interface.","position":3,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"feature"},"children":[{"type":"text","value":"Feature"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Features consist of two parts; abstraction (port) and implementation (adapter).\nEach adapter exposes a class that implements "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IFeature"}]},{"type":"text","value":" interface."}]},{"type":"element","tag":"h2","props":{"id":"conventions"},"children":[{"type":"text","value":"Conventions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For a consistent developer experience, follow below conventions when\nimplementing a new feature;"}]},{"type":"element","tag":"h3","props":{"id":"abstraction"},"children":[{"type":"text","value":"Abstraction"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Place all abstraction classes under a folder named after feature, e.g.,\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Greeting/"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Provide a configurator and an extension class for abstraction part, e.g.\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Greeting/GreetingConfigurator.cs"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Greeting/GreetingExtensions.cs"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Provide an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Add"}]},{"type":"text","value":" method to add feature to an application, e.g.,\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AddGreeting()"}]}]}]},{"type":"element","tag":"h3","props":{"id":"implementation"},"children":[{"type":"text","value":"Implementation"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Place all implementation classes under their own folder in the abstraction\nfolder, e.g., "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Greeting/HelloWorld/"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Greeting/WelcomePage/"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Provide an extension method with the implementation name to allow adding\nthat implementation, e.g., "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"HelloWorld()"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WelcomePage()"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"This method should be in an extension class under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do"}]},{"type":"text","value":" namespace, e.g.,\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Greeting/HelloWorldGreetingExtensions.cs"}]},{"type":"text","value":",\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Greeting/WelcomePageGreetingExtensions.cs"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Name feature class after implementation name with abstraction name as a\nsuffix, e.g., "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"HelloWorldGreeting"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WelcomePageGreeting"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Features depend on other features through their abstraction parts. Direct\ndependency between feature implementations is forbidden."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Please refer to existing features in "},{"type":"element","tag":"a","props":{"href":"https://github.com/mouseless/do","rel":["nofollow"]},"children":[{"type":"text","value":"github.com/mouseless/do"}]},{"type":"text","value":" for examples."}]},{"type":"element","tag":"h2","props":{"id":"configuring-layers"},"children":[{"type":"text","value":"Configuring Layers"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To configure layers, a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"LayerCofigurator"}]},{"type":"text","value":" instance is passed to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Configure()"}]},{"type":"text","value":"\nmethod of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IFeature"}]},{"type":"text","value":" interface. Using extension methods on the given\nconfigurator, a feature accesses configuration targets of layers."}]},{"type":"element","tag":"code","props":{"code":"public class WelcomePageGreeting : IFeature\n{\n    public void Configure(LayerConfigurator configurator)\n    {\n        configurator.ConfigureApplicationBuilder(app =>\n        {\n            app.UseWelcomePage();\n        });\n    }\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9e90ec"},"children":[{"type":"text","value":"WelcomePageGreeting"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-9e90ec"},"children":[{"type":"text","value":"IFeature\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d4cf4f"},"children":[{"type":"text","value":"Configure"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-9e90ec"},"children":[{"type":"text","value":"LayerConfigurator"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-d4cf4f"},"children":[{"type":"text","value":"ConfigureApplicationBuilder"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"        {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-d4cf4f"},"children":[{"type":"text","value":"UseWelcomePage"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"        });\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Layers allow up to three configuration targets per configuration action."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Configure"}]},{"type":"text","value":" method will be called multiple times, each time to configure a\ndifferent part of the application. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"LayerConfigurator"}]},{"type":"text","value":" ensures that given\nconfiguration action is only applied to the related target, e.g.,\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IApplicationBuilder"}]},{"type":"text","value":" in the above code."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A layer might provide the same object in different configurators. For example,\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebApplication"}]},{"type":"text","value":" implements "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IApplicationBuilder"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IEndpointRouteBuilder"}]},{"type":"text","value":",\nbut "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebLayer"}]},{"type":"text","value":" provides them in two separate configuration targets."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Do "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"NOT"}]},{"type":"text","value":" cast given configuration objects to their other interfaces. A\nlayer provides a separate extension method, e.g.,\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ConfigureEndpointRouteBuilder()"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The order of the configuration calls does not have an effect in the outcome.\nFeel free to organize these calls in the way you like."}]}]},{"type":"element","tag":"h3","props":{"id":"including-an-option"},"children":[{"type":"text","value":"Including an Option"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To include an option in a feature, take the option as a parameter in\nconfigurator extension and pass it to the feature implementation as shown\nbelow;"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WelcomePageGreeting.cs"}]}]},{"type":"element","tag":"code","props":{"code":"public class WelcomePageGreeting : IFeature\n{\n    string _path;\n\n    public WelcomePageGreeting(string path) => _path = path;\n\n    public void Configure(LayerConfigurator configurator)\n    {\n        configurator.ConfigureApplicationBuilder(app =>\n        {\n            app.UseWelcomePage(_path);\n        });\n    }\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9e90ec"},"children":[{"type":"text","value":"WelcomePageGreeting"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-9e90ec"},"children":[{"type":"text","value":"IFeature\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"_path"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d4cf4f"},"children":[{"type":"text","value":"WelcomePageGreeting"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":") => "}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"_path"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d4cf4f"},"children":[{"type":"text","value":"Configure"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-9e90ec"},"children":[{"type":"text","value":"LayerConfigurator"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-d4cf4f"},"children":[{"type":"text","value":"ConfigureApplicationBuilder"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"        {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-d4cf4f"},"children":[{"type":"text","value":"UseWelcomePage"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"_path"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"        });\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WelcomePageGreetingExtensions.cs"}]}]},{"type":"element","tag":"code","props":{"code":"public static class WelcomePageGreetingExtensions\n{\n    public static WelcomePageGreeting WelcomePage(this GreetingConfigurator source,\n        string? path = default\n    ) => new(path ?? \"/\");\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9e90ec"},"children":[{"type":"text","value":"WelcomePageGreetingExtensions\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9e90ec"},"children":[{"type":"text","value":"WelcomePageGreeting"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d4cf4f"},"children":[{"type":"text","value":"WelcomePage"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9e90ec"},"children":[{"type":"text","value":"GreetingConfigurator"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"source"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"? "}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"default\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"    ) => "}]},{"type":"element","tag":"span","props":{"class":"ct-d4cf4f"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"path"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" ?? "}]},{"type":"element","tag":"span","props":{"class":"ct-f03cca"},"children":[{"type":"text","value":"\"/\""}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"disabling-a-feature"},"children":[{"type":"text","value":"Disabling a Feature"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To allow disabling a feature, provide a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Disabled()"}]},{"type":"text","value":" method which returns an\nempty feature."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GreetingConfigurator.cs"}]}]},{"type":"element","tag":"code","props":{"code":"public class GreetingConfigurator\n{\n    public IFeature Disabled() => Feature.Empty;\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9e90ec"},"children":[{"type":"text","value":"GreetingConfigurator\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-662171"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9e90ec"},"children":[{"type":"text","value":"IFeature"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d4cf4f"},"children":[{"type":"text","value":"Disabled"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"() => "}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"Feature"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-713ab2"},"children":[{"type":"text","value":"Empty"}]},{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-98d86a"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-f03cca{color:#CE9178}\n.ct-713ab2{color:#9CDCFE}\n.ct-d4cf4f{color:#DCDCAA}\n.ct-9e90ec{color:#4EC9B0}\n.ct-98d86a{color:#D4D4D4}\n.ct-662171{color:#569CD6}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"conventions","depth":2,"text":"Conventions","children":[{"id":"abstraction","depth":3,"text":"Abstraction"},{"id":"implementation","depth":3,"text":"Implementation"}]},{"id":"configuring-layers","depth":2,"text":"Configuring Layers","children":[{"id":"including-an-option","depth":3,"text":"Including an Option"},{"id":"disabling-a-feature","depth":3,"text":"Disabling a Feature"}]}]}},"_type":"markdown","_id":"content:architecture:feature.md","_source":"content","_file":"architecture/feature.md","_extension":"md"},{"_path":"/architecture","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Architecture","description":"DO is designed to be a framework that allows us to build software with any\narchitectural style. Core idea is to have good separation of concerns without\ncausing any repetitive work. To achieve this we need to break down an\napplication into its individual components such as features, layers and domain\nlogic.","position":4,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"architecture"},"children":[{"type":"text","value":"Architecture"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"DO is designed to be a framework that allows us to build software with any\narchitectural style. Core idea is to have good separation of concerns without\ncausing any repetitive work. To achieve this we need to break down an\napplication into its individual components such as features, layers and domain\nlogic."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"DO is inspired by "},{"type":"element","tag":"a","props":{"href":"https://learn.microsoft.com/en-us/dotnet/architecture/modern-web-apps-azure/common-web-application-architectures#clean-architecture","rel":["nofollow"]},"children":[{"type":"text","value":"Clean Architecture"}]},{"type":"text","value":", but it has its own approach to the\nconcept."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's dive into each type of software component to have a better understanding\nof how DO is structured."}]},{"type":"element","tag":"h2","props":{"id":"domain"},"children":[{"type":"text","value":"Domain"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"At the core of an application lies its domain logic. By this we understand the\nvery reason for an application to exist. Everything else exists only to expose\nthis domain to outside world. So first part is the domain layer."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"diagram","src":"./README-1.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This layer contains all of the business code of your application. Now we have a\nbasic definition of what a domain is, but we need to clarify what a layer is."}]},{"type":"element","tag":"h2","props":{"id":"layer"},"children":[{"type":"text","value":"Layer"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Each layer in DO introduces a new technology, such as a database server,\nmessage queue server or a framework, into your application architecture. These\nlayers are named after the domain of their technology."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"diagram","src":"./README-2.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this example, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do.Web"}]},{"type":"text","value":" introduces the concept of web as a layer through the\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ASP.NET Core"}]},{"type":"text","value":" technology. Also, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do.Database"}]},{"type":"text","value":" introduces the concept of\nrelational databases as a layer through the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"EF Core"}]},{"type":"text","value":" framework."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Domain"}]},{"type":"text","value":" differs from other layers like "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Web"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Database"}]},{"type":"text","value":". It is a special\nkind of layer that processes your domain assemblies to create an application\nschema out of your domain objects so that they can be used in creating\nconfiguration, conventions and/or generating source code."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"But your domain objects would not just be exposed as API endpoints and mapped\nonto a relational database. For that, we need to be able to configure those\nlayers so that they know how to interpret your domain objects."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is why every layer comes with its own configuration that is specific to\nthe technology it uses. This configuration may contain a set of helper classes\nand/or facade methods that makes it easy to build a certain type of\nconfiguration, but they do "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"not"}]},{"type":"text","value":" have opinions upfront."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In other words;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"If it introduces an internal system component like a database, message queue\nserver, web server, a framework; then it "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"is"}]},{"type":"text","value":" a layer."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"If it is an external system component such as a cloud service, then it should\n"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"not"}]},{"type":"text","value":" be a layer. External system components are defined as feature\nimplementations (adapters) which we'll cover in the next section."}]}]},{"type":"element","tag":"h2","props":{"id":"feature"},"children":[{"type":"text","value":"Feature"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A feature is an ability for a domain logic to use in order to access other\nsoftware components. Every feature consists of two parts; abstraction (port)\nand implementation (adapter)."}]},{"type":"element","tag":"h3","props":{"id":"abstraction"},"children":[{"type":"text","value":"Abstraction"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"An abstraction is the library that contains all common classes, interfaces,\nattributes, if any, for a feature. It is the only accessible part of a feature\nfrom the domain layer or from other feature implementations."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Each feature has only one abstraction, named after the ability it provides,\ne.g. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do.Fs"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do.Orm"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do.Logging"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do.Auth"}]},{"type":"text","value":" etc."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"diagram","src":"./README-3.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"implementation"},"children":[{"type":"text","value":"Implementation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the implementation part of a feature that provides concrete\nimplementations for the interfaces defined in the abstraction, along with\nopinionated configurations using the configuration API of the corresponding\nlayer."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A feature may configure multiple layers to achieve its functionality."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Features may have multiple implementations, each named after its corresponding\ndesign or technology, e.g. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do.Api.Rest"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do.Auth.Auth0"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do.Fs.Aws"}]},{"type":"text","value":",\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do.Orm.EfCore"}]},{"type":"text","value":"."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do.Fs"}]},{"type":"text","value":" represents file system feature that provides an API to your domain\nlogic to read/write files. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do.Fs.Local"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do.Fs.AwsS3"}]},{"type":"text","value":" are two different\nimplementations that provides the same functionality through different system\ncomponents."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In conclusion, feature implementations serve as bridges, connecting the domain\nlayer to other layers through their opinionated configurations. Below is a\ncomplete sample architecture, showcasing the integration of layers, features\nand the domain layer;"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"diagram","src":"./README-4.png"},"children":[]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"domain","depth":2,"text":"Domain"},{"id":"layer","depth":2,"text":"Layer"},{"id":"feature","depth":2,"text":"Feature","children":[{"id":"abstraction","depth":3,"text":"Abstraction"},{"id":"implementation","depth":3,"text":"Implementation"}]}]}},"_type":"markdown","_id":"content:architecture:index.md","_source":"content","_file":"architecture/index.md","_extension":"md"},{"_path":"/architecture/layer","_dir":"architecture","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Layer","description":"Each ILayer implementation represents an internal system component of the\nsoftware you develop. A layer provides application features with configuration\nof this system component so that the features can bind domain objects and\nsystem components together.","position":2,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"layer"},"children":[{"type":"text","value":"Layer"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Each "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ILayer"}]},{"type":"text","value":" implementation represents an internal system component of the\nsoftware you develop. A layer provides application features with configuration\nof this system component so that the features can bind domain objects and\nsystem components together."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's take relational database as an example. A relational database is treated\nas an internal system component and is introduced by the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"DatabaseLayer"}]},{"type":"text","value":" along\nwith a configuration API. This API enables a feature to map your domain\nentities to database tables."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Another good example is the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebLayer"}]},{"type":"text","value":". This layer introduces the ASP.NET Core\nframework into your application. It provides three phases, as mentioned in\n"},{"type":"element","tag":"a","props":{"href":"./application"},"children":[{"type":"text","value":"Application"}]},{"type":"text","value":", along with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IApplicationBuilder"}]},{"type":"text","value":" and\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IEndpointRouteBuilder"}]},{"type":"text","value":" objects as its configuration API. This way, any feature\nhas the ability to use a middleware or add routes to the application."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can directly implement provided interfaces "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ILayer"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IPhase"}]},{"type":"text","value":", however\nwe've created some base classes to make it easier for you to create layers\nand phases. All examples below, demonstrate usage of these base classes."}]}]},{"type":"element","tag":"h2","props":{"id":"conventions"},"children":[{"type":"text","value":"Conventions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For a consistent developer experience, follow below conventions when\nimplementing a new layer;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Place all layer related classes under the same folder named after layer,\ne.g., "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"DependencyInjection/"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Layer"}]},{"type":"text","value":" suffix in layer class name, e.g.,\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"DependencyInjection/DependencyInjectionLayer.cs"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Provide extension methods in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do"}]},{"type":"text","value":" namespace, e.g.,\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"DependencyInjection/DependencyInjectionExtensions.cs"}]},{"type":"text","value":";"},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Add"}]},{"type":"text","value":" extension to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"List<ILayer>"}]},{"type":"text","value":", e.g., "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AddDependencyInjection()"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Configure"}]},{"type":"text","value":" extensions to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"LayerConfigurator"}]},{"type":"text","value":" per configuration\ntarget(s), e.g., "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ConfigureServiceCollection()"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Place phase implementations as nested classes under the layer class"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Don't use any suffix for phases and use method-like names, e.g., "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Build"}]},{"type":"text","value":" and\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Run"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Please refer to existing layers in "},{"type":"element","tag":"a","props":{"href":"https://github.com/mouseless/do","rel":["nofollow"]},"children":[{"type":"text","value":"github.com/mouseless/do"}]},{"type":"text","value":" for examples."}]},{"type":"element","tag":"h2","props":{"id":"adding-phases"},"children":[{"type":"text","value":"Adding Phases"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By default "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"LayerBase"}]},{"type":"text","value":" returns no phases. To add one or more phases into the\napplication, you need to override "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetPhases()"}]},{"type":"text","value":" method as shown below;"}]},{"type":"element","tag":"code","props":{"code":"public class SampleLayer : LayerBase\n{\n    protected override IEnumerable<IPhase> GetPhases()\n    {\n        yield return new DoA();\n        yield return new DoB();\n    }\n\n    public class DoA : PhaseBase { ... }\n    public class DoB : PhaseBase { ... }\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"SampleLayer"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"LayerBase\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"override"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"IEnumerable"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"IPhase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"GetPhases"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-2f0dcc"},"children":[{"type":"text","value":"yield"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2f0dcc"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"DoA"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-2f0dcc"},"children":[{"type":"text","value":"yield"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2f0dcc"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"DoB"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"DoA"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"PhaseBase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" { ... }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"DoB"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"PhaseBase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" { ... }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SampleLayer"}]},{"type":"text","value":" adds two phases, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"DoA"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"DoB"}]},{"type":"text","value":", to the application."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By convention place the phase implementations as a nested class in the layer\nit is added."}]}]},{"type":"element","tag":"h3","props":{"id":"initializing-a-phase"},"children":[{"type":"text","value":"Initializing a Phase"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PhaseBase"}]},{"type":"text","value":" class has "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Initialize()"}]},{"type":"text","value":" method to override so that it can add an\nobject to the application context via "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Context"}]},{"type":"text","value":" property. Below, you can see\nhow "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CreateBuilder"}]},{"type":"text","value":" phase adds "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebApplicationBuilder"}]},{"type":"text","value":" to the context;"}]},{"type":"element","tag":"code","props":{"code":"public class CreateBuilder : PhaseBase\n{\n    protected override void Initialize()\n    {\n        var build = WebApplication.CreateBuilder();\n\n        Context.Add(build);\n    }\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"CreateBuilder"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"PhaseBase\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"override"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"Initialize"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"build"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"WebApplication"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"CreateBuilder"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"Add"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"build"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"readiness-via-dependencies"},"children":[{"type":"text","value":"Readiness via Dependencies"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can define context dependencies via generic "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PhaseBase<>"}]},{"type":"text","value":" classes to make\nthe phase wait until context is ready to provide that dependency. For example,\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Build"}]},{"type":"text","value":" depends on the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebApplicationBuilder"}]},{"type":"text","value":" instance as shown below;"}]},{"type":"element","tag":"code","props":{"code":"public class Build : PhaseBase<WebApplicationBuilder>\n{\n    protected override void Initialize(WebApplicationBuilder build)\n    {\n        var app = build.Build();\n\n        Context.Add(app);\n    }\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"Build"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"PhaseBase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"WebApplicationBuilder"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"override"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"Initialize"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"WebApplicationBuilder"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"build"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"build"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"Build"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"Add"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PhaseBase<T>"}]},{"type":"text","value":" class requires "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Initialize(T t)"}]},{"type":"text","value":" method to be implemented."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can provide more than one dependency for a phase. E.g., "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Phase<X, Y>"}]},{"type":"text","value":"\nwill require "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Initialize(X x, Y y)"}]},{"type":"text","value":" method to be implemented."}]}]},{"type":"element","tag":"h3","props":{"id":"order-of-a-phase"},"children":[{"type":"text","value":"Order of a Phase"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PhaseBase"}]},{"type":"text","value":" classes has "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"order"}]},{"type":"text","value":" parameter in their constructors. Default order\nis "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PhaseOrder.Normal"}]},{"type":"text","value":". If you need to change the order, pass the desired order\nto this parameter as shown below;"}]},{"type":"element","tag":"code","props":{"code":"public class DoThisEarlyOn : PhaseBase\n{\n    public DoThisEarlyOn() : base(PhaseOrder.Early) { }\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"DoThisEarlyOn"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"PhaseBase\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"DoThisEarlyOn"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"() : "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"base"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"PhaseOrder"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"Early"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":") { }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"providing-configuration"},"children":[{"type":"text","value":"Providing Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Layers provide configuration objects phase by phase. This means a layer can\nprovide two different configuration objects for two different phases. For this\nreason, a layer returns "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PhaseContext"}]},{"type":"text","value":" instance per phase to which it provides\nconfiguration."}]},{"type":"element","tag":"code","props":{"code":"public class LayerX : LayerBase<AddServices>\n{\n    LayerXConfiguration _configuration = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContext(_configuration);\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"LayerX"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"LayerBase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"AddServices"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"LayerXConfiguration"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"_configuration"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"override"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"PhaseContext"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"GetContext"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"AddServices"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"phase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":") =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"phase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"CreateContext"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"_configuration"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this example, you see a layer named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"LayerX"}]},{"type":"text","value":" providing a\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"LayerXConfiguration"}]},{"type":"text","value":" instance during "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AddServices"}]},{"type":"text","value":" phase."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By default, a layer returns "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PhaseContext.Empty"}]},{"type":"text","value":" instance for the phases it\ndoes not provide a configuration. This means "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Application"}]},{"type":"text","value":" skips that layer\nfor the phases it doesn't have anything to configure."}]}]},{"type":"element","tag":"h3","props":{"id":"using-non-generic-layerbase"},"children":[{"type":"text","value":"Using non-generic "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"LayerBase"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"LayerBase<>"}]},{"type":"text","value":" classes allow up to three generic arguments. If you need to\nimplement a layer that has things to configure during more than three phases,\nuse non-generic "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"LayerBase"}]},{"type":"text","value":" class, override "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetContext(IPhase phase)"}]},{"type":"text","value":" method\nand switch given phase according to its type;"}]},{"type":"element","tag":"code","props":{"code":"public class MyLayer : LayerBase\n{\n    protected override PhaseContext GetContext(IPhase phase) =>\n        phase switch\n        {\n            PhaseA => phase.CreateContext(...),\n            PhaseB => phase.CreateContext(...),\n            _ => base.GetContext(phase)\n        };\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"MyLayer"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"LayerBase\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"override"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"PhaseContext"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"GetContext"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"IPhase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"phase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":") =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"phase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2f0dcc"},"children":[{"type":"text","value":"switch\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"            PhaseA => "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"phase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"CreateContext"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"(...),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"            PhaseB => "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"phase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"CreateContext"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"(...),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"            _ => "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"base"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"GetContext"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"phase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        };\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"before-and-after-a-phase"},"children":[{"type":"text","value":"Before and After a Phase"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Layers might need to do some standard stuff before and after a phase is applied\nto all features for all layers. Use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetContext()"}]},{"type":"text","value":" method to do stuff before,\nand "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"onDispose:"}]},{"type":"text","value":" delegate to do stuff after."}]},{"type":"element","tag":"code","props":{"code":"public class LayerX : LayerBase<AddServices>\n{\n    LayerXConfiguration _configuration = new();\n\n    protected override PhaseContext GetContext(AddServices phase)\n    {\n        var services = Context.Get<IServiceCollection>();\n\n        services.AddStandardStuffBefore();\n\n        phase.CreateContext(_configuration,\n            onDispose: () => services.AddStandardStuffAfter()\n        );\n    }\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"LayerX"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"LayerBase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"AddServices"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"LayerXConfiguration"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"_configuration"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"override"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"PhaseContext"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"GetContext"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"AddServices"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"phase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"var"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"services"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"Get"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"IServiceCollection"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":">();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"services"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"AddStandardStuffBefore"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"phase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"CreateContext"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"_configuration"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"onDispose"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":": () => "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"services"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"AddStandardStuffAfter"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        );\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Notice that a layer has access to the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ApplicationContext"}]},{"type":"text","value":" instance through\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Context"}]},{"type":"text","value":" property provided in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"LayerBase"}]},{"type":"text","value":" base class."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GetContext()"}]},{"type":"text","value":" method is called for every layer before applying any of them\nto features. And "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"onDispose:"}]},{"type":"text","value":" actions are called after applying these\ncontexts to all features."}]}]},{"type":"element","tag":"h3","props":{"id":"providing-multiple-targets"},"children":[{"type":"text","value":"Providing Multiple Targets"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It is possible to provide up to three configuration objects for the same phase.\nThere are two ways of providing multiple targets; at once or one by one."}]},{"type":"element","tag":"h4","props":{"id":"at-once"},"children":[{"type":"text","value":"At Once"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below code demonstrates providing two configuration objects at once;"}]},{"type":"element","tag":"code","props":{"code":"public class LayerX : LayerBase<AddServices>\n{\n    Configuration1 _configuration1 = new();\n    Configuration2 _configuration2 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContext(_configuration1, _configuration2);\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"LayerX"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"LayerBase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"AddServices"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"Configuration1"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"_configuration1"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"Configuration2"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"_configuration2"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"override"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"PhaseContext"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"GetContext"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"AddServices"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"phase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":") =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"phase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"CreateContext"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"_configuration1"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"_configuration2"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This phase context will require an action with two parameter in a feature;"}]},{"type":"element","tag":"code","props":{"code":"...\npublic void Configure(LayerConfigurator configurator)\n{\n    configurator.Configure((Configuration1 configuration1, Configuration2 configuration2) =>\n    {\n        // use both objects to configure\n    });\n}\n...\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"Configure"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"LayerConfigurator"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"Configure"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"(("}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"Configuration1"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"configuration1"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"Configuration2"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"configuration2"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":") =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-99c98e"},"children":[{"type":"text","value":"// use both objects to configure\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    });\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See "},{"type":"element","tag":"a","props":{"href":"./feature"},"children":[{"type":"text","value":"Feature"}]},{"type":"text","value":" for more information on using layer configurators\nfor features."}]},{"type":"element","tag":"h4","props":{"id":"one-by-one"},"children":[{"type":"text","value":"One by One"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below code demonstrates providing configuration objects one by one;"}]},{"type":"element","tag":"code","props":{"code":"public class LayerX : LayerBase<AddServices>\n{\n    Configuration1 _configuration1 = new();\n    Configuration2 _configuration2 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContextBuilder()\n            .Add(_configuration1)\n            .Add(_configuration2)\n            .Build()\n        ;\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"LayerX"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"LayerBase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"AddServices"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"Configuration1"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"_configuration1"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"Configuration2"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"_configuration2"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"override"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"PhaseContext"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"GetContext"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"AddServices"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"phase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":") =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"phase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"CreateContextBuilder"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"Add"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"_configuration1"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"Add"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"_configuration2"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"Build"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        ;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This phase context will require two different actions in a feature;"}]},{"type":"element","tag":"code","props":{"code":"...\npublic void Configure(LayerConfigurator configurator)\n{\n    configurator.Configure((Configuration1 configuration1) =>\n    {\n        // configure one by one\n    });\n\n    configurator.Configure((Configuration2 configuration2) =>\n    {\n        // configure one by one\n    });\n}\n...\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"Configure"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"LayerConfigurator"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"Configure"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"(("}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"Configuration1"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"configuration1"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":") =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-99c98e"},"children":[{"type":"text","value":"// configure one by one\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    });\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"Configure"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"(("}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"Configuration2"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"configuration2"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":") =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-99c98e"},"children":[{"type":"text","value":"// configure one by one\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    });\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"..."}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"phase.CreateContext()"}]},{"type":"text","value":" is a helper method that utilizes\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"phase.CreateContextBuilder()"}]},{"type":"text","value":" behind the scenes."}]}]},{"type":"element","tag":"h4","props":{"id":"using-in-combination"},"children":[{"type":"text","value":"Using in Combination"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may combine these two ways to provide configuration;"}]},{"type":"element","tag":"code","props":{"code":"public class LayerX : LayerBase<AddServices>\n{\n    Configuration1 _configuration1 = new();\n    Configuration2 _configuration2 = new();\n    Configuration3 _configuration3 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContextBuilder()\n            .Add(_configuration1, _configuration2)\n            .Add(_configuration3)\n            .Build()\n        ;\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"LayerX"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" : "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"LayerBase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"AddServices"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"Configuration1"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"_configuration1"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"Configuration2"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"_configuration2"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"Configuration3"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"_configuration3"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" = "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"protected"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-987ae8"},"children":[{"type":"text","value":"override"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"PhaseContext"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"GetContext"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-87b0cd"},"children":[{"type":"text","value":"AddServices"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"phase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":") =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"phase"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"CreateContextBuilder"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"Add"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"_configuration1"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"_configuration2"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"Add"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b47124"},"children":[{"type":"text","value":"_configuration3"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"            ."}]},{"type":"element","tag":"span","props":{"class":"ct-f8ac03"},"children":[{"type":"text","value":"Build"}]},{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"        ;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-cdbb19"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This phase context will require two different actions;"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"For the first two configuration objects: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"(Configuration1 configuration1, Configuration2 configuration2)"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"For the last configuration object: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"(Configuration3 configuration3)"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-99c98e{color:#6A9955}\n.ct-b47124{color:#9CDCFE}\n.ct-2f0dcc{color:#C586C0}\n.ct-f8ac03{color:#DCDCAA}\n.ct-87b0cd{color:#4EC9B0}\n.ct-cdbb19{color:#D4D4D4}\n.ct-987ae8{color:#569CD6}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"conventions","depth":2,"text":"Conventions"},{"id":"adding-phases","depth":2,"text":"Adding Phases","children":[{"id":"initializing-a-phase","depth":3,"text":"Initializing a Phase"},{"id":"readiness-via-dependencies","depth":3,"text":"Readiness via Dependencies"},{"id":"order-of-a-phase","depth":3,"text":"Order of a Phase"}]},{"id":"providing-configuration","depth":2,"text":"Providing Configuration","children":[{"id":"using-non-generic-layerbase","depth":3,"text":"Using non-generic LayerBase"},{"id":"before-and-after-a-phase","depth":3,"text":"Before and After a Phase"},{"id":"providing-multiple-targets","depth":3,"text":"Providing Multiple Targets"}]}]}},"_type":"markdown","_id":"content:architecture:layer.md","_source":"content","_file":"architecture/layer.md","_extension":"md"},{"_path":"/blueprints","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Blueprints","description":"DO consists of many features and layers as separate packages. You are free to\nadd necessary feature and layer packages to your project and forge an\napplication that fits your needs. However, there are also architectural\nblueprints that include a set of layers and features with a default\nconfiguration to allow you to reuse what is commonly needed for an application.","position":1,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"blueprints"},"children":[{"type":"text","value":"Blueprints"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"DO consists of many features and layers as separate packages. You are free to\nadd necessary feature and layer packages to your project and forge an\napplication that fits your needs. However, there are also architectural\nblueprints that include a set of layers and features with a default\nconfiguration to allow you to reuse what is commonly needed for an application."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Each blueprint comes with its own package that references to all the packages\nit uses. This way your application will only need to depend on one blueprint\npackage."}]},{"type":"element","tag":"h2","props":{"id":"forge-using-a-blueprint"},"children":[{"type":"text","value":"Forge Using a Blueprint"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A blueprint comes with an extension to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Forge"}]},{"type":"text","value":" class so that you can reuse it\ndirectly in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Program.cs"}]},{"type":"text","value":". For example, for "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Service"}]},{"type":"text","value":" blueprint following call\nwill be sufficient to forge a service application;"}]},{"type":"element","tag":"code","props":{"code":"Forge.New\n    .Service()\n    .Run();\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-082616"},"children":[{"type":"text","value":"Forge"}]},{"type":"element","tag":"span","props":{"class":"ct-1668fd"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-082616"},"children":[{"type":"text","value":"New\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-1668fd"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-e48865"},"children":[{"type":"text","value":"Service"}]},{"type":"element","tag":"span","props":{"class":"ct-1668fd"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-1668fd"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-e48865"},"children":[{"type":"text","value":"Run"}]},{"type":"element","tag":"span","props":{"class":"ct-1668fd"},"children":[{"type":"text","value":"();"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"configuration"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Blueprints come with as many defaults as they can. For every feature, they\nprovide a parameter in the forge method so that the default behaviour can be\noverridden."}]},{"type":"element","tag":"code","props":{"code":"Forge.New\n    .Service(\n        greeting: c => c.WelcomePage(\"/hi\")\n    )\n    .Run();\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-082616"},"children":[{"type":"text","value":"Forge"}]},{"type":"element","tag":"span","props":{"class":"ct-1668fd"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-082616"},"children":[{"type":"text","value":"New\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-1668fd"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-e48865"},"children":[{"type":"text","value":"Service"}]},{"type":"element","tag":"span","props":{"class":"ct-1668fd"},"children":[{"type":"text","value":"(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-1668fd"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-082616"},"children":[{"type":"text","value":"greeting"}]},{"type":"element","tag":"span","props":{"class":"ct-1668fd"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-082616"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-1668fd"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-082616"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-1668fd"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e48865"},"children":[{"type":"text","value":"WelcomePage"}]},{"type":"element","tag":"span","props":{"class":"ct-1668fd"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1d94ad"},"children":[{"type":"text","value":"\"/hi\""}]},{"type":"element","tag":"span","props":{"class":"ct-1668fd"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-1668fd"},"children":[{"type":"text","value":"    )\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-1668fd"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-e48865"},"children":[{"type":"text","value":"Run"}]},{"type":"element","tag":"span","props":{"class":"ct-1668fd"},"children":[{"type":"text","value":"();"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If a feature cannot have a default configuration, such as a connection\nstring, than that parameter would not have a default value and needs to be\ngiven."}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-1d94ad{color:#CE9178}\n.ct-e48865{color:#DCDCAA}\n.ct-1668fd{color:#D4D4D4}\n.ct-082616{color:#9CDCFE}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"forge-using-a-blueprint","depth":2,"text":"Forge Using a Blueprint"},{"id":"configuration","depth":2,"text":"Configuration"}]}},"_type":"markdown","_id":"content:blueprints:index.md","_source":"content","_file":"blueprints/index.md","_extension":"md"},{"_path":"/blueprints/service","_dir":"blueprints","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Service","description":"Service blueprint will be the default backend blueprint that DO provides. This\nblueprint is under development and will be detailed as it becomes more mature.","position":1,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"service"},"children":[{"type":"text","value":"Service"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Service blueprint will be the default backend blueprint that DO provides. This\nblueprint is under development and will be detailed as it becomes more mature."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Layers in this blueprint are;"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Layers"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Dependency Injection"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Web"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Features with default options are;"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Features"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Default"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Greeting"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Hello World"}]}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:blueprints:service.md","_source":"content","_file":"blueprints/service.md","_extension":"md"},{"_path":"/demo","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Demo","description":"This is a demo page that showcases usages of all types of documentation\ncomponents.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"demo"},"children":[{"type":"text","value":"Demo"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is a demo page that showcases usages of all types of documentation\ncomponents."}]},{"type":"element","tag":"h2","props":{"id":"alert-boxes"},"children":[{"type":"text","value":"Alert Boxes"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":bulb:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"this is tip"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"this is info"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"this is warning"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":x:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"this is error"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"this is pure blockquote"}]}]},{"type":"element","tag":"h3","props":{"id":"long-text"},"children":[{"type":"text","value":"Long Text"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":warning:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod\ntempor incididunt ut labore et dolore magna aliqua. Sit amet venenatis urna\ncursus eget nunc scelerisque viverra. Pellentesque diam volutpat commodo sed\negestas. Odio facilisis mauris sit amet massa vitae. Lectus proin nibh nisl\ncondimentum. Metus aliquam eleifend mi in nulla posuere sollicitudin aliquam.\nVenenatis a condimentum vitae sapien pellentesque habitant morbi tristique.\nUrna porttitor rhoncus dolor purus non. Purus non enim praesent elementum\nfacilisis leo. Id aliquet risus feugiat in ante metus dictum at. Et molestie\nac feugiat sed lectus vestibulum mattis. Vel pretium lectus quam id leo in.\nSed pulvinar proin gravida hendrerit lectus a. Amet mattis vulputate enim\nnulla. Volutpat lacus laoreet non curabitur gravida arcu ac. Vulputate eu\nscelerisque felis imperdiet proin fermentum leo vel orci. Faucibus purus in\nmassa tempor. Ullamcorper dignissim cras tincidunt lobortis feugiat."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sed egestas egestas fringilla phasellus faucibus scelerisque eleifend donec\npretium. Arcu bibendum at varius vel pharetra vel turpis. Faucibus vitae\naliquet nec ullamcorper sit amet. Gravida quis blandit turpis cursus in hac.\nSapien pellentesque habitant morbi tristique. Aliquet lectus proin nibh nisl.\nPosuere ac ut consequat semper viverra nam libero justo laoreet. Turpis\negestas pretium aenean pharetra magna ac. Odio eu feugiat pretium nibh ipsum\nconsequat nisl vel pretium. Ornare arcu dui vivamus arcu. Id neque aliquam\nvestibulum morbi blandit cursus risus at ultrices. Pellentesque nec nam\naliquam sem et tortor consequat id porta."}]}]},{"type":"element","tag":"h2","props":{"id":"code-blocks"},"children":[{"type":"text","value":"Code Blocks"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"code"}]},{"type":"text","value":" within a paragraph."}]},{"type":"element","tag":"code","props":{"code":"public class DoDemo\n{\n    public void SayHello()\n    {\n        Console.WriteLine(\"Hello Do\");\n    }\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-3ec863"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3ec863"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-181892"},"children":[{"type":"text","value":"DoDemo\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3ec863"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3ec863"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ab14ab"},"children":[{"type":"text","value":"SayHello"}]},{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5a91cf"},"children":[{"type":"text","value":"Console"}]},{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ab14ab"},"children":[{"type":"text","value":"WriteLine"}]},{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-68e9db"},"children":[{"type":"text","value":"\"Hello Do\""}]},{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"code-in-header"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"code"}]},{"type":"text","value":" in Header"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":":information_source:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Code in alert box;"}]},{"type":"element","tag":"code","props":{"code":"public class DoDemo\n{\n    public void SayHello()\n    {\n        Console.WriteLine(\"Hello Info Box\");\n    }\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-3ec863"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3ec863"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-181892"},"children":[{"type":"text","value":"DoDemo\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3ec863"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3ec863"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ab14ab"},"children":[{"type":"text","value":"SayHello"}]},{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-5a91cf"},"children":[{"type":"text","value":"Console"}]},{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ab14ab"},"children":[{"type":"text","value":"WriteLine"}]},{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-68e9db"},"children":[{"type":"text","value":"\"Hello Info Box\""}]},{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-7fe0bc"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"diagrams"},"children":[{"type":"text","value":"Diagrams"}]},{"type":"element","tag":"h3","props":{"id":"vertical"},"children":[{"type":"text","value":"Vertical"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"diagram","src":"./demo-1.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"horizontal"},"children":[{"type":"text","value":"Horizontal"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"diagram","src":"./demo-2.png"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"horizontal-ruler"},"children":[{"type":"text","value":"Horizontal Ruler"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"links"},"children":[{"type":"text","value":"Links"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is an "},{"type":"element","tag":"a","props":{"href":"./"},"children":[{"type":"text","value":"internal Link"}]},{"type":"text","value":". This is an "},{"type":"element","tag":"a","props":{"href":"https://github.com/mouseless/do","rel":["nofollow"]},"children":[{"type":"text","value":"external Link"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"lists"},"children":[{"type":"text","value":"Lists"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"This"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"is"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"unordered"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"list"}]}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"This"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"is"},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"ordered"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"list"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"tables"},"children":[{"type":"text","value":"Tables"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Col 1"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Col 2"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Cell 1"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Cell 2"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Cell 3"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Cell 4"}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-68e9db{color:#CE9178}\n.ct-5a91cf{color:#9CDCFE}\n.ct-ab14ab{color:#DCDCAA}\n.ct-181892{color:#4EC9B0}\n.ct-7fe0bc{color:#D4D4D4}\n.ct-3ec863{color:#569CD6}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"alert-boxes","depth":2,"text":"Alert Boxes","children":[{"id":"long-text","depth":3,"text":"Long Text"}]},{"id":"code-blocks","depth":2,"text":"Code Blocks","children":[{"id":"code-in-header","depth":3,"text":"code in Header"}]},{"id":"diagrams","depth":2,"text":"Diagrams","children":[{"id":"vertical","depth":3,"text":"Vertical"},{"id":"horizontal","depth":3,"text":"Horizontal"}]},{"id":"horizontal-ruler","depth":2,"text":"Horizontal Ruler"},{"id":"links","depth":2,"text":"Links"},{"id":"lists","depth":2,"text":"Lists"},{"id":"tables","depth":2,"text":"Tables"}]}},"_type":"markdown","_id":"content:demo.md","_source":"content","_file":"demo.md","_extension":"md"},{"_path":"/features/greeting","_dir":"features","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Greeting","description":"This feature provides a greeting message to show that application is up and\nrunning.","position":1,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"greeting"},"children":[{"type":"text","value":"Greeting"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This feature provides a greeting message to show that application is up and\nrunning."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Add this feature using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AddGreeting()"}]},{"type":"text","value":" extension;"}]},{"type":"element","tag":"code","props":{"code":"app.Features.AddGreeting(...);\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-c1b4c4"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-f91600"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-c1b4c4"},"children":[{"type":"text","value":"Features"}]},{"type":"element","tag":"span","props":{"class":"ct-f91600"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-1ffe7a"},"children":[{"type":"text","value":"AddGreeting"}]},{"type":"element","tag":"span","props":{"class":"ct-f91600"},"children":[{"type":"text","value":"(...);"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"hello-world"},"children":[{"type":"text","value":"Hello World"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Prints hello world at the root path "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"c => c.HelloWorld()\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-c1b4c4"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-f91600"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-c1b4c4"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-f91600"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-1ffe7a"},"children":[{"type":"text","value":"HelloWorld"}]},{"type":"element","tag":"span","props":{"class":"ct-f91600"},"children":[{"type":"text","value":"()"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"welcome-page"},"children":[{"type":"text","value":"Welcome Page"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Adds Microsoft's "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WelcomePage"}]},{"type":"text","value":" extension to the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebApplication"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"c => c.WelcomePage()\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-c1b4c4"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-f91600"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-c1b4c4"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-f91600"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-1ffe7a"},"children":[{"type":"text","value":"WelcomePage"}]},{"type":"element","tag":"span","props":{"class":"ct-f91600"},"children":[{"type":"text","value":"()"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By default it adds the welcome page to root path "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/"}]},{"type":"text","value":". You can provide another\npath to keep the welcome page in;"}]},{"type":"element","tag":"code","props":{"code":"c => c.WelcomePage(\"/hi\")\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-c1b4c4"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-f91600"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-c1b4c4"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-f91600"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-1ffe7a"},"children":[{"type":"text","value":"WelcomePage"}]},{"type":"element","tag":"span","props":{"class":"ct-f91600"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f3d23e"},"children":[{"type":"text","value":"\"/hi\""}]},{"type":"element","tag":"span","props":{"class":"ct-f91600"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"disabled"},"children":[{"type":"text","value":"Disabled"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can disable this feature by calling "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Disabled()"}]},{"type":"text","value":" method;"}]},{"type":"element","tag":"code","props":{"code":"c => c.Disabled()\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-c1b4c4"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-f91600"},"children":[{"type":"text","value":" => "}]},{"type":"element","tag":"span","props":{"class":"ct-c1b4c4"},"children":[{"type":"text","value":"c"}]},{"type":"element","tag":"span","props":{"class":"ct-f91600"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-1ffe7a"},"children":[{"type":"text","value":"Disabled"}]},{"type":"element","tag":"span","props":{"class":"ct-f91600"},"children":[{"type":"text","value":"()"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-f3d23e{color:#CE9178}\n.ct-1ffe7a{color:#DCDCAA}\n.ct-f91600{color:#D4D4D4}\n.ct-c1b4c4{color:#9CDCFE}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"hello-world","depth":2,"text":"Hello World"},{"id":"welcome-page","depth":2,"text":"Welcome Page"},{"id":"disabled","depth":2,"text":"Disabled"}]}},"_type":"markdown","_id":"content:features:greeting.md","_source":"content","_file":"features/greeting.md","_extension":"md"},{"_path":"/features","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Features","description":"Here you can find every feature that has been implemented in DO.","position":2,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"features"},"children":[{"type":"text","value":"Features"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can find every feature that has been implemented in DO."}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:features:index.md","_source":"content","_file":"features/index.md","_extension":"md"},{"_path":"/","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Welcome","description":"There will be a well designed opinionated framework for .NET.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"welcome"},"children":[{"type":"text","value":"Welcome"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There will be a well designed opinionated framework for .NET."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Stay tuned."}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:index.md","_source":"content","_file":"index.md","_extension":"md"},{"_path":"/layers/dependency-injection","_dir":"layers","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Dependency Injection","description":"DO uses the default dependency injection library for now.","position":1,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"dependency-injection"},"children":[{"type":"text","value":"Dependency Injection"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"DO uses the default dependency injection library for now."}]},{"type":"element","tag":"code","props":{"code":"app.AddDependencyInjection();\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-4e7073"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-ff00c0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-c2d470"},"children":[{"type":"text","value":"AddDependencyInjection"}]},{"type":"element","tag":"span","props":{"class":"ct-ff00c0"},"children":[{"type":"text","value":"();"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"configuration-targets"},"children":[{"type":"text","value":"Configuration Targets"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Dependency injection layer provides "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IServiceCollection"}]},{"type":"text","value":" as the only\nconfiguration target."}]},{"type":"element","tag":"h3","props":{"id":"iservicecollection"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IServiceCollection"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This target is provided in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AddServices"}]},{"type":"text","value":" phase. To configure it in a feature;"}]},{"type":"element","tag":"code","props":{"code":"configurator.ConfigureServiceCollection(services =>\n{\n    ...\n});\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-4e7073"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"class":"ct-ff00c0"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-c2d470"},"children":[{"type":"text","value":"ConfigureServiceCollection"}]},{"type":"element","tag":"span","props":{"class":"ct-ff00c0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4e7073"},"children":[{"type":"text","value":"services"}]},{"type":"element","tag":"span","props":{"class":"ct-ff00c0"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-ff00c0"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-ff00c0"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-ff00c0"},"children":[{"type":"text","value":"});"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"phases"},"children":[{"type":"text","value":"Phases"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This layer introduces following phases to the application it is added;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AddServices"}]},{"type":"text","value":": This phase creates a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IServiceCollection"}]},{"type":"text","value":" instance and places\nit in the application context"}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-c2d470{color:#DCDCAA}\n.ct-ff00c0{color:#D4D4D4}\n.ct-4e7073{color:#9CDCFE}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"configuration-targets","depth":2,"text":"Configuration Targets","children":[{"id":"iservicecollection","depth":3,"text":"IServiceCollection"}]},{"id":"phases","depth":2,"text":"Phases"}]}},"_type":"markdown","_id":"content:layers:dependency-injection.md","_source":"content","_file":"layers/dependency-injection.md","_extension":"md"},{"_path":"/layers","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Layers","description":"Here you can find documentation for every layer in DO.","position":3,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"layers"},"children":[{"type":"text","value":"Layers"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here you can find documentation for every layer in DO."}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:layers:index.md","_source":"content","_file":"layers/index.md","_extension":"md"},{"_path":"/layers/web","_dir":"layers","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Web","description":"DO uses ASP.NET Core's WebApplication to build and host a web application.","position":2,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"web"},"children":[{"type":"text","value":"Web"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"DO uses ASP.NET Core's "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebApplication"}]},{"type":"text","value":" to build and host a web application."}]},{"type":"element","tag":"code","props":{"code":"app.AddWeb();\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-3603c6"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-89e6e2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ce03ee"},"children":[{"type":"text","value":"AddWeb"}]},{"type":"element","tag":"span","props":{"class":"ct-89e6e2"},"children":[{"type":"text","value":"();"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"configuration-targets"},"children":[{"type":"text","value":"Configuration Targets"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Web layer provides "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IApplicationBuilder"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IEndpointRouteBuilder"}]},{"type":"text","value":" targets to\nconfigure a web application."}]},{"type":"element","tag":"h3","props":{"id":"iapplicationbuilder"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IApplicationBuilder"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This target is provided in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Build"}]},{"type":"text","value":" phase. To configure it in a feature;"}]},{"type":"element","tag":"code","props":{"code":"configurator.ConfigureApplicationBuilder(app =>\n{\n    ...\n});\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-3603c6"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"class":"ct-89e6e2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ce03ee"},"children":[{"type":"text","value":"ConfigureApplicationBuilder"}]},{"type":"element","tag":"span","props":{"class":"ct-89e6e2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-3603c6"},"children":[{"type":"text","value":"app"}]},{"type":"element","tag":"span","props":{"class":"ct-89e6e2"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-89e6e2"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-89e6e2"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-89e6e2"},"children":[{"type":"text","value":"});"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"iendpointroutebuilder"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IEndpointRouteBuilder"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This target is provided in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Build"}]},{"type":"text","value":" phase right after "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IApplicationBuilder"}]},{"type":"text","value":". To\nconfigure it in a feature;"}]},{"type":"element","tag":"code","props":{"code":"configurator.ConfigureEndpointRouteBuilder(routes =>\n{\n    ...\n});\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-3603c6"},"children":[{"type":"text","value":"configurator"}]},{"type":"element","tag":"span","props":{"class":"ct-89e6e2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ce03ee"},"children":[{"type":"text","value":"ConfigureEndpointRouteBuilder"}]},{"type":"element","tag":"span","props":{"class":"ct-89e6e2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-3603c6"},"children":[{"type":"text","value":"routes"}]},{"type":"element","tag":"span","props":{"class":"ct-89e6e2"},"children":[{"type":"text","value":" =>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-89e6e2"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-89e6e2"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-89e6e2"},"children":[{"type":"text","value":"});"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"phases"},"children":[{"type":"text","value":"Phases"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This layer introduces following phases to the application it is added;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"CreateBuilder"}]},{"type":"text","value":": This phase is the earliest phase in an application which\ncreates a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebApplicationBuilder"}]},{"type":"text","value":" instance to the application context."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Build"}]},{"type":"text","value":": This phase adds all services from dependency injection layer to the\nservices in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebApplicationBuilder"}]},{"type":"text","value":" instance. Then builds the app and adds\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebApplication"}]},{"type":"text","value":" instance to the application context."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Run"}]},{"type":"text","value":": This phase is added internally and is the latest phase in an\napplication. It is not allowed to provide a configuration at this phase since\nit only runs the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WebApplication"}]},{"type":"text","value":" instance in the application context."}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-ce03ee{color:#DCDCAA}\n.ct-89e6e2{color:#D4D4D4}\n.ct-3603c6{color:#9CDCFE}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"configuration-targets","depth":2,"text":"Configuration Targets","children":[{"id":"iapplicationbuilder","depth":3,"text":"IApplicationBuilder"},{"id":"iendpointroutebuilder","depth":3,"text":"IEndpointRouteBuilder"}]},{"id":"phases","depth":2,"text":"Phases"}]}},"_type":"markdown","_id":"content:layers:web.md","_source":"content","_file":"layers/web.md","_extension":"md"},{"_path":"/not-found","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"404","description":"Page Not Found","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"_404"},"children":[{"type":"text","value":"404"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Page Not Found"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:not-found.md","_source":"content","_file":"not-found.md","_extension":"md"},{"_path":"/release-notes","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Release Notes","description":"Releases follow [major].[minor].[patch] Semantic Versioning format;","position":99,"sort":{"by":"title","order":"desc"},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"release-notes"},"children":[{"type":"text","value":"Release Notes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Releases follow "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[major].[minor].[patch]"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://semver.org/","rel":["nofollow"]},"children":[{"type":"text","value":"Semantic Versioning"}]},{"type":"text","value":" format;"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[major]"}]},{"type":"text","value":": This part will only increase with the major .NET releases with no\nbackward compatibility."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[minor]"}]},{"type":"text","value":": This will increase when there is at least one new feature or\nbreaking change."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[patch]"}]},{"type":"text","value":": For release that has only a bugfix or an improvement, patch number\nwill increase."}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:release-notes:index.md","_source":"content","_file":"release-notes/index.md","_extension":"md"},{"_path":"/release-notes/v0-0-0","_dir":"release-notes","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"v0.0.0","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"v000"},"children":[{"type":"text","value":"v0.0.0"}]},{"type":"element","tag":"h2","props":{"id":"packages"},"children":[{"type":"text","value":"Packages"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do.Blueprints.Service"}]},{"type":"text","value":" package is created with literally zero features"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Architecture is documented with initial vision"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Empty solution is created with initial projects that have no code"}]}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"packages","depth":2,"text":"Packages"}]}},"_type":"markdown","_id":"content:release-notes:v0-0-0.md","_source":"content","_file":"release-notes/v0-0-0.md","_extension":"md"},{"_path":"/release-notes/v0-1-0","_dir":"release-notes","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"v0.1.0","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"v010"},"children":[{"type":"text","value":"v0.1.0"}]},{"type":"element","tag":"h2","props":{"id":"packages"},"children":[{"type":"text","value":"Packages"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Do.Architecture"}]},{"type":"text","value":" package is introduced. This package exposes core "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"feature"}]},{"type":"text","value":"\nand "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"layer"}]},{"type":"text","value":" system that is mentioned in\n"},{"type":"element","tag":"a","props":{"href":"../architecture/"},"children":[{"type":"text","value":"Architecture"}]},{"type":"text","value":" section"}]}]},{"type":"element","tag":"h2","props":{"id":"features"},"children":[{"type":"text","value":"Features"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"DependencyInjection"}]},{"type":"text","value":" layer is added, you can now configure\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IServiceCollection"}]},{"type":"text","value":" in features"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Web"}]},{"type":"text","value":" layer is added, you can now configure "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IApplicationBuilder"}]},{"type":"text","value":" and\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IEndpointRouteBuilder"}]},{"type":"text","value":" in features"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Greeting"}]},{"type":"text","value":" feature is added with two implementations "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"HelloWorld"}]},{"type":"text","value":" and\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WelcomePage"}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"packages","depth":2,"text":"Packages"},{"id":"features","depth":2,"text":"Features"}]}},"_type":"markdown","_id":"content:release-notes:v0-1-0.md","_source":"content","_file":"release-notes/v0-1-0.md","_extension":"md"}],"navigation":[{"title":"Architecture","_path":"/architecture","children":[{"title":"Application","_path":"/architecture/application"},{"title":"Feature","_path":"/architecture/feature"},{"title":"Architecture","_path":"/architecture"},{"title":"Layer","_path":"/architecture/layer"}]},{"title":"Blueprints","_path":"/blueprints","children":[{"title":"Blueprints","_path":"/blueprints"},{"title":"Service","_path":"/blueprints/service"}]},{"title":"Demo","_path":"/demo"},{"title":"Features","_path":"/features","children":[{"title":"Greeting","_path":"/features/greeting"},{"title":"Features","_path":"/features"}]},{"title":"Welcome","_path":"/"},{"title":"Layers","_path":"/layers","children":[{"title":"Dependency Injection","_path":"/layers/dependency-injection"},{"title":"Layers","_path":"/layers"},{"title":"Web","_path":"/layers/web"}]},{"title":"404","_path":"/not-found"},{"title":"Release Notes","_path":"/release-notes","children":[{"title":"Release Notes","_path":"/release-notes"},{"title":"v0.0.0","_path":"/release-notes/v0-0-0"},{"title":"v0.1.0","_path":"/release-notes/v0-1-0"}]}]}