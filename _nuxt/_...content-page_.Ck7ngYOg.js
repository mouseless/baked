import w from"./ContentRenderer.LasEztlz.js";import C from"./BottomNavigation.C2SaquGl.js";import $ from"./Toc.BB_oTI75.js";import B from"./ContentDoc.mEWMJIe9.js";import{q as l}from"./query.BVNY6VFl.js";import{a as P}from"./applyOrder.of5sZTY8.js";import{_ as q,u as y,f,g as N,h as k,w as h,o as O,a as d,b as p}from"./entry.B_MSAwpk.js";import{u as R}from"./pageStore.BTXBy2oe.js";import"./ContentRendererMarkdown.vue.Cs2cDn5D.js";import"./index.BsYmvPZw.js";import"./preview.R8UpMTsv.js";import"./nuxt-link.BzN6uv54.js";import"./vue.f36acd1f.DnTYEmir.js";import"./ContentQuery.CJehwB6R.js";import"./asyncData.Bhu5RYeQ.js";const S={class:"container"},T={class:"content"},V={__name:"[...content-page]",async setup(A){let t,r;const a=`/${y().path.split("/")[1]}`,g=R(),o=([t,r]=f(()=>l(a).where({_path:{$eq:a}}).only(["_path","title","pages","sort"]).findOne()),t=await t,r(),t),i=([t,r]=f(()=>l(a).where({_path:{$ne:a}}).only(["_path","title"]).find()),t=await t,r(),t);o.pages?P(i,e=>`${o._path}/${o.pages[e]}`):i.sort((e,s)=>v(e,s,o.sort)),o._path=N(o._path);const x=a==="/"?[o]:[o,...i];g.setPages(x);function v(e,s,{by:n,order:_}={}){n||(n="title"),_||(_="asc");const c=_==="asc"?1:-1;return e[n]<s[n]?-1*c:e[n]>s[n]?1*c:0}return(e,s)=>{const n=w,_=C,c=$,m=B;return O(),k(m,null,{default:h(({doc:u})=>[d("div",S,[d("div",T,[p(n,{value:u,class:"toc-root"},null,8,["value"]),p(_)]),p(c,{value:u.body.toc},null,8,["value"])])]),"not-found":h(()=>[p(m,{path:"/not-found",head:!1})]),_:1})}}},Y=q(V,[["__scopeId","data-v-b90ae7fa"]]);export{Y as default};
