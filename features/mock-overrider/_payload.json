[{"data":1,"prerenderedAt":733},["Reactive",2],{"content-query-usTpRY5GLh":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"_empty":6,"title":8,"description":9,"body":10,"_type":728,"_id":729,"_source":730,"_file":731,"_extension":732},"/features/mock-overrider","features",false,"","Mock Overrider","This feature provides an overrider mechanism for overriding default components\nregistered in IServiceColleciton.",{"type":11,"children":12,"toc":725},"root",[13,21,35,47,98,105,124,349,361,720],{"type":14,"tag":15,"props":16,"children":18},"element","h1",{"id":17},"mock-overrider",[19],{"type":20,"value":8},"text",{"type":14,"tag":22,"props":23,"children":24},"p",{},[25,27,33],{"type":20,"value":26},"This feature provides an overrider mechanism for overriding default components\nregistered in ",{"type":14,"tag":28,"props":29,"children":30},"code-inline",{},[31],{"type":20,"value":32},"IServiceColleciton",{"type":20,"value":34},".",{"type":14,"tag":22,"props":36,"children":37},{},[38,40,45],{"type":20,"value":39},"Add this feature using ",{"type":14,"tag":28,"props":41,"children":42},{},[43],{"type":20,"value":44},"AddMockOverrrider()",{"type":20,"value":46}," extension;",{"type":14,"tag":48,"props":49,"children":53},"code",{"code":50,"language":51,"meta":52},"app.Features.AddMockOverrider(...);\n","csharp",null,[54],{"type":14,"tag":55,"props":56,"children":57},"pre",{},[58],{"type":14,"tag":48,"props":59,"children":60},{"__ignoreMap":7},[61],{"type":14,"tag":62,"props":63,"children":66},"span",{"class":64,"line":65},"line",1,[67,73,78,83,87,93],{"type":14,"tag":62,"props":68,"children":70},{"class":69},"ct-4f1b81",[71],{"type":20,"value":72},"app",{"type":14,"tag":62,"props":74,"children":76},{"class":75},"ct-c60042",[77],{"type":20,"value":34},{"type":14,"tag":62,"props":79,"children":80},{"class":69},[81],{"type":20,"value":82},"Features",{"type":14,"tag":62,"props":84,"children":85},{"class":75},[86],{"type":20,"value":34},{"type":14,"tag":62,"props":88,"children":90},{"class":89},"ct-7c15b9",[91],{"type":20,"value":92},"AddMockOverrider",{"type":14,"tag":62,"props":94,"children":95},{"class":75},[96],{"type":20,"value":97},"(...);",{"type":14,"tag":99,"props":100,"children":102},"h2",{"id":101},"first-interface",[103],{"type":20,"value":104},"First Interface",{"type":14,"tag":22,"props":106,"children":107},{},[108,110,115,117,122],{"type":20,"value":109},"This feature implementation provides a ",{"type":14,"tag":28,"props":111,"children":112},{},[113],{"type":20,"value":114},"IMockOverrider",{"type":20,"value":116},"implementation which\noverrides components with mocks added to ",{"type":14,"tag":28,"props":118,"children":119},{},[120],{"type":20,"value":121},"MockDescriptor",{"type":20,"value":123}," collection\naccording to their type's first interface.",{"type":14,"tag":48,"props":125,"children":127},{"code":126,"language":51,"meta":52},"public class MockOverrider{\n\n    ...\n\n    public void Override(object mocked)\n    {\n        _overrides.TryAdd(mocked.GetType().GetInterfaces().First(), mocked);\n    }\n}\n",[128],{"type":14,"tag":55,"props":129,"children":130},{},[131],{"type":14,"tag":48,"props":132,"children":133},{"__ignoreMap":7},[134,168,177,186,194,249,258,331,340],{"type":14,"tag":62,"props":135,"children":136},{"class":64,"line":65},[137,143,148,153,157,163],{"type":14,"tag":62,"props":138,"children":140},{"class":139},"ct-b667b2",[141],{"type":20,"value":142},"public",{"type":14,"tag":62,"props":144,"children":145},{"class":75},[146],{"type":20,"value":147}," ",{"type":14,"tag":62,"props":149,"children":150},{"class":139},[151],{"type":20,"value":152},"class",{"type":14,"tag":62,"props":154,"children":155},{"class":75},[156],{"type":20,"value":147},{"type":14,"tag":62,"props":158,"children":160},{"class":159},"ct-161e8b",[161],{"type":20,"value":162},"MockOverrider",{"type":14,"tag":62,"props":164,"children":165},{"class":75},[166],{"type":20,"value":167},"{\n",{"type":14,"tag":62,"props":169,"children":171},{"class":64,"line":170},2,[172],{"type":14,"tag":62,"props":173,"children":174},{},[175],{"type":20,"value":176},"\n",{"type":14,"tag":62,"props":178,"children":180},{"class":64,"line":179},3,[181],{"type":14,"tag":62,"props":182,"children":183},{"class":75},[184],{"type":20,"value":185},"    ...\n",{"type":14,"tag":62,"props":187,"children":189},{"class":64,"line":188},4,[190],{"type":14,"tag":62,"props":191,"children":192},{},[193],{"type":20,"value":176},{"type":14,"tag":62,"props":195,"children":197},{"class":64,"line":196},5,[198,203,207,211,216,220,225,230,235,239,244],{"type":14,"tag":62,"props":199,"children":200},{"class":75},[201],{"type":20,"value":202},"    ",{"type":14,"tag":62,"props":204,"children":205},{"class":139},[206],{"type":20,"value":142},{"type":14,"tag":62,"props":208,"children":209},{"class":75},[210],{"type":20,"value":147},{"type":14,"tag":62,"props":212,"children":213},{"class":139},[214],{"type":20,"value":215},"void",{"type":14,"tag":62,"props":217,"children":218},{"class":75},[219],{"type":20,"value":147},{"type":14,"tag":62,"props":221,"children":222},{"class":89},[223],{"type":20,"value":224},"Override",{"type":14,"tag":62,"props":226,"children":227},{"class":75},[228],{"type":20,"value":229},"(",{"type":14,"tag":62,"props":231,"children":232},{"class":139},[233],{"type":20,"value":234},"object",{"type":14,"tag":62,"props":236,"children":237},{"class":75},[238],{"type":20,"value":147},{"type":14,"tag":62,"props":240,"children":241},{"class":69},[242],{"type":20,"value":243},"mocked",{"type":14,"tag":62,"props":245,"children":246},{"class":75},[247],{"type":20,"value":248},")\n",{"type":14,"tag":62,"props":250,"children":252},{"class":64,"line":251},6,[253],{"type":14,"tag":62,"props":254,"children":255},{"class":75},[256],{"type":20,"value":257},"    {\n",{"type":14,"tag":62,"props":259,"children":261},{"class":64,"line":260},7,[262,267,272,276,281,285,289,293,298,303,308,312,317,322,326],{"type":14,"tag":62,"props":263,"children":264},{"class":75},[265],{"type":20,"value":266},"        ",{"type":14,"tag":62,"props":268,"children":269},{"class":69},[270],{"type":20,"value":271},"_overrides",{"type":14,"tag":62,"props":273,"children":274},{"class":75},[275],{"type":20,"value":34},{"type":14,"tag":62,"props":277,"children":278},{"class":89},[279],{"type":20,"value":280},"TryAdd",{"type":14,"tag":62,"props":282,"children":283},{"class":75},[284],{"type":20,"value":229},{"type":14,"tag":62,"props":286,"children":287},{"class":69},[288],{"type":20,"value":243},{"type":14,"tag":62,"props":290,"children":291},{"class":75},[292],{"type":20,"value":34},{"type":14,"tag":62,"props":294,"children":295},{"class":89},[296],{"type":20,"value":297},"GetType",{"type":14,"tag":62,"props":299,"children":300},{"class":75},[301],{"type":20,"value":302},"().",{"type":14,"tag":62,"props":304,"children":305},{"class":89},[306],{"type":20,"value":307},"GetInterfaces",{"type":14,"tag":62,"props":309,"children":310},{"class":75},[311],{"type":20,"value":302},{"type":14,"tag":62,"props":313,"children":314},{"class":89},[315],{"type":20,"value":316},"First",{"type":14,"tag":62,"props":318,"children":319},{"class":75},[320],{"type":20,"value":321},"(), ",{"type":14,"tag":62,"props":323,"children":324},{"class":69},[325],{"type":20,"value":243},{"type":14,"tag":62,"props":327,"children":328},{"class":75},[329],{"type":20,"value":330},");\n",{"type":14,"tag":62,"props":332,"children":334},{"class":64,"line":333},8,[335],{"type":14,"tag":62,"props":336,"children":337},{"class":75},[338],{"type":20,"value":339},"    }\n",{"type":14,"tag":62,"props":341,"children":343},{"class":64,"line":342},9,[344],{"type":14,"tag":62,"props":345,"children":346},{"class":75},[347],{"type":20,"value":348},"}",{"type":14,"tag":22,"props":350,"children":351},{},[352,354,359],{"type":20,"value":353},"Than all components are added to service collection during ",{"type":14,"tag":28,"props":355,"children":356},{},[357],{"type":20,"value":358},"AddServices",{"type":20,"value":360}," phase of\ntesting layer.",{"type":14,"tag":48,"props":362,"children":364},{"code":363,"language":51,"meta":52},"foreach (var mock in _configuration.Mocks)\n{\n    if (mock.Singleton)\n    {\n        services.AddSingleton(mock.Type, sp => _configuration.MockFactory.Create(sp, mock));\n    }\n    else\n    {\n        services.AddTransient(mock.Type, sp => _configuration.MockFactory.Create(sp, mock));\n    }\n}\n",[365],{"type":14,"tag":55,"props":366,"children":367},{},[368],{"type":14,"tag":48,"props":369,"children":370},{"__ignoreMap":7},[371,430,437,470,477,582,589,601,608,704,712],{"type":14,"tag":62,"props":372,"children":373},{"class":64,"line":65},[374,380,385,390,394,399,403,408,412,417,421,426],{"type":14,"tag":62,"props":375,"children":377},{"class":376},"ct-7abaef",[378],{"type":20,"value":379},"foreach",{"type":14,"tag":62,"props":381,"children":382},{"class":75},[383],{"type":20,"value":384}," (",{"type":14,"tag":62,"props":386,"children":387},{"class":139},[388],{"type":20,"value":389},"var",{"type":14,"tag":62,"props":391,"children":392},{"class":75},[393],{"type":20,"value":147},{"type":14,"tag":62,"props":395,"children":396},{"class":69},[397],{"type":20,"value":398},"mock",{"type":14,"tag":62,"props":400,"children":401},{"class":75},[402],{"type":20,"value":147},{"type":14,"tag":62,"props":404,"children":405},{"class":376},[406],{"type":20,"value":407},"in",{"type":14,"tag":62,"props":409,"children":410},{"class":75},[411],{"type":20,"value":147},{"type":14,"tag":62,"props":413,"children":414},{"class":69},[415],{"type":20,"value":416},"_configuration",{"type":14,"tag":62,"props":418,"children":419},{"class":75},[420],{"type":20,"value":34},{"type":14,"tag":62,"props":422,"children":423},{"class":69},[424],{"type":20,"value":425},"Mocks",{"type":14,"tag":62,"props":427,"children":428},{"class":75},[429],{"type":20,"value":248},{"type":14,"tag":62,"props":431,"children":432},{"class":64,"line":170},[433],{"type":14,"tag":62,"props":434,"children":435},{"class":75},[436],{"type":20,"value":167},{"type":14,"tag":62,"props":438,"children":439},{"class":64,"line":179},[440,444,449,453,457,461,466],{"type":14,"tag":62,"props":441,"children":442},{"class":75},[443],{"type":20,"value":202},{"type":14,"tag":62,"props":445,"children":446},{"class":376},[447],{"type":20,"value":448},"if",{"type":14,"tag":62,"props":450,"children":451},{"class":75},[452],{"type":20,"value":384},{"type":14,"tag":62,"props":454,"children":455},{"class":69},[456],{"type":20,"value":398},{"type":14,"tag":62,"props":458,"children":459},{"class":75},[460],{"type":20,"value":34},{"type":14,"tag":62,"props":462,"children":463},{"class":69},[464],{"type":20,"value":465},"Singleton",{"type":14,"tag":62,"props":467,"children":468},{"class":75},[469],{"type":20,"value":248},{"type":14,"tag":62,"props":471,"children":472},{"class":64,"line":188},[473],{"type":14,"tag":62,"props":474,"children":475},{"class":75},[476],{"type":20,"value":257},{"type":14,"tag":62,"props":478,"children":479},{"class":64,"line":196},[480,484,489,493,498,502,506,510,515,520,525,529,535,539,543,547,552,556,561,565,569,573,577],{"type":14,"tag":62,"props":481,"children":482},{"class":75},[483],{"type":20,"value":266},{"type":14,"tag":62,"props":485,"children":486},{"class":69},[487],{"type":20,"value":488},"services",{"type":14,"tag":62,"props":490,"children":491},{"class":75},[492],{"type":20,"value":34},{"type":14,"tag":62,"props":494,"children":495},{"class":89},[496],{"type":20,"value":497},"AddSingleton",{"type":14,"tag":62,"props":499,"children":500},{"class":75},[501],{"type":20,"value":229},{"type":14,"tag":62,"props":503,"children":504},{"class":69},[505],{"type":20,"value":398},{"type":14,"tag":62,"props":507,"children":508},{"class":75},[509],{"type":20,"value":34},{"type":14,"tag":62,"props":511,"children":512},{"class":69},[513],{"type":20,"value":514},"Type",{"type":14,"tag":62,"props":516,"children":517},{"class":75},[518],{"type":20,"value":519},", ",{"type":14,"tag":62,"props":521,"children":522},{"class":69},[523],{"type":20,"value":524},"sp",{"type":14,"tag":62,"props":526,"children":527},{"class":75},[528],{"type":20,"value":147},{"type":14,"tag":62,"props":530,"children":532},{"class":531},"ct-35387c",[533],{"type":20,"value":534},"=>",{"type":14,"tag":62,"props":536,"children":537},{"class":75},[538],{"type":20,"value":147},{"type":14,"tag":62,"props":540,"children":541},{"class":69},[542],{"type":20,"value":416},{"type":14,"tag":62,"props":544,"children":545},{"class":75},[546],{"type":20,"value":34},{"type":14,"tag":62,"props":548,"children":549},{"class":69},[550],{"type":20,"value":551},"MockFactory",{"type":14,"tag":62,"props":553,"children":554},{"class":75},[555],{"type":20,"value":34},{"type":14,"tag":62,"props":557,"children":558},{"class":89},[559],{"type":20,"value":560},"Create",{"type":14,"tag":62,"props":562,"children":563},{"class":75},[564],{"type":20,"value":229},{"type":14,"tag":62,"props":566,"children":567},{"class":69},[568],{"type":20,"value":524},{"type":14,"tag":62,"props":570,"children":571},{"class":75},[572],{"type":20,"value":519},{"type":14,"tag":62,"props":574,"children":575},{"class":69},[576],{"type":20,"value":398},{"type":14,"tag":62,"props":578,"children":579},{"class":75},[580],{"type":20,"value":581},"));\n",{"type":14,"tag":62,"props":583,"children":584},{"class":64,"line":251},[585],{"type":14,"tag":62,"props":586,"children":587},{"class":75},[588],{"type":20,"value":339},{"type":14,"tag":62,"props":590,"children":591},{"class":64,"line":260},[592,596],{"type":14,"tag":62,"props":593,"children":594},{"class":75},[595],{"type":20,"value":202},{"type":14,"tag":62,"props":597,"children":598},{"class":376},[599],{"type":20,"value":600},"else\n",{"type":14,"tag":62,"props":602,"children":603},{"class":64,"line":333},[604],{"type":14,"tag":62,"props":605,"children":606},{"class":75},[607],{"type":20,"value":257},{"type":14,"tag":62,"props":609,"children":610},{"class":64,"line":342},[611,615,619,623,628,632,636,640,644,648,652,656,660,664,668,672,676,680,684,688,692,696,700],{"type":14,"tag":62,"props":612,"children":613},{"class":75},[614],{"type":20,"value":266},{"type":14,"tag":62,"props":616,"children":617},{"class":69},[618],{"type":20,"value":488},{"type":14,"tag":62,"props":620,"children":621},{"class":75},[622],{"type":20,"value":34},{"type":14,"tag":62,"props":624,"children":625},{"class":89},[626],{"type":20,"value":627},"AddTransient",{"type":14,"tag":62,"props":629,"children":630},{"class":75},[631],{"type":20,"value":229},{"type":14,"tag":62,"props":633,"children":634},{"class":69},[635],{"type":20,"value":398},{"type":14,"tag":62,"props":637,"children":638},{"class":75},[639],{"type":20,"value":34},{"type":14,"tag":62,"props":641,"children":642},{"class":69},[643],{"type":20,"value":514},{"type":14,"tag":62,"props":645,"children":646},{"class":75},[647],{"type":20,"value":519},{"type":14,"tag":62,"props":649,"children":650},{"class":69},[651],{"type":20,"value":524},{"type":14,"tag":62,"props":653,"children":654},{"class":75},[655],{"type":20,"value":147},{"type":14,"tag":62,"props":657,"children":658},{"class":531},[659],{"type":20,"value":534},{"type":14,"tag":62,"props":661,"children":662},{"class":75},[663],{"type":20,"value":147},{"type":14,"tag":62,"props":665,"children":666},{"class":69},[667],{"type":20,"value":416},{"type":14,"tag":62,"props":669,"children":670},{"class":75},[671],{"type":20,"value":34},{"type":14,"tag":62,"props":673,"children":674},{"class":69},[675],{"type":20,"value":551},{"type":14,"tag":62,"props":677,"children":678},{"class":75},[679],{"type":20,"value":34},{"type":14,"tag":62,"props":681,"children":682},{"class":89},[683],{"type":20,"value":560},{"type":14,"tag":62,"props":685,"children":686},{"class":75},[687],{"type":20,"value":229},{"type":14,"tag":62,"props":689,"children":690},{"class":69},[691],{"type":20,"value":524},{"type":14,"tag":62,"props":693,"children":694},{"class":75},[695],{"type":20,"value":519},{"type":14,"tag":62,"props":697,"children":698},{"class":69},[699],{"type":20,"value":398},{"type":14,"tag":62,"props":701,"children":702},{"class":75},[703],{"type":20,"value":581},{"type":14,"tag":62,"props":705,"children":707},{"class":64,"line":706},10,[708],{"type":14,"tag":62,"props":709,"children":710},{"class":75},[711],{"type":20,"value":339},{"type":14,"tag":62,"props":713,"children":715},{"class":64,"line":714},11,[716],{"type":14,"tag":62,"props":717,"children":718},{"class":75},[719],{"type":20,"value":348},{"type":14,"tag":721,"children":722},"style",[723],{"type":20,"value":724},".ct-35387c{color:#D4D4D4}\n.ct-7abaef{color:#C586C0}\n.ct-161e8b{color:#4EC9B0}\n.ct-b667b2{color:#569CD6}\n.ct-7c15b9{color:#DCDCAA}\n.ct-c60042{color:#E6E6E6}\n.ct-4f1b81{color:#9CDCFE}",{"title":7,"searchDepth":170,"depth":170,"links":726},[727],{"id":101,"depth":170,"text":104},"markdown","content:features:mock-overrider.md","content","features/mock-overrider.md","md",1697013455590]