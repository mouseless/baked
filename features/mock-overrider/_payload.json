[{"data":1,"prerenderedAt":716},["Reactive",2],{"content-query-usTpRY5GLh":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"_empty":6,"title":8,"description":9,"body":10,"_type":711,"_id":712,"_source":713,"_file":714,"_extension":715},"/features/mock-overrider","features",false,"","Mock Overrider","This feature provides an overrider mechanism for overriding default components\nregistered in IServiceColleciton.",{"type":11,"children":12,"toc":708},"root",[13,21,35,47,98,105,124,349,361,703],{"type":14,"tag":15,"props":16,"children":18},"element","h1",{"id":17},"mock-overrider",[19],{"type":20,"value":8},"text",{"type":14,"tag":22,"props":23,"children":24},"p",{},[25,27,33],{"type":20,"value":26},"This feature provides an overrider mechanism for overriding default components\nregistered in ",{"type":14,"tag":28,"props":29,"children":30},"code-inline",{},[31],{"type":20,"value":32},"IServiceColleciton",{"type":20,"value":34},".",{"type":14,"tag":22,"props":36,"children":37},{},[38,40,45],{"type":20,"value":39},"Add this feature using ",{"type":14,"tag":28,"props":41,"children":42},{},[43],{"type":20,"value":44},"AddMockOverrrider()",{"type":20,"value":46}," extension;",{"type":14,"tag":48,"props":49,"children":53},"code",{"code":50,"language":51,"meta":52},"app.Features.AddMockOverrider(...);\n","csharp",null,[54],{"type":14,"tag":55,"props":56,"children":57},"pre",{},[58],{"type":14,"tag":48,"props":59,"children":60},{"__ignoreMap":7},[61],{"type":14,"tag":62,"props":63,"children":66},"span",{"class":64,"line":65},"line",1,[67,73,78,83,87,93],{"type":14,"tag":62,"props":68,"children":70},{"class":69},"ct-03f1bd",[71],{"type":20,"value":72},"app",{"type":14,"tag":62,"props":74,"children":76},{"class":75},"ct-75f663",[77],{"type":20,"value":34},{"type":14,"tag":62,"props":79,"children":80},{"class":69},[81],{"type":20,"value":82},"Features",{"type":14,"tag":62,"props":84,"children":85},{"class":75},[86],{"type":20,"value":34},{"type":14,"tag":62,"props":88,"children":90},{"class":89},"ct-aa4c01",[91],{"type":20,"value":92},"AddMockOverrider",{"type":14,"tag":62,"props":94,"children":95},{"class":75},[96],{"type":20,"value":97},"(...);",{"type":14,"tag":99,"props":100,"children":102},"h2",{"id":101},"first-interface",[103],{"type":20,"value":104},"First Interface",{"type":14,"tag":22,"props":106,"children":107},{},[108,110,115,117,122],{"type":20,"value":109},"This feature implementation provides a ",{"type":14,"tag":28,"props":111,"children":112},{},[113],{"type":20,"value":114},"IMockOverrider",{"type":20,"value":116},"implementation which\noverrides components with mocks added to ",{"type":14,"tag":28,"props":118,"children":119},{},[120],{"type":20,"value":121},"MockDescriptor",{"type":20,"value":123}," collection\naccording to their type's first interface.",{"type":14,"tag":48,"props":125,"children":127},{"code":126,"language":51,"meta":52},"public class MockOverrider{\n\n    ...\n\n    public void Override(object mocked)\n    {\n        _overrides.TryAdd(mocked.GetType().GetInterfaces().First(), mocked);\n    }\n}\n",[128],{"type":14,"tag":55,"props":129,"children":130},{},[131],{"type":14,"tag":48,"props":132,"children":133},{"__ignoreMap":7},[134,168,177,186,194,249,258,331,340],{"type":14,"tag":62,"props":135,"children":136},{"class":64,"line":65},[137,143,148,153,157,163],{"type":14,"tag":62,"props":138,"children":140},{"class":139},"ct-21e939",[141],{"type":20,"value":142},"public",{"type":14,"tag":62,"props":144,"children":145},{"class":75},[146],{"type":20,"value":147}," ",{"type":14,"tag":62,"props":149,"children":150},{"class":139},[151],{"type":20,"value":152},"class",{"type":14,"tag":62,"props":154,"children":155},{"class":75},[156],{"type":20,"value":147},{"type":14,"tag":62,"props":158,"children":160},{"class":159},"ct-ae8af2",[161],{"type":20,"value":162},"MockOverrider",{"type":14,"tag":62,"props":164,"children":165},{"class":75},[166],{"type":20,"value":167},"{\n",{"type":14,"tag":62,"props":169,"children":171},{"class":64,"line":170},2,[172],{"type":14,"tag":62,"props":173,"children":174},{},[175],{"type":20,"value":176},"\n",{"type":14,"tag":62,"props":178,"children":180},{"class":64,"line":179},3,[181],{"type":14,"tag":62,"props":182,"children":183},{"class":75},[184],{"type":20,"value":185},"    ...\n",{"type":14,"tag":62,"props":187,"children":189},{"class":64,"line":188},4,[190],{"type":14,"tag":62,"props":191,"children":192},{},[193],{"type":20,"value":176},{"type":14,"tag":62,"props":195,"children":197},{"class":64,"line":196},5,[198,203,207,211,216,220,225,230,235,239,244],{"type":14,"tag":62,"props":199,"children":200},{"class":75},[201],{"type":20,"value":202},"    ",{"type":14,"tag":62,"props":204,"children":205},{"class":139},[206],{"type":20,"value":142},{"type":14,"tag":62,"props":208,"children":209},{"class":75},[210],{"type":20,"value":147},{"type":14,"tag":62,"props":212,"children":213},{"class":139},[214],{"type":20,"value":215},"void",{"type":14,"tag":62,"props":217,"children":218},{"class":75},[219],{"type":20,"value":147},{"type":14,"tag":62,"props":221,"children":222},{"class":89},[223],{"type":20,"value":224},"Override",{"type":14,"tag":62,"props":226,"children":227},{"class":75},[228],{"type":20,"value":229},"(",{"type":14,"tag":62,"props":231,"children":232},{"class":139},[233],{"type":20,"value":234},"object",{"type":14,"tag":62,"props":236,"children":237},{"class":75},[238],{"type":20,"value":147},{"type":14,"tag":62,"props":240,"children":241},{"class":69},[242],{"type":20,"value":243},"mocked",{"type":14,"tag":62,"props":245,"children":246},{"class":75},[247],{"type":20,"value":248},")\n",{"type":14,"tag":62,"props":250,"children":252},{"class":64,"line":251},6,[253],{"type":14,"tag":62,"props":254,"children":255},{"class":75},[256],{"type":20,"value":257},"    {\n",{"type":14,"tag":62,"props":259,"children":261},{"class":64,"line":260},7,[262,267,272,276,281,285,289,293,298,303,308,312,317,322,326],{"type":14,"tag":62,"props":263,"children":264},{"class":75},[265],{"type":20,"value":266},"        ",{"type":14,"tag":62,"props":268,"children":269},{"class":69},[270],{"type":20,"value":271},"_overrides",{"type":14,"tag":62,"props":273,"children":274},{"class":75},[275],{"type":20,"value":34},{"type":14,"tag":62,"props":277,"children":278},{"class":89},[279],{"type":20,"value":280},"TryAdd",{"type":14,"tag":62,"props":282,"children":283},{"class":75},[284],{"type":20,"value":229},{"type":14,"tag":62,"props":286,"children":287},{"class":69},[288],{"type":20,"value":243},{"type":14,"tag":62,"props":290,"children":291},{"class":75},[292],{"type":20,"value":34},{"type":14,"tag":62,"props":294,"children":295},{"class":89},[296],{"type":20,"value":297},"GetType",{"type":14,"tag":62,"props":299,"children":300},{"class":75},[301],{"type":20,"value":302},"().",{"type":14,"tag":62,"props":304,"children":305},{"class":89},[306],{"type":20,"value":307},"GetInterfaces",{"type":14,"tag":62,"props":309,"children":310},{"class":75},[311],{"type":20,"value":302},{"type":14,"tag":62,"props":313,"children":314},{"class":89},[315],{"type":20,"value":316},"First",{"type":14,"tag":62,"props":318,"children":319},{"class":75},[320],{"type":20,"value":321},"(), ",{"type":14,"tag":62,"props":323,"children":324},{"class":69},[325],{"type":20,"value":243},{"type":14,"tag":62,"props":327,"children":328},{"class":75},[329],{"type":20,"value":330},");\n",{"type":14,"tag":62,"props":332,"children":334},{"class":64,"line":333},8,[335],{"type":14,"tag":62,"props":336,"children":337},{"class":75},[338],{"type":20,"value":339},"    }\n",{"type":14,"tag":62,"props":341,"children":343},{"class":64,"line":342},9,[344],{"type":14,"tag":62,"props":345,"children":346},{"class":75},[347],{"type":20,"value":348},"}",{"type":14,"tag":22,"props":350,"children":351},{},[352,354,359],{"type":20,"value":353},"Than all components are added to service collection during ",{"type":14,"tag":28,"props":355,"children":356},{},[357],{"type":20,"value":358},"AddServices",{"type":20,"value":360}," phase of\ntesting layer.",{"type":14,"tag":48,"props":362,"children":364},{"code":363,"language":51,"meta":52},"foreach (var mock in _configuration.Mocks)\n{\n    if (mock.Singleton)\n    {\n        services.AddSingleton(mock.Type, sp => _configuration.MockFactory.Create(sp, mock));\n    }\n    else\n    {\n        services.AddTransient(mock.Type, sp => _configuration.MockFactory.Create(sp, mock));\n    }\n}\n",[365],{"type":14,"tag":55,"props":366,"children":367},{},[368],{"type":14,"tag":48,"props":369,"children":370},{"__ignoreMap":7},[371,430,437,470,477,573,580,592,599,687,695],{"type":14,"tag":62,"props":372,"children":373},{"class":64,"line":65},[374,380,385,390,394,399,403,408,412,417,421,426],{"type":14,"tag":62,"props":375,"children":377},{"class":376},"ct-37237f",[378],{"type":20,"value":379},"foreach",{"type":14,"tag":62,"props":381,"children":382},{"class":75},[383],{"type":20,"value":384}," (",{"type":14,"tag":62,"props":386,"children":387},{"class":139},[388],{"type":20,"value":389},"var",{"type":14,"tag":62,"props":391,"children":392},{"class":75},[393],{"type":20,"value":147},{"type":14,"tag":62,"props":395,"children":396},{"class":69},[397],{"type":20,"value":398},"mock",{"type":14,"tag":62,"props":400,"children":401},{"class":75},[402],{"type":20,"value":147},{"type":14,"tag":62,"props":404,"children":405},{"class":376},[406],{"type":20,"value":407},"in",{"type":14,"tag":62,"props":409,"children":410},{"class":75},[411],{"type":20,"value":147},{"type":14,"tag":62,"props":413,"children":414},{"class":69},[415],{"type":20,"value":416},"_configuration",{"type":14,"tag":62,"props":418,"children":419},{"class":75},[420],{"type":20,"value":34},{"type":14,"tag":62,"props":422,"children":423},{"class":69},[424],{"type":20,"value":425},"Mocks",{"type":14,"tag":62,"props":427,"children":428},{"class":75},[429],{"type":20,"value":248},{"type":14,"tag":62,"props":431,"children":432},{"class":64,"line":170},[433],{"type":14,"tag":62,"props":434,"children":435},{"class":75},[436],{"type":20,"value":167},{"type":14,"tag":62,"props":438,"children":439},{"class":64,"line":179},[440,444,449,453,457,461,466],{"type":14,"tag":62,"props":441,"children":442},{"class":75},[443],{"type":20,"value":202},{"type":14,"tag":62,"props":445,"children":446},{"class":376},[447],{"type":20,"value":448},"if",{"type":14,"tag":62,"props":450,"children":451},{"class":75},[452],{"type":20,"value":384},{"type":14,"tag":62,"props":454,"children":455},{"class":69},[456],{"type":20,"value":398},{"type":14,"tag":62,"props":458,"children":459},{"class":75},[460],{"type":20,"value":34},{"type":14,"tag":62,"props":462,"children":463},{"class":69},[464],{"type":20,"value":465},"Singleton",{"type":14,"tag":62,"props":467,"children":468},{"class":75},[469],{"type":20,"value":248},{"type":14,"tag":62,"props":471,"children":472},{"class":64,"line":188},[473],{"type":14,"tag":62,"props":474,"children":475},{"class":75},[476],{"type":20,"value":257},{"type":14,"tag":62,"props":478,"children":479},{"class":64,"line":196},[480,484,489,493,498,502,506,510,515,520,525,530,534,538,543,547,552,556,560,564,568],{"type":14,"tag":62,"props":481,"children":482},{"class":75},[483],{"type":20,"value":266},{"type":14,"tag":62,"props":485,"children":486},{"class":69},[487],{"type":20,"value":488},"services",{"type":14,"tag":62,"props":490,"children":491},{"class":75},[492],{"type":20,"value":34},{"type":14,"tag":62,"props":494,"children":495},{"class":89},[496],{"type":20,"value":497},"AddSingleton",{"type":14,"tag":62,"props":499,"children":500},{"class":75},[501],{"type":20,"value":229},{"type":14,"tag":62,"props":503,"children":504},{"class":69},[505],{"type":20,"value":398},{"type":14,"tag":62,"props":507,"children":508},{"class":75},[509],{"type":20,"value":34},{"type":14,"tag":62,"props":511,"children":512},{"class":69},[513],{"type":20,"value":514},"Type",{"type":14,"tag":62,"props":516,"children":517},{"class":75},[518],{"type":20,"value":519},", ",{"type":14,"tag":62,"props":521,"children":522},{"class":69},[523],{"type":20,"value":524},"sp",{"type":14,"tag":62,"props":526,"children":527},{"class":75},[528],{"type":20,"value":529}," => ",{"type":14,"tag":62,"props":531,"children":532},{"class":69},[533],{"type":20,"value":416},{"type":14,"tag":62,"props":535,"children":536},{"class":75},[537],{"type":20,"value":34},{"type":14,"tag":62,"props":539,"children":540},{"class":69},[541],{"type":20,"value":542},"MockFactory",{"type":14,"tag":62,"props":544,"children":545},{"class":75},[546],{"type":20,"value":34},{"type":14,"tag":62,"props":548,"children":549},{"class":89},[550],{"type":20,"value":551},"Create",{"type":14,"tag":62,"props":553,"children":554},{"class":75},[555],{"type":20,"value":229},{"type":14,"tag":62,"props":557,"children":558},{"class":69},[559],{"type":20,"value":524},{"type":14,"tag":62,"props":561,"children":562},{"class":75},[563],{"type":20,"value":519},{"type":14,"tag":62,"props":565,"children":566},{"class":69},[567],{"type":20,"value":398},{"type":14,"tag":62,"props":569,"children":570},{"class":75},[571],{"type":20,"value":572},"));\n",{"type":14,"tag":62,"props":574,"children":575},{"class":64,"line":251},[576],{"type":14,"tag":62,"props":577,"children":578},{"class":75},[579],{"type":20,"value":339},{"type":14,"tag":62,"props":581,"children":582},{"class":64,"line":260},[583,587],{"type":14,"tag":62,"props":584,"children":585},{"class":75},[586],{"type":20,"value":202},{"type":14,"tag":62,"props":588,"children":589},{"class":376},[590],{"type":20,"value":591},"else\n",{"type":14,"tag":62,"props":593,"children":594},{"class":64,"line":333},[595],{"type":14,"tag":62,"props":596,"children":597},{"class":75},[598],{"type":20,"value":257},{"type":14,"tag":62,"props":600,"children":601},{"class":64,"line":342},[602,606,610,614,619,623,627,631,635,639,643,647,651,655,659,663,667,671,675,679,683],{"type":14,"tag":62,"props":603,"children":604},{"class":75},[605],{"type":20,"value":266},{"type":14,"tag":62,"props":607,"children":608},{"class":69},[609],{"type":20,"value":488},{"type":14,"tag":62,"props":611,"children":612},{"class":75},[613],{"type":20,"value":34},{"type":14,"tag":62,"props":615,"children":616},{"class":89},[617],{"type":20,"value":618},"AddTransient",{"type":14,"tag":62,"props":620,"children":621},{"class":75},[622],{"type":20,"value":229},{"type":14,"tag":62,"props":624,"children":625},{"class":69},[626],{"type":20,"value":398},{"type":14,"tag":62,"props":628,"children":629},{"class":75},[630],{"type":20,"value":34},{"type":14,"tag":62,"props":632,"children":633},{"class":69},[634],{"type":20,"value":514},{"type":14,"tag":62,"props":636,"children":637},{"class":75},[638],{"type":20,"value":519},{"type":14,"tag":62,"props":640,"children":641},{"class":69},[642],{"type":20,"value":524},{"type":14,"tag":62,"props":644,"children":645},{"class":75},[646],{"type":20,"value":529},{"type":14,"tag":62,"props":648,"children":649},{"class":69},[650],{"type":20,"value":416},{"type":14,"tag":62,"props":652,"children":653},{"class":75},[654],{"type":20,"value":34},{"type":14,"tag":62,"props":656,"children":657},{"class":69},[658],{"type":20,"value":542},{"type":14,"tag":62,"props":660,"children":661},{"class":75},[662],{"type":20,"value":34},{"type":14,"tag":62,"props":664,"children":665},{"class":89},[666],{"type":20,"value":551},{"type":14,"tag":62,"props":668,"children":669},{"class":75},[670],{"type":20,"value":229},{"type":14,"tag":62,"props":672,"children":673},{"class":69},[674],{"type":20,"value":524},{"type":14,"tag":62,"props":676,"children":677},{"class":75},[678],{"type":20,"value":519},{"type":14,"tag":62,"props":680,"children":681},{"class":69},[682],{"type":20,"value":398},{"type":14,"tag":62,"props":684,"children":685},{"class":75},[686],{"type":20,"value":572},{"type":14,"tag":62,"props":688,"children":690},{"class":64,"line":689},10,[691],{"type":14,"tag":62,"props":692,"children":693},{"class":75},[694],{"type":20,"value":339},{"type":14,"tag":62,"props":696,"children":698},{"class":64,"line":697},11,[699],{"type":14,"tag":62,"props":700,"children":701},{"class":75},[702],{"type":20,"value":348},{"type":14,"tag":704,"children":705},"style",[706],{"type":20,"value":707},".ct-37237f{color:#C586C0}\n.ct-ae8af2{color:#4EC9B0}\n.ct-21e939{color:#569CD6}\n.ct-aa4c01{color:#DCDCAA}\n.ct-75f663{color:#D4D4D4}\n.ct-03f1bd{color:#9CDCFE}",{"title":7,"searchDepth":170,"depth":170,"links":709},[710],{"id":101,"depth":170,"text":104},"markdown","content:features:mock-overrider.md","content","features/mock-overrider.md","md",1691344510537]