<!DOCTYPE html><html  data-capo=""><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Application</title>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
<link rel="stylesheet" type="text/css" href="https://brand.mouseless.codes/assets/css/default.css">
<link rel="stylesheet" href="/_nuxt/entry.B0G4llYu.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/default.CiEEWF9e.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/Header.DXgBZrgY.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/Side.Csw0E9aP.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/Footer.CrcZ2jrz.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/_...DX__pLc2.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/BottomNavigation.K5MZMzit.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/Toc.vB_GBQoB.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProsePre.B_fgAJq0.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseBlockquote.Cuq1vwaP.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseA.DXx_909P.css" crossorigin>
<link rel="stylesheet" href="/_nuxt/ProseImg.BMfJ9mU-.css" crossorigin>
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/2lwfFFTD.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CCstnE0d.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/B-q9G-Wd.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DNw1WgFb.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/B7tuWIi3.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CAYdnnqU.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C4aJ5RSL.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/D2OKCmka.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/qd8yMbKY.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BnNIxdwi.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/of5sZTY8.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/jpg5JYwg.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DAeGG84K.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BRG15eB_.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dym_awWQ.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CxYJgpPD.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CC_Ke2im.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/COQ0XZeZ.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/X56K7Am1.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DGhkV-oW.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/pjIS-xU3.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BstO1n3a.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Px9XmdkY.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BCCicoyX.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dmhy0C4Y.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C1_tNf-g.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dv7wH1bB.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BZhSNY08.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/dQ6j7i8H.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ResCqnjn.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CnZsJevX.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C60JM3Kp.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BKXeA3vp.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/B059DtfC.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Bt9wc0xS.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dd1mJZvm.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/MXfg-MWY.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CcN4UkXQ.js">
<link rel="prefetch" as="style" crossorigin href="/_nuxt/error-404.C3V-3Mc4.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/D28_8m5d.js">
<link rel="prefetch" as="style" crossorigin href="/_nuxt/error-500.dGVH929u.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Ci7EbI4b.js">
<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Baked (Objects)">
<meta property="og:image" content="https://baked.mouseless.codes/favicon.ico">
<meta property="og:image:width" content="50">
<meta property="og:image:height" content="50">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<meta property="og:title" content="Application">
<meta name="description" content="Application acts as a container object for all the domain objects, features
and layers of the software you develop.">
<meta property="og:description" content="Application acts as a container object for all the domain objects, features
and layers of the software you develop.">
<script type="module" src="/_nuxt/2lwfFFTD.js" crossorigin></script>
<link rel="preload" as="fetch" fetchpriority="low" crossorigin="anonymous" href="/_nuxt/builds/meta/20fb435d-af8d-49ed-a40b-484ba0794fd5.json"></head><body><div id="__nuxt"><!--[--><div class="top" data-v-43e4ab6d data-v-89e91d7a><header data-v-89e91d7a><div class="logo" data-v-89e91d7a><a href="/" class="" data-v-89e91d7a><img class="baked logo" data-v-89e91d7a></a></div><!----><a class="bars" data-v-89e91d7a><i class="fa-solid fa-bars" data-v-89e91d7a></i></a><nav class="" data-v-89e91d7a><a class="close" data-v-89e91d7a><i class="fa-solid fa-close" data-v-89e91d7a></i></a><!--[--><a href="/recipes/" class="" data-v-89e91d7a>Recipes</a><a href="/features/" class="" data-v-89e91d7a>Features</a><a href="/layers/" class="" data-v-89e91d7a>Layers</a><a href="/architecture/" class="active" data-v-89e91d7a>Architecture</a><a href="/release-notes/" class="" data-v-89e91d7a>Release Notes</a><!--]--><a href="https://github.com/mouseless/baked" rel="noopener noreferrer" target="_blank" data-v-89e91d7a><i class="fa-brands fa-github" data-v-89e91d7a></i></a><a href="https://matrix.to/#/#baked:mouseless.org" rel="noopener noreferrer" target="_blank" class="matrix" data-v-89e91d7a><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" style="" data-v-89e91d7a><g clip-path="url(#clip0_602_4)" data-v-89e91d7a><path d="M0.844 0.735023V31.266H3.041V32.001H0V0.00102344H3.041V0.736023L0.844 0.735023ZM10.235 10.412V11.959H10.276C10.6603 11.3936 11.1698 10.9244 11.765 10.588C12.344 10.265 13.016 10.104 13.765 10.104C14.484 10.104 15.145 10.245 15.74 10.521C16.339 10.802 16.787 11.297 17.099 12C17.438 11.5 17.902 11.057 18.479 10.677C19.058 10.297 19.746 10.104 20.542 10.104C21.1088 10.0983 21.6736 10.1737 22.219 10.328C22.74 10.473 23.178 10.708 23.547 11.031C23.912 11.36 24.198 11.782 24.407 12.303C24.61 12.823 24.714 13.454 24.714 14.194V21.829H21.585V15.361C21.5859 14.9991 21.5699 14.6374 21.537 14.277C21.518 13.9705 21.4366 13.6711 21.298 13.397C21.1674 13.1451 20.9639 12.9384 20.714 12.804C20.459 12.652 20.105 12.58 19.667 12.58C19.224 12.58 18.87 12.663 18.599 12.829C18.3333 12.9945 18.1133 13.2238 17.959 13.496C17.7987 13.7828 17.6942 14.0974 17.651 14.423C17.6005 14.7702 17.5728 15.1203 17.568 15.471V21.83H14.437V15.429C14.437 15.09 14.432 14.757 14.412 14.429C14.4029 14.1146 14.3375 13.8044 14.219 13.513C14.1146 13.234 13.9204 12.9976 13.667 12.841C13.412 12.674 13.031 12.586 12.531 12.586C12.38 12.586 12.183 12.617 11.943 12.685C11.703 12.752 11.464 12.877 11.24 13.06C10.9866 13.2784 10.7854 13.5507 10.651 13.857C10.49 14.2 10.412 14.653 10.412 15.216V21.836H7.281V10.415L10.235 10.412ZM31.156 31.265V0.734023H28.959V-0.000976562H32V31.999H28.959V31.264L31.156 31.265Z" fill="black" data-v-89e91d7a></path></g><defs data-v-89e91d7a><clipPath id="clip0_602_4" data-v-89e91d7a><rect width="32" height="32" fill="black" data-v-89e91d7a></rect></clipPath></defs></svg></a></nav></header></div><div class="content" data-v-43e4ab6d><nav class="side" data-v-43e4ab6d data-v-3a8dc5b3><h4 data-v-3a8dc5b3><a data-v-3a8dc5b3>Pages</a></h4><ul class="" data-v-3a8dc5b3><li data-v-3a8dc5b3><!--[--><!--]--></li></ul></nav><article data-v-43e4ab6d><!--[--><!--[--><div class="container" data-v-162c8372><div class="content" data-v-162c8372><div class="toc-root" data-v-162c8372><h1 id="application"><!--[-->Application<!--]--></h1><p><!--[--><code class=""><!--[-->Application<!--]--></code> acts as a container object for all the domain objects, features
and layers of the software you develop.<!--]--></p><h2 id="baking-an-application"><!--[-->Baking an Application<!--]--></h2><p><!--[-->Baked provides a fluent interface to create an application. You can access it
through <code class=""><!--[-->Bake.New<!--]--></code> under <code class=""><!--[-->Baked<!--]--></code> namespace. Below is a sample <code class=""><!--[-->Program.cs<!--]--></code> that
creates and runs a new application;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#9CDCFE">Bake</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#9CDCFE">New
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">    .</span><span style="--shiki-default:#DCDCAA">Application</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">app</span><span style="--shiki-default:#D4D4D4"> =&gt;
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="4"><span style="--shiki-default:#D4D4D4">        ..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">    })
</span></span><span class="line" line="6"><span style="--shiki-default:#E6E6E6">    .</span><span style="--shiki-default:#DCDCAA">Run</span><span style="--shiki-default:#E6E6E6">();
</span></span></code><!--]--></pre><!--]--><blockquote class="info" data-v-52748c37><i class="fa fa-circle-info" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[--><code class=""><!--[-->Baked<!--]--></code> is automatically added as a global using so that you can directly make
a call to <code class=""><!--[-->Bake.New<!--]--></code>.<!--]--></p><!--]--></div></blockquote><blockquote class="info" data-v-52748c37><i class="fa fa-circle-info" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[--><code class=""><!--[-->Bake<!--]--></code> always sets current culture to <code class=""><!--[-->CultureInfo.InvariantCulture<!--]--></code> to avoid
case conversion errors.<!--]--></p><!--]--></div></blockquote><h2 id="adding-extensions"><!--[-->Adding Extensions<!--]--></h2><p><!--[-->To add a new extension to an application, you need to make use of the feature /
layer system.<!--]--></p><p><!--[-->Baked does not allow you to use <code class=""><!--[-->build.Services.Add<!--]--></code> or <code class=""><!--[-->app.Use<!--]--></code> methods
directly. This is a design decision to avoid any unexpected behavior because the
order of extensions may require a special attention as in <a href="https://learn.microsoft.com/en-us/aspnet/core/security/cors#enable-cors" rel="nofollow" target="_blank" class="external" data-v-af122455><!--[-->Enabling Cors<!--]--><i class="fa-solid fa-arrow-up-right-from-square" data-v-af122455></i></a>.<!--]--></p><p><!--[--><code class=""><!--[-->As<!--]--></code> method provides an <code class=""><!--[-->ApplicationDescriptor<!--]--></code> instance that has <code class=""><!--[-->Layers<!--]--></code> and
<code class=""><!--[-->Features<!--]--></code> properties. Using these properties, you can add desired extensions
into your application.<!--]--></p><blockquote class="info" data-v-52748c37><i class="fa fa-circle-info" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->Layers and features come with extension methods exposed directly in <code class=""><!--[-->Baked<!--]--></code>
namespace so that you can see options without adding an extra <code class=""><!--[-->using<!--]--></code>.<!--]--></p><!--]--></div></blockquote><h3 id="layers"><!--[-->Layers<!--]--></h3><p><!--[-->Layers are added without any options to configure;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#9CDCFE">app</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#9CDCFE">Layers</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddDomain</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="2"><span style="--shiki-default:#9CDCFE">app</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#9CDCFE">Layers</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddHttpServer</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="3"><span style="--shiki-default:#9CDCFE">app</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#9CDCFE">Layers</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddDataAccess</span><span style="--shiki-default:#E6E6E6">();
</span></span></code><!--]--></pre><!--]--><blockquote class="info" data-v-52748c37><i class="fa fa-circle-info" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->A layer can only be added once.<!--]--></p><!--]--></div></blockquote><p><!--[-->To configure a layer, you need to add a feature mentioned in the next section.<!--]--></p><h3 id="features"><!--[-->Features<!--]--></h3><p><!--[-->Features are added using one of the implementations available in given
configurator;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#9CDCFE">app</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#9CDCFE">Features</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddGreeting</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">c</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#9CDCFE"> c</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">WelcomePage</span><span style="--shiki-default:#E6E6E6">());
</span></span><span class="line" line="2"><span style="--shiki-default:#9CDCFE">app</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#9CDCFE">Features</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddDatabase</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">c</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#9CDCFE"> c</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">MySql</span><span style="--shiki-default:#E6E6E6">());
</span></span></code><!--]--></pre><!--]--><blockquote class="info" data-v-52748c37><i class="fa fa-circle-info" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->A feature can only be added once.<!--]--></p><!--]--></div></blockquote><p><!--[-->An implementation may ask for additional options within its configurator
method;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#9CDCFE">app</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#9CDCFE">Features</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddDatabase</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">c</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#9CDCFE"> c</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">MySql</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">autoUpdateSchema</span><span style="--shiki-default:#E6E6E6">: </span><span style="--shiki-default:#569CD6">true</span><span style="--shiki-default:#E6E6E6">));
</span></span></code><!--]--></pre><!--]--><h4 id="overriding-a-configuration"><!--[-->Overriding A Configuration<!--]--></h4><p><!--[-->To override configurations of added features, follow
<a href="/architecture/feature#conventions" class="" data-v-af122455><!--[-->feature conventions<!--]--><!----></a>, create a
<code class=""><!--[-->ConfigurationOverrider<!--]--></code> feature and add your overrider after all other
features as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#9CDCFE">app</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#9CDCFE">Features</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddGreeting</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">c</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#9CDCFE"> c</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">WelcomePage</span><span style="--shiki-default:#E6E6E6">());
</span></span><span class="line" line="2"><span style="--shiki-default:#9CDCFE">app</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#9CDCFE">Features</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddDatabase</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">c</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#9CDCFE"> c</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">MySql</span><span style="--shiki-default:#E6E6E6">());
</span></span><span class="line" line="3"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">app</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#9CDCFE">Features</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddConfigurationOverrider</span><span style="--shiki-default:#E6E6E6">();
</span></span></code><!--]--></pre><!--]--><h2 id="running-an-application"><!--[-->Running an Application<!--]--></h2><p><!--[-->To run an application you need to call <code class=""><!--[-->Run()<!--]--></code> method after baking it.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#9CDCFE">Bake</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#9CDCFE">New
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">    .</span><span style="--shiki-default:#DCDCAA">Application</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">app</span><span style="--shiki-default:#D4D4D4"> =&gt;
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="4"><span style="--shiki-default:#D4D4D4">        ..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">    })
</span></span><span class="line" line="6"><span style="--shiki-default:#E6E6E6">    .</span><span style="--shiki-default:#DCDCAA">Run</span><span style="--shiki-default:#E6E6E6">();
</span></span></code><!--]--></pre><!--]--><p><!--[-->Application runs in phases provided by its layers. These phases come from
<code class=""><!--[-->GetStartPhases()<!--]--></code> or <code class=""><!--[-->GetGeneratePhases()<!--]--></code> methods of <code class=""><!--[-->ILayer<!--]--></code>.<!--]--></p><p><!--[-->For example <code class=""><!--[-->HttpServerLayer<!--]--></code> uses ASP.NET Core to build a web application which typically
runs in three phases;<!--]--></p><p><!--[--><img src="/architecture/application-1.svg" alt="diagram" class="diagram" data-v-6abb79d5><!--]--></p><blockquote class="tip" data-v-52748c37><i class="fa fa-lightbulb" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->Application has <code class=""><!--[-->Generate<!--]--></code> and <code class=""><!--[-->Start<!--]--></code> mode which is configured with <code class=""><!--[-->RunFlags<!--]--></code>
parameter. <code class=""><!--[-->RunFlags<!--]--></code> enables running <code class=""><!--[-->Generate<!--]--></code> and <code class=""><!--[-->Start<!--]--></code> modes
modes individually or respectively. <code class=""><!--[-->Generate<!--]--></code> mode calls <code class=""><!--[-->GetGeneratePhases()<!--]--></code> and
<code class=""><!--[-->Start<!--]--></code> mode calls <code class=""><!--[-->GetStartPhases()<!--]--></code> methods to collect phases<!--]--></p><!--]--></div></blockquote><p><!--[-->At the beginning of each phase, application initializes it by providing an
<code class=""><!--[-->ApplicationContext<!--]--></code> instance. This way each phase can add/get certain objects
to/from the context, such as <code class=""><!--[-->IServiceCollection<!--]--></code>, <code class=""><!--[-->IMiddlewareCollection<!--]--></code>,
<code class=""><!--[-->IEndpointRouteBuilder<!--]--></code> etc.
Refer to <a href="/architecture/layer#readiness-via-dependencies" class="" data-v-af122455><!--[-->Readiness via Dependencies<!--]--><!----></a>
for more details.<!--]--></p><blockquote class="warning" data-v-52748c37><i class="fa fa-warning" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->When trying to get a certain object from <code class=""><!--[-->ApplicationContext<!--]--></code>, exact type
should be given. Using any other type that extends or implements the target
object will result in an unsuccessful <code class=""><!--[-->Get<!--]--></code> operation. For example, trying to
<code class=""><!--[-->Get<!--]--></code> a <code class=""><!--[-->WebApplication<!--]--></code> using <code class=""><!--[-->IApplicationBuilder<!--]--></code> type will be unsuccessful.<!--]--></p><!--]--></div></blockquote><p><!--[-->As mentioned <a href="/architecture/#layer" class="" data-v-af122455><!--[-->earlier<!--]--><!----></a>, layers provide features with things
to configure. For this to happen, application asks every layer what to configure
at each phase. If a layer has something to get configured at a phase, such as
the <code class=""><!--[-->IMiddlewareCollection<!--]--></code> at the <em><!--[-->Build<!--]--></em> phase, it returns that object within
a phase context in <code class=""><!--[-->ILayer.GetContext()<!--]--></code>. Using this phase context, application
passes the provided object(s) to all of the features through
<code class=""><!--[-->IFeature.Configure()<!--]--></code>. Phase contexts are disposed at the end of their phase.<!--]--></p><p><!--[-->Below sequence diagram shows how an application runs in phases. In this diagram
there are two layers (<code class=""><!--[-->A<!--]--></code> and <code class=""><!--[-->B<!--]--></code>), each having one phase, and two features
(<code class=""><!--[-->X<!--]--></code> and <code class=""><!--[-->Y<!--]--></code>);<!--]--></p><p><!--[--><img src="/architecture/application-2.svg" alt="diagram" class="diagram" data-v-6abb79d5><!--]--></p><blockquote class="info" data-v-52748c37><i class="fa fa-circle-info" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->A layer doesn&#39;t necessarily introduce new phases to an application, but all
phases are applied to all layers nevertheless. For example, <code class=""><!--[-->HttpServerLayer<!--]--></code>
introduces <em><!--[-->Build<!--]--></em> phase which is applied to <code class=""><!--[-->Domain<!--]--></code>, <code class=""><!--[-->HttpServer<!--]--></code> and
<code class=""><!--[-->DataAccess<!--]--></code> layers to allow them provide their configuration specific to the
<em><!--[-->Build<!--]--></em> phase.<!--]--></p><!--]--></div></blockquote><h3 id="order-of-phases"><!--[-->Order of Phases<!--]--></h3><p><!--[-->Initialization order of phases are determined by;<!--]--></p><ol><!--[--><li><!--[-->Readiness of a phase through <code class=""><!--[-->IPhase.IsReady<!--]--></code> property,<!--]--></li><li><!--[-->Value of <code class=""><!--[-->IPhase.Order<!--]--></code> property,<!--]--></li><li><!--[-->And the order they are added to the application.<!--]--></li><!--]--></ol><p><!--[-->Application checks if a phase is ready and if it is not, application keeps it
for the next iteration of initializations.<!--]--></p><p><!--[-->A phase makes use of given application context to determine if it is ready to
be initialized or not. For example, <code class=""><!--[-->Run<!--]--></code> phase looks for <code class=""><!--[-->WebApplication<!--]--></code> in
the given context. If it does not, phase decides not to initialize. This way
application knows that <code class=""><!--[-->Run<!--]--></code> phase is not ready until some other phase, e.g.,
<code class=""><!--[-->Build<!--]--></code> phase, adds <code class=""><!--[-->WebApplication<!--]--></code> to the context.<!--]--></p><p><!--[--><img src="/architecture/application-3.svg" alt="diagram" class="diagram" data-v-6abb79d5><!--]--></p><blockquote class="info" data-v-52748c37><i class="fa fa-circle-info" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->All phases need to initialize. Application will cause a
<code class=""><!--[-->CannotProceedException<!--]--></code> if any of the phases never gets initialized.<!--]--></p><!--]--></div></blockquote><p><!--[-->When two phases are ready to be initialized at the same iteration, application
sorts them by their <code class=""><!--[-->Order<!--]--></code> property. A phase can have the following orders;<!--]--></p><ol><!--[--><li><!--[-->Earliest<!--]--></li><li><!--[-->Early<!--]--></li><li><!--[-->Normal<!--]--></li><li><!--[-->Late<!--]--></li><li><!--[-->Latest<!--]--></li><!--]--></ol><p><!--[-->Application may have any number of phases with the same order at the same
iteration. So in that case, they will initialize in the order they are provided
from layers.<!--]--></p><h4 id="earliest-and-latest-phases"><!--[-->Earliest and Latest Phases<!--]--></h4><p><!--[-->There should be only one <em><!--[-->earliest<!--]--></em> phase and one <em><!--[-->latest<!--]--></em> phase per iteration.
If there are multiple <em><!--[-->earliest<!--]--></em> or <em><!--[-->latest<!--]--></em> phases, application will throw an
<code class=""><!--[-->OverlappingPhaseException<!--]--></code> and execution will stop. If you see this exception,
it means you need to reorder phases so that they don&#39;t overlap, or you might
change their readiness so that they run in their own iteration.<!--]--></p><p><!--[-->These special values ensures certain phases are initialized firstly or lastly.
For example, the first phase of <code class=""><!--[-->HttpServerLayer<!--]--></code>, <em><!--[-->Create Builder<!--]--></em>, adds
<code class=""><!--[-->WebApplicationBuilder<!--]--></code> to the application context, which should be the first
thing to be done when running an application. To ensure this, <em><!--[-->Create Builder<!--]--></em>
should be able to declare itself to be the only <em><!--[-->earliest<!--]--></em> phase of its
iteration.<!--]--></p><style>html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></div><div class="navigation-buttons-container" data-v-162c8372 data-v-cb256488><div class="button left" data-v-cb256488><a href="/architecture/" class="" data-v-cb256488><div class="link-text" data-v-cb256488><i class="fa-solid fa-caret-left" data-v-cb256488></i> Previous <h3 data-v-cb256488>Architecture</h3></div></a></div><div class="button right" data-v-cb256488><a href="/architecture/layer" class="" data-v-cb256488><div class="link-text" data-v-cb256488> Next <i class="fa-solid fa-caret-right" data-v-cb256488></i><h3 data-v-cb256488>Layer</h3></div></a></div></div></div><nav data-v-162c8372 data-v-39cd5078><h4 data-v-39cd5078><a data-v-39cd5078>On This Page</a></h4><ul class="" data-v-39cd5078><!--[--><li data-v-39cd5078><a href="#baking-an-application" class="" data-v-39cd5078>Baking an Application</a><ul data-v-39cd5078><!--[--><!--]--></ul></li><li data-v-39cd5078><a href="#adding-extensions" class="" data-v-39cd5078>Adding Extensions</a><ul data-v-39cd5078><!--[--><li data-v-39cd5078><a href="#layers" class="" data-v-39cd5078>Layers</a></li><li data-v-39cd5078><a href="#features" class="" data-v-39cd5078>Features</a></li><!--]--></ul></li><li data-v-39cd5078><a href="#running-an-application" class="" data-v-39cd5078>Running an Application</a><ul data-v-39cd5078><!--[--><li data-v-39cd5078><a href="#order-of-phases" class="" data-v-39cd5078>Order of Phases</a></li><!--]--></ul></li><!--]--><li data-v-39cd5078><a class="return-to-top" href="#" data-v-39cd5078>Return to top</a></li></ul></nav></div><!--]--><!--]--></article></div><div class="bottom" data-v-43e4ab6d data-v-137c8203><footer data-v-137c8203><div class="logo" data-v-137c8203><a href="/" class="" data-v-137c8203><img class="baked logo mono" data-v-137c8203></a><span data-v-137c8203>Copyright (c) 2024 Mouseless - MIT License</span></div><nav data-v-137c8203><!--[--><a href="/recipes/" class="" data-v-137c8203>Recipes</a><a href="/features/" class="" data-v-137c8203>Features</a><a href="/layers/" class="" data-v-137c8203>Layers</a><a href="/architecture/" class="" data-v-137c8203>Architecture</a><a href="/release-notes/" class="" data-v-137c8203>Release Notes</a><!--]--><a href="https://github.com/mouseless/baked" rel="noopener noreferrer" target="_blank" data-v-137c8203><i class="fa-brands fa-github" data-v-137c8203></i> /mouseless/baked</a><a href="https://matrix.to/#/#baked:mouseless.org" rel="noopener noreferrer" target="_blank" class="matrix" data-v-137c8203><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" style="" data-v-137c8203><g clip-path="url(#clip0_602_4)" data-v-137c8203><path d="M0.844 0.735023V31.266H3.041V32.001H0V0.00102344H3.041V0.736023L0.844 0.735023ZM10.235 10.412V11.959H10.276C10.6603 11.3936 11.1698 10.9244 11.765 10.588C12.344 10.265 13.016 10.104 13.765 10.104C14.484 10.104 15.145 10.245 15.74 10.521C16.339 10.802 16.787 11.297 17.099 12C17.438 11.5 17.902 11.057 18.479 10.677C19.058 10.297 19.746 10.104 20.542 10.104C21.1088 10.0983 21.6736 10.1737 22.219 10.328C22.74 10.473 23.178 10.708 23.547 11.031C23.912 11.36 24.198 11.782 24.407 12.303C24.61 12.823 24.714 13.454 24.714 14.194V21.829H21.585V15.361C21.5859 14.9991 21.5699 14.6374 21.537 14.277C21.518 13.9705 21.4366 13.6711 21.298 13.397C21.1674 13.1451 20.9639 12.9384 20.714 12.804C20.459 12.652 20.105 12.58 19.667 12.58C19.224 12.58 18.87 12.663 18.599 12.829C18.3333 12.9945 18.1133 13.2238 17.959 13.496C17.7987 13.7828 17.6942 14.0974 17.651 14.423C17.6005 14.7702 17.5728 15.1203 17.568 15.471V21.83H14.437V15.429C14.437 15.09 14.432 14.757 14.412 14.429C14.4029 14.1146 14.3375 13.8044 14.219 13.513C14.1146 13.234 13.9204 12.9976 13.667 12.841C13.412 12.674 13.031 12.586 12.531 12.586C12.38 12.586 12.183 12.617 11.943 12.685C11.703 12.752 11.464 12.877 11.24 13.06C10.9866 13.2784 10.7854 13.5507 10.651 13.857C10.49 14.2 10.412 14.653 10.412 15.216V21.836H7.281V10.415L10.235 10.412ZM31.156 31.265V0.734023H28.959V-0.000976562H32V31.999H28.959V31.264L31.156 31.265Z" fill="black" data-v-137c8203></path></g><defs data-v-137c8203><clipPath id="clip0_602_4" data-v-137c8203><rect width="32" height="32" fill="black" data-v-137c8203></rect></clipPath></defs></svg> #baked:mouseless.org</a></nav></footer></div><!--]--></div><div id="teleports"></div><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__">[["ShallowReactive",1],{"prerenderedAt":2,"data":3,"state":1621,"once":1623,"_errors":1624,"serverRendered":1627,"path":6,"pinia":1628},1738776241350,["ShallowReactive",4],{"content-query-2FQT24X9cd":5},{"_path":6,"_dir":7,"_draft":8,"_partial":8,"_locale":9,"title":10,"description":11,"body":12,"_type":1615,"_id":1616,"_source":1617,"_file":1618,"_stem":1619,"_extension":1620},"/architecture/application","architecture",false,"","Application","Application acts as a container object for all the domain objects, features\nand layers of the software you develop.",{"type":13,"children":14,"toc":1605},"root",[15,23,35,42,71,184,212,240,246,251,282,317,346,352,357,448,463,468,473,478,595,610,615,694,701,722,871,877,890,974,1001,1014,1023,1109,1154,1208,1252,1287,1294,1350,1356,1361,1396,1401,1441,1448,1471,1484,1512,1517,1523,1561,1599],{"type":16,"tag":17,"props":18,"children":20},"element","h1",{"id":19},"application",[21],{"type":22,"value":10},"text",{"type":16,"tag":24,"props":25,"children":26},"p",{},[27,33],{"type":16,"tag":28,"props":29,"children":31},"code",{"className":30},[],[32],{"type":22,"value":10},{"type":22,"value":34}," acts as a container object for all the domain objects, features\nand layers of the software you develop.",{"type":16,"tag":36,"props":37,"children":39},"h2",{"id":38},"baking-an-application",[40],{"type":22,"value":41},"Baking an Application",{"type":16,"tag":24,"props":43,"children":44},{},[45,47,53,55,61,63,69],{"type":22,"value":46},"Baked provides a fluent interface to create an application. You can access it\nthrough ",{"type":16,"tag":28,"props":48,"children":50},{"className":49},[],[51],{"type":22,"value":52},"Bake.New",{"type":22,"value":54}," under ",{"type":16,"tag":28,"props":56,"children":58},{"className":57},[],[59],{"type":22,"value":60},"Baked",{"type":22,"value":62}," namespace. Below is a sample ",{"type":16,"tag":28,"props":64,"children":66},{"className":65},[],[67],{"type":22,"value":68},"Program.cs",{"type":22,"value":70}," that\ncreates and runs a new application;",{"type":16,"tag":72,"props":73,"children":77},"pre",{"className":74,"code":75,"language":76,"meta":9,"style":9},"language-csharp shiki shiki-themes slack-dark","Bake.New\n    .Application(app =>\n    {\n        ...\n    })\n    .Run();\n","csharp",[78],{"type":16,"tag":28,"props":79,"children":80},{"__ignoreMap":9},[81,104,134,143,157,166],{"type":16,"tag":82,"props":83,"children":86},"span",{"class":84,"line":85},"line",1,[87,93,99],{"type":16,"tag":82,"props":88,"children":90},{"style":89},"--shiki-default:#9CDCFE",[91],{"type":22,"value":92},"Bake",{"type":16,"tag":82,"props":94,"children":96},{"style":95},"--shiki-default:#E6E6E6",[97],{"type":22,"value":98},".",{"type":16,"tag":82,"props":100,"children":101},{"style":89},[102],{"type":22,"value":103},"New\n",{"type":16,"tag":82,"props":105,"children":107},{"class":84,"line":106},2,[108,113,118,123,128],{"type":16,"tag":82,"props":109,"children":110},{"style":95},[111],{"type":22,"value":112},"    .",{"type":16,"tag":82,"props":114,"children":116},{"style":115},"--shiki-default:#DCDCAA",[117],{"type":22,"value":10},{"type":16,"tag":82,"props":119,"children":120},{"style":95},[121],{"type":22,"value":122},"(",{"type":16,"tag":82,"props":124,"children":125},{"style":89},[126],{"type":22,"value":127},"app",{"type":16,"tag":82,"props":129,"children":131},{"style":130},"--shiki-default:#D4D4D4",[132],{"type":22,"value":133}," =>\n",{"type":16,"tag":82,"props":135,"children":137},{"class":84,"line":136},3,[138],{"type":16,"tag":82,"props":139,"children":140},{"style":95},[141],{"type":22,"value":142},"    {\n",{"type":16,"tag":82,"props":144,"children":146},{"class":84,"line":145},4,[147,152],{"type":16,"tag":82,"props":148,"children":149},{"style":130},[150],{"type":22,"value":151},"        ..",{"type":16,"tag":82,"props":153,"children":154},{"style":95},[155],{"type":22,"value":156},".\n",{"type":16,"tag":82,"props":158,"children":160},{"class":84,"line":159},5,[161],{"type":16,"tag":82,"props":162,"children":163},{"style":95},[164],{"type":22,"value":165},"    })\n",{"type":16,"tag":82,"props":167,"children":169},{"class":84,"line":168},6,[170,174,179],{"type":16,"tag":82,"props":171,"children":172},{"style":95},[173],{"type":22,"value":112},{"type":16,"tag":82,"props":175,"children":176},{"style":115},[177],{"type":22,"value":178},"Run",{"type":16,"tag":82,"props":180,"children":181},{"style":95},[182],{"type":22,"value":183},"();\n",{"type":16,"tag":185,"props":186,"children":187},"blockquote",{},[188,196],{"type":16,"tag":24,"props":189,"children":190},{},[191],{"type":16,"tag":82,"props":192,"children":193},{},[194],{"type":22,"value":195},"!NOTE",{"type":16,"tag":24,"props":197,"children":198},{},[199,204,206,211],{"type":16,"tag":28,"props":200,"children":202},{"className":201},[],[203],{"type":22,"value":60},{"type":22,"value":205}," is automatically added as a global using so that you can directly make\na call to ",{"type":16,"tag":28,"props":207,"children":209},{"className":208},[],[210],{"type":22,"value":52},{"type":22,"value":98},{"type":16,"tag":185,"props":213,"children":214},{},[215,222],{"type":16,"tag":24,"props":216,"children":217},{},[218],{"type":16,"tag":82,"props":219,"children":220},{},[221],{"type":22,"value":195},{"type":16,"tag":24,"props":223,"children":224},{},[225,230,232,238],{"type":16,"tag":28,"props":226,"children":228},{"className":227},[],[229],{"type":22,"value":92},{"type":22,"value":231}," always sets current culture to ",{"type":16,"tag":28,"props":233,"children":235},{"className":234},[],[236],{"type":22,"value":237},"CultureInfo.InvariantCulture",{"type":22,"value":239}," to avoid\ncase conversion errors.",{"type":16,"tag":36,"props":241,"children":243},{"id":242},"adding-extensions",[244],{"type":22,"value":245},"Adding Extensions",{"type":16,"tag":24,"props":247,"children":248},{},[249],{"type":22,"value":250},"To add a new extension to an application, you need to make use of the feature /\nlayer system.",{"type":16,"tag":24,"props":252,"children":253},{},[254,256,262,264,270,272,281],{"type":22,"value":255},"Baked does not allow you to use ",{"type":16,"tag":28,"props":257,"children":259},{"className":258},[],[260],{"type":22,"value":261},"build.Services.Add",{"type":22,"value":263}," or ",{"type":16,"tag":28,"props":265,"children":267},{"className":266},[],[268],{"type":22,"value":269},"app.Use",{"type":22,"value":271}," methods\ndirectly. This is a design decision to avoid any unexpected behavior because the\norder of extensions may require a special attention as in ",{"type":16,"tag":273,"props":274,"children":278},"a",{"href":275,"rel":276},"https://learn.microsoft.com/en-us/aspnet/core/security/cors#enable-cors",[277],"nofollow",[279],{"type":22,"value":280},"Enabling Cors",{"type":22,"value":98},{"type":16,"tag":24,"props":283,"children":284},{},[285,291,293,299,301,307,309,315],{"type":16,"tag":28,"props":286,"children":288},{"className":287},[],[289],{"type":22,"value":290},"As",{"type":22,"value":292}," method provides an ",{"type":16,"tag":28,"props":294,"children":296},{"className":295},[],[297],{"type":22,"value":298},"ApplicationDescriptor",{"type":22,"value":300}," instance that has ",{"type":16,"tag":28,"props":302,"children":304},{"className":303},[],[305],{"type":22,"value":306},"Layers",{"type":22,"value":308}," and\n",{"type":16,"tag":28,"props":310,"children":312},{"className":311},[],[313],{"type":22,"value":314},"Features",{"type":22,"value":316}," properties. Using these properties, you can add desired extensions\ninto your application.",{"type":16,"tag":185,"props":318,"children":319},{},[320,327],{"type":16,"tag":24,"props":321,"children":322},{},[323],{"type":16,"tag":82,"props":324,"children":325},{},[326],{"type":22,"value":195},{"type":16,"tag":24,"props":328,"children":329},{},[330,332,337,339,345],{"type":22,"value":331},"Layers and features come with extension methods exposed directly in ",{"type":16,"tag":28,"props":333,"children":335},{"className":334},[],[336],{"type":22,"value":60},{"type":22,"value":338},"\nnamespace so that you can see options without adding an extra ",{"type":16,"tag":28,"props":340,"children":342},{"className":341},[],[343],{"type":22,"value":344},"using",{"type":22,"value":98},{"type":16,"tag":347,"props":348,"children":350},"h3",{"id":349},"layers",[351],{"type":22,"value":306},{"type":16,"tag":24,"props":353,"children":354},{},[355],{"type":22,"value":356},"Layers are added without any options to configure;",{"type":16,"tag":72,"props":358,"children":360},{"className":74,"code":359,"language":76,"meta":9,"style":9},"app.Layers.AddDomain();\napp.Layers.AddHttpServer();\napp.Layers.AddDataAccess();\n",[361],{"type":16,"tag":28,"props":362,"children":363},{"__ignoreMap":9},[364,392,420],{"type":16,"tag":82,"props":365,"children":366},{"class":84,"line":85},[367,371,375,379,383,388],{"type":16,"tag":82,"props":368,"children":369},{"style":89},[370],{"type":22,"value":127},{"type":16,"tag":82,"props":372,"children":373},{"style":95},[374],{"type":22,"value":98},{"type":16,"tag":82,"props":376,"children":377},{"style":89},[378],{"type":22,"value":306},{"type":16,"tag":82,"props":380,"children":381},{"style":95},[382],{"type":22,"value":98},{"type":16,"tag":82,"props":384,"children":385},{"style":115},[386],{"type":22,"value":387},"AddDomain",{"type":16,"tag":82,"props":389,"children":390},{"style":95},[391],{"type":22,"value":183},{"type":16,"tag":82,"props":393,"children":394},{"class":84,"line":106},[395,399,403,407,411,416],{"type":16,"tag":82,"props":396,"children":397},{"style":89},[398],{"type":22,"value":127},{"type":16,"tag":82,"props":400,"children":401},{"style":95},[402],{"type":22,"value":98},{"type":16,"tag":82,"props":404,"children":405},{"style":89},[406],{"type":22,"value":306},{"type":16,"tag":82,"props":408,"children":409},{"style":95},[410],{"type":22,"value":98},{"type":16,"tag":82,"props":412,"children":413},{"style":115},[414],{"type":22,"value":415},"AddHttpServer",{"type":16,"tag":82,"props":417,"children":418},{"style":95},[419],{"type":22,"value":183},{"type":16,"tag":82,"props":421,"children":422},{"class":84,"line":136},[423,427,431,435,439,444],{"type":16,"tag":82,"props":424,"children":425},{"style":89},[426],{"type":22,"value":127},{"type":16,"tag":82,"props":428,"children":429},{"style":95},[430],{"type":22,"value":98},{"type":16,"tag":82,"props":432,"children":433},{"style":89},[434],{"type":22,"value":306},{"type":16,"tag":82,"props":436,"children":437},{"style":95},[438],{"type":22,"value":98},{"type":16,"tag":82,"props":440,"children":441},{"style":115},[442],{"type":22,"value":443},"AddDataAccess",{"type":16,"tag":82,"props":445,"children":446},{"style":95},[447],{"type":22,"value":183},{"type":16,"tag":185,"props":449,"children":450},{},[451,458],{"type":16,"tag":24,"props":452,"children":453},{},[454],{"type":16,"tag":82,"props":455,"children":456},{},[457],{"type":22,"value":195},{"type":16,"tag":24,"props":459,"children":460},{},[461],{"type":22,"value":462},"A layer can only be added once.",{"type":16,"tag":24,"props":464,"children":465},{},[466],{"type":22,"value":467},"To configure a layer, you need to add a feature mentioned in the next section.",{"type":16,"tag":347,"props":469,"children":471},{"id":470},"features",[472],{"type":22,"value":314},{"type":16,"tag":24,"props":474,"children":475},{},[476],{"type":22,"value":477},"Features are added using one of the implementations available in given\nconfigurator;",{"type":16,"tag":72,"props":479,"children":481},{"className":74,"code":480,"language":76,"meta":9,"style":9},"app.Features.AddGreeting(c => c.WelcomePage());\napp.Features.AddDatabase(c => c.MySql());\n",[482],{"type":16,"tag":28,"props":483,"children":484},{"__ignoreMap":9},[485,542],{"type":16,"tag":82,"props":486,"children":487},{"class":84,"line":85},[488,492,496,500,504,509,513,518,523,528,532,537],{"type":16,"tag":82,"props":489,"children":490},{"style":89},[491],{"type":22,"value":127},{"type":16,"tag":82,"props":493,"children":494},{"style":95},[495],{"type":22,"value":98},{"type":16,"tag":82,"props":497,"children":498},{"style":89},[499],{"type":22,"value":314},{"type":16,"tag":82,"props":501,"children":502},{"style":95},[503],{"type":22,"value":98},{"type":16,"tag":82,"props":505,"children":506},{"style":115},[507],{"type":22,"value":508},"AddGreeting",{"type":16,"tag":82,"props":510,"children":511},{"style":95},[512],{"type":22,"value":122},{"type":16,"tag":82,"props":514,"children":515},{"style":89},[516],{"type":22,"value":517},"c",{"type":16,"tag":82,"props":519,"children":520},{"style":130},[521],{"type":22,"value":522}," =>",{"type":16,"tag":82,"props":524,"children":525},{"style":89},[526],{"type":22,"value":527}," c",{"type":16,"tag":82,"props":529,"children":530},{"style":95},[531],{"type":22,"value":98},{"type":16,"tag":82,"props":533,"children":534},{"style":115},[535],{"type":22,"value":536},"WelcomePage",{"type":16,"tag":82,"props":538,"children":539},{"style":95},[540],{"type":22,"value":541},"());\n",{"type":16,"tag":82,"props":543,"children":544},{"class":84,"line":106},[545,549,553,557,561,566,570,574,578,582,586,591],{"type":16,"tag":82,"props":546,"children":547},{"style":89},[548],{"type":22,"value":127},{"type":16,"tag":82,"props":550,"children":551},{"style":95},[552],{"type":22,"value":98},{"type":16,"tag":82,"props":554,"children":555},{"style":89},[556],{"type":22,"value":314},{"type":16,"tag":82,"props":558,"children":559},{"style":95},[560],{"type":22,"value":98},{"type":16,"tag":82,"props":562,"children":563},{"style":115},[564],{"type":22,"value":565},"AddDatabase",{"type":16,"tag":82,"props":567,"children":568},{"style":95},[569],{"type":22,"value":122},{"type":16,"tag":82,"props":571,"children":572},{"style":89},[573],{"type":22,"value":517},{"type":16,"tag":82,"props":575,"children":576},{"style":130},[577],{"type":22,"value":522},{"type":16,"tag":82,"props":579,"children":580},{"style":89},[581],{"type":22,"value":527},{"type":16,"tag":82,"props":583,"children":584},{"style":95},[585],{"type":22,"value":98},{"type":16,"tag":82,"props":587,"children":588},{"style":115},[589],{"type":22,"value":590},"MySql",{"type":16,"tag":82,"props":592,"children":593},{"style":95},[594],{"type":22,"value":541},{"type":16,"tag":185,"props":596,"children":597},{},[598,605],{"type":16,"tag":24,"props":599,"children":600},{},[601],{"type":16,"tag":82,"props":602,"children":603},{},[604],{"type":22,"value":195},{"type":16,"tag":24,"props":606,"children":607},{},[608],{"type":22,"value":609},"A feature can only be added once.",{"type":16,"tag":24,"props":611,"children":612},{},[613],{"type":22,"value":614},"An implementation may ask for additional options within its configurator\nmethod;",{"type":16,"tag":72,"props":616,"children":618},{"className":74,"code":617,"language":76,"meta":9,"style":9},"app.Features.AddDatabase(c => c.MySql(autoUpdateSchema: true));\n",[619],{"type":16,"tag":28,"props":620,"children":621},{"__ignoreMap":9},[622],{"type":16,"tag":82,"props":623,"children":624},{"class":84,"line":85},[625,629,633,637,641,645,649,653,657,661,665,669,673,678,683,689],{"type":16,"tag":82,"props":626,"children":627},{"style":89},[628],{"type":22,"value":127},{"type":16,"tag":82,"props":630,"children":631},{"style":95},[632],{"type":22,"value":98},{"type":16,"tag":82,"props":634,"children":635},{"style":89},[636],{"type":22,"value":314},{"type":16,"tag":82,"props":638,"children":639},{"style":95},[640],{"type":22,"value":98},{"type":16,"tag":82,"props":642,"children":643},{"style":115},[644],{"type":22,"value":565},{"type":16,"tag":82,"props":646,"children":647},{"style":95},[648],{"type":22,"value":122},{"type":16,"tag":82,"props":650,"children":651},{"style":89},[652],{"type":22,"value":517},{"type":16,"tag":82,"props":654,"children":655},{"style":130},[656],{"type":22,"value":522},{"type":16,"tag":82,"props":658,"children":659},{"style":89},[660],{"type":22,"value":527},{"type":16,"tag":82,"props":662,"children":663},{"style":95},[664],{"type":22,"value":98},{"type":16,"tag":82,"props":666,"children":667},{"style":115},[668],{"type":22,"value":590},{"type":16,"tag":82,"props":670,"children":671},{"style":95},[672],{"type":22,"value":122},{"type":16,"tag":82,"props":674,"children":675},{"style":89},[676],{"type":22,"value":677},"autoUpdateSchema",{"type":16,"tag":82,"props":679,"children":680},{"style":95},[681],{"type":22,"value":682},": ",{"type":16,"tag":82,"props":684,"children":686},{"style":685},"--shiki-default:#569CD6",[687],{"type":22,"value":688},"true",{"type":16,"tag":82,"props":690,"children":691},{"style":95},[692],{"type":22,"value":693},"));\n",{"type":16,"tag":695,"props":696,"children":698},"h4",{"id":697},"overriding-a-configuration",[699],{"type":22,"value":700},"Overriding A Configuration",{"type":16,"tag":24,"props":702,"children":703},{},[704,706,712,714,720],{"type":22,"value":705},"To override configurations of added features, follow\n",{"type":16,"tag":273,"props":707,"children":709},{"href":708},"feature#conventions",[710],{"type":22,"value":711},"feature conventions",{"type":22,"value":713},", create a\n",{"type":16,"tag":28,"props":715,"children":717},{"className":716},[],[718],{"type":22,"value":719},"ConfigurationOverrider",{"type":22,"value":721}," feature and add your overrider after all other\nfeatures as shown below;",{"type":16,"tag":72,"props":723,"children":725},{"className":74,"code":724,"language":76,"meta":9,"style":9},"app.Features.AddGreeting(c => c.WelcomePage());\napp.Features.AddDatabase(c => c.MySql());\n...\napp.Features.AddConfigurationOverrider();\n",[726],{"type":16,"tag":28,"props":727,"children":728},{"__ignoreMap":9},[729,780,831,843],{"type":16,"tag":82,"props":730,"children":731},{"class":84,"line":85},[732,736,740,744,748,752,756,760,764,768,772,776],{"type":16,"tag":82,"props":733,"children":734},{"style":89},[735],{"type":22,"value":127},{"type":16,"tag":82,"props":737,"children":738},{"style":95},[739],{"type":22,"value":98},{"type":16,"tag":82,"props":741,"children":742},{"style":89},[743],{"type":22,"value":314},{"type":16,"tag":82,"props":745,"children":746},{"style":95},[747],{"type":22,"value":98},{"type":16,"tag":82,"props":749,"children":750},{"style":115},[751],{"type":22,"value":508},{"type":16,"tag":82,"props":753,"children":754},{"style":95},[755],{"type":22,"value":122},{"type":16,"tag":82,"props":757,"children":758},{"style":89},[759],{"type":22,"value":517},{"type":16,"tag":82,"props":761,"children":762},{"style":130},[763],{"type":22,"value":522},{"type":16,"tag":82,"props":765,"children":766},{"style":89},[767],{"type":22,"value":527},{"type":16,"tag":82,"props":769,"children":770},{"style":95},[771],{"type":22,"value":98},{"type":16,"tag":82,"props":773,"children":774},{"style":115},[775],{"type":22,"value":536},{"type":16,"tag":82,"props":777,"children":778},{"style":95},[779],{"type":22,"value":541},{"type":16,"tag":82,"props":781,"children":782},{"class":84,"line":106},[783,787,791,795,799,803,807,811,815,819,823,827],{"type":16,"tag":82,"props":784,"children":785},{"style":89},[786],{"type":22,"value":127},{"type":16,"tag":82,"props":788,"children":789},{"style":95},[790],{"type":22,"value":98},{"type":16,"tag":82,"props":792,"children":793},{"style":89},[794],{"type":22,"value":314},{"type":16,"tag":82,"props":796,"children":797},{"style":95},[798],{"type":22,"value":98},{"type":16,"tag":82,"props":800,"children":801},{"style":115},[802],{"type":22,"value":565},{"type":16,"tag":82,"props":804,"children":805},{"style":95},[806],{"type":22,"value":122},{"type":16,"tag":82,"props":808,"children":809},{"style":89},[810],{"type":22,"value":517},{"type":16,"tag":82,"props":812,"children":813},{"style":130},[814],{"type":22,"value":522},{"type":16,"tag":82,"props":816,"children":817},{"style":89},[818],{"type":22,"value":527},{"type":16,"tag":82,"props":820,"children":821},{"style":95},[822],{"type":22,"value":98},{"type":16,"tag":82,"props":824,"children":825},{"style":115},[826],{"type":22,"value":590},{"type":16,"tag":82,"props":828,"children":829},{"style":95},[830],{"type":22,"value":541},{"type":16,"tag":82,"props":832,"children":833},{"class":84,"line":136},[834,839],{"type":16,"tag":82,"props":835,"children":836},{"style":130},[837],{"type":22,"value":838},"..",{"type":16,"tag":82,"props":840,"children":841},{"style":95},[842],{"type":22,"value":156},{"type":16,"tag":82,"props":844,"children":845},{"class":84,"line":145},[846,850,854,858,862,867],{"type":16,"tag":82,"props":847,"children":848},{"style":89},[849],{"type":22,"value":127},{"type":16,"tag":82,"props":851,"children":852},{"style":95},[853],{"type":22,"value":98},{"type":16,"tag":82,"props":855,"children":856},{"style":89},[857],{"type":22,"value":314},{"type":16,"tag":82,"props":859,"children":860},{"style":95},[861],{"type":22,"value":98},{"type":16,"tag":82,"props":863,"children":864},{"style":115},[865],{"type":22,"value":866},"AddConfigurationOverrider",{"type":16,"tag":82,"props":868,"children":869},{"style":95},[870],{"type":22,"value":183},{"type":16,"tag":36,"props":872,"children":874},{"id":873},"running-an-application",[875],{"type":22,"value":876},"Running an Application",{"type":16,"tag":24,"props":878,"children":879},{},[880,882,888],{"type":22,"value":881},"To run an application you need to call ",{"type":16,"tag":28,"props":883,"children":885},{"className":884},[],[886],{"type":22,"value":887},"Run()",{"type":22,"value":889}," method after baking it.",{"type":16,"tag":72,"props":891,"children":892},{"className":74,"code":75,"language":76,"meta":9,"style":9},[893],{"type":16,"tag":28,"props":894,"children":895},{"__ignoreMap":9},[896,911,934,941,952,959],{"type":16,"tag":82,"props":897,"children":898},{"class":84,"line":85},[899,903,907],{"type":16,"tag":82,"props":900,"children":901},{"style":89},[902],{"type":22,"value":92},{"type":16,"tag":82,"props":904,"children":905},{"style":95},[906],{"type":22,"value":98},{"type":16,"tag":82,"props":908,"children":909},{"style":89},[910],{"type":22,"value":103},{"type":16,"tag":82,"props":912,"children":913},{"class":84,"line":106},[914,918,922,926,930],{"type":16,"tag":82,"props":915,"children":916},{"style":95},[917],{"type":22,"value":112},{"type":16,"tag":82,"props":919,"children":920},{"style":115},[921],{"type":22,"value":10},{"type":16,"tag":82,"props":923,"children":924},{"style":95},[925],{"type":22,"value":122},{"type":16,"tag":82,"props":927,"children":928},{"style":89},[929],{"type":22,"value":127},{"type":16,"tag":82,"props":931,"children":932},{"style":130},[933],{"type":22,"value":133},{"type":16,"tag":82,"props":935,"children":936},{"class":84,"line":136},[937],{"type":16,"tag":82,"props":938,"children":939},{"style":95},[940],{"type":22,"value":142},{"type":16,"tag":82,"props":942,"children":943},{"class":84,"line":145},[944,948],{"type":16,"tag":82,"props":945,"children":946},{"style":130},[947],{"type":22,"value":151},{"type":16,"tag":82,"props":949,"children":950},{"style":95},[951],{"type":22,"value":156},{"type":16,"tag":82,"props":953,"children":954},{"class":84,"line":159},[955],{"type":16,"tag":82,"props":956,"children":957},{"style":95},[958],{"type":22,"value":165},{"type":16,"tag":82,"props":960,"children":961},{"class":84,"line":168},[962,966,970],{"type":16,"tag":82,"props":963,"children":964},{"style":95},[965],{"type":22,"value":112},{"type":16,"tag":82,"props":967,"children":968},{"style":115},[969],{"type":22,"value":178},{"type":16,"tag":82,"props":971,"children":972},{"style":95},[973],{"type":22,"value":183},{"type":16,"tag":24,"props":975,"children":976},{},[977,979,985,986,992,994,1000],{"type":22,"value":978},"Application runs in phases provided by its layers. These phases come from\n",{"type":16,"tag":28,"props":980,"children":982},{"className":981},[],[983],{"type":22,"value":984},"GetStartPhases()",{"type":22,"value":263},{"type":16,"tag":28,"props":987,"children":989},{"className":988},[],[990],{"type":22,"value":991},"GetGeneratePhases()",{"type":22,"value":993}," methods of ",{"type":16,"tag":28,"props":995,"children":997},{"className":996},[],[998],{"type":22,"value":999},"ILayer",{"type":22,"value":98},{"type":16,"tag":24,"props":1002,"children":1003},{},[1004,1006,1012],{"type":22,"value":1005},"For example ",{"type":16,"tag":28,"props":1007,"children":1009},{"className":1008},[],[1010],{"type":22,"value":1011},"HttpServerLayer",{"type":22,"value":1013}," uses ASP.NET Core to build a web application which typically\nruns in three phases;",{"type":16,"tag":24,"props":1015,"children":1016},{},[1017],{"type":16,"tag":1018,"props":1019,"children":1022},"img",{"alt":1020,"src":1021},"diagram","./application-1.svg",[],{"type":16,"tag":185,"props":1024,"children":1025},{},[1026,1034],{"type":16,"tag":24,"props":1027,"children":1028},{},[1029],{"type":16,"tag":82,"props":1030,"children":1031},{},[1032],{"type":22,"value":1033},"!TIP",{"type":16,"tag":24,"props":1035,"children":1036},{},[1037,1039,1045,1047,1053,1055,1061,1063,1068,1070,1075,1076,1081,1083,1088,1090,1095,1096,1101,1102,1107],{"type":22,"value":1038},"Application has ",{"type":16,"tag":28,"props":1040,"children":1042},{"className":1041},[],[1043],{"type":22,"value":1044},"Generate",{"type":22,"value":1046}," and ",{"type":16,"tag":28,"props":1048,"children":1050},{"className":1049},[],[1051],{"type":22,"value":1052},"Start",{"type":22,"value":1054}," mode which is configured with ",{"type":16,"tag":28,"props":1056,"children":1058},{"className":1057},[],[1059],{"type":22,"value":1060},"RunFlags",{"type":22,"value":1062},"\nparameter. ",{"type":16,"tag":28,"props":1064,"children":1066},{"className":1065},[],[1067],{"type":22,"value":1060},{"type":22,"value":1069}," enables running ",{"type":16,"tag":28,"props":1071,"children":1073},{"className":1072},[],[1074],{"type":22,"value":1044},{"type":22,"value":1046},{"type":16,"tag":28,"props":1077,"children":1079},{"className":1078},[],[1080],{"type":22,"value":1052},{"type":22,"value":1082}," modes\nmodes individually or respectively. ",{"type":16,"tag":28,"props":1084,"children":1086},{"className":1085},[],[1087],{"type":22,"value":1044},{"type":22,"value":1089}," mode calls ",{"type":16,"tag":28,"props":1091,"children":1093},{"className":1092},[],[1094],{"type":22,"value":991},{"type":22,"value":308},{"type":16,"tag":28,"props":1097,"children":1099},{"className":1098},[],[1100],{"type":22,"value":1052},{"type":22,"value":1089},{"type":16,"tag":28,"props":1103,"children":1105},{"className":1104},[],[1106],{"type":22,"value":984},{"type":22,"value":1108}," methods to collect phases",{"type":16,"tag":24,"props":1110,"children":1111},{},[1112,1114,1120,1122,1128,1130,1136,1138,1144,1146,1152],{"type":22,"value":1113},"At the beginning of each phase, application initializes it by providing an\n",{"type":16,"tag":28,"props":1115,"children":1117},{"className":1116},[],[1118],{"type":22,"value":1119},"ApplicationContext",{"type":22,"value":1121}," instance. This way each phase can add/get certain objects\nto/from the context, such as ",{"type":16,"tag":28,"props":1123,"children":1125},{"className":1124},[],[1126],{"type":22,"value":1127},"IServiceCollection",{"type":22,"value":1129},", ",{"type":16,"tag":28,"props":1131,"children":1133},{"className":1132},[],[1134],{"type":22,"value":1135},"IMiddlewareCollection",{"type":22,"value":1137},",\n",{"type":16,"tag":28,"props":1139,"children":1141},{"className":1140},[],[1142],{"type":22,"value":1143},"IEndpointRouteBuilder",{"type":22,"value":1145}," etc.\nRefer to ",{"type":16,"tag":273,"props":1147,"children":1149},{"href":1148},"./layer#readiness-via-dependencies",[1150],{"type":22,"value":1151},"Readiness via Dependencies",{"type":22,"value":1153},"\nfor more details.",{"type":16,"tag":185,"props":1155,"children":1156},{},[1157,1165],{"type":16,"tag":24,"props":1158,"children":1159},{},[1160],{"type":16,"tag":82,"props":1161,"children":1162},{},[1163],{"type":22,"value":1164},"!WARNING",{"type":16,"tag":24,"props":1166,"children":1167},{},[1168,1170,1175,1177,1183,1185,1190,1192,1198,1200,1206],{"type":22,"value":1169},"When trying to get a certain object from ",{"type":16,"tag":28,"props":1171,"children":1173},{"className":1172},[],[1174],{"type":22,"value":1119},{"type":22,"value":1176},", exact type\nshould be given. Using any other type that extends or implements the target\nobject will result in an unsuccessful ",{"type":16,"tag":28,"props":1178,"children":1180},{"className":1179},[],[1181],{"type":22,"value":1182},"Get",{"type":22,"value":1184}," operation. For example, trying to\n",{"type":16,"tag":28,"props":1186,"children":1188},{"className":1187},[],[1189],{"type":22,"value":1182},{"type":22,"value":1191}," a ",{"type":16,"tag":28,"props":1193,"children":1195},{"className":1194},[],[1196],{"type":22,"value":1197},"WebApplication",{"type":22,"value":1199}," using ",{"type":16,"tag":28,"props":1201,"children":1203},{"className":1202},[],[1204],{"type":22,"value":1205},"IApplicationBuilder",{"type":22,"value":1207}," type will be unsuccessful.",{"type":16,"tag":24,"props":1209,"children":1210},{},[1211,1213,1219,1221,1226,1228,1234,1236,1242,1244,1250],{"type":22,"value":1212},"As mentioned ",{"type":16,"tag":273,"props":1214,"children":1216},{"href":1215},"./#layer",[1217],{"type":22,"value":1218},"earlier",{"type":22,"value":1220},", layers provide features with things\nto configure. For this to happen, application asks every layer what to configure\nat each phase. If a layer has something to get configured at a phase, such as\nthe ",{"type":16,"tag":28,"props":1222,"children":1224},{"className":1223},[],[1225],{"type":22,"value":1135},{"type":22,"value":1227}," at the ",{"type":16,"tag":1229,"props":1230,"children":1231},"em",{},[1232],{"type":22,"value":1233},"Build",{"type":22,"value":1235}," phase, it returns that object within\na phase context in ",{"type":16,"tag":28,"props":1237,"children":1239},{"className":1238},[],[1240],{"type":22,"value":1241},"ILayer.GetContext()",{"type":22,"value":1243},". Using this phase context, application\npasses the provided object(s) to all of the features through\n",{"type":16,"tag":28,"props":1245,"children":1247},{"className":1246},[],[1248],{"type":22,"value":1249},"IFeature.Configure()",{"type":22,"value":1251},". Phase contexts are disposed at the end of their phase.",{"type":16,"tag":24,"props":1253,"children":1254},{},[1255,1257,1263,1264,1270,1272,1278,1279,1285],{"type":22,"value":1256},"Below sequence diagram shows how an application runs in phases. In this diagram\nthere are two layers (",{"type":16,"tag":28,"props":1258,"children":1260},{"className":1259},[],[1261],{"type":22,"value":1262},"A",{"type":22,"value":1046},{"type":16,"tag":28,"props":1265,"children":1267},{"className":1266},[],[1268],{"type":22,"value":1269},"B",{"type":22,"value":1271},"), each having one phase, and two features\n(",{"type":16,"tag":28,"props":1273,"children":1275},{"className":1274},[],[1276],{"type":22,"value":1277},"X",{"type":22,"value":1046},{"type":16,"tag":28,"props":1280,"children":1282},{"className":1281},[],[1283],{"type":22,"value":1284},"Y",{"type":22,"value":1286},");",{"type":16,"tag":24,"props":1288,"children":1289},{},[1290],{"type":16,"tag":1018,"props":1291,"children":1293},{"alt":1020,"src":1292},"./application-2.svg",[],{"type":16,"tag":185,"props":1295,"children":1296},{},[1297,1304],{"type":16,"tag":24,"props":1298,"children":1299},{},[1300],{"type":16,"tag":82,"props":1301,"children":1302},{},[1303],{"type":22,"value":195},{"type":16,"tag":24,"props":1305,"children":1306},{},[1307,1309,1314,1316,1320,1322,1328,1329,1335,1336,1342,1344,1348],{"type":22,"value":1308},"A layer doesn't necessarily introduce new phases to an application, but all\nphases are applied to all layers nevertheless. For example, ",{"type":16,"tag":28,"props":1310,"children":1312},{"className":1311},[],[1313],{"type":22,"value":1011},{"type":22,"value":1315},"\nintroduces ",{"type":16,"tag":1229,"props":1317,"children":1318},{},[1319],{"type":22,"value":1233},{"type":22,"value":1321}," phase which is applied to ",{"type":16,"tag":28,"props":1323,"children":1325},{"className":1324},[],[1326],{"type":22,"value":1327},"Domain",{"type":22,"value":1129},{"type":16,"tag":28,"props":1330,"children":1332},{"className":1331},[],[1333],{"type":22,"value":1334},"HttpServer",{"type":22,"value":308},{"type":16,"tag":28,"props":1337,"children":1339},{"className":1338},[],[1340],{"type":22,"value":1341},"DataAccess",{"type":22,"value":1343}," layers to allow them provide their configuration specific to the\n",{"type":16,"tag":1229,"props":1345,"children":1346},{},[1347],{"type":22,"value":1233},{"type":22,"value":1349}," phase.",{"type":16,"tag":347,"props":1351,"children":1353},{"id":1352},"order-of-phases",[1354],{"type":22,"value":1355},"Order of Phases",{"type":16,"tag":24,"props":1357,"children":1358},{},[1359],{"type":22,"value":1360},"Initialization order of phases are determined by;",{"type":16,"tag":1362,"props":1363,"children":1364},"ol",{},[1365,1379,1391],{"type":16,"tag":1366,"props":1367,"children":1368},"li",{},[1369,1371,1377],{"type":22,"value":1370},"Readiness of a phase through ",{"type":16,"tag":28,"props":1372,"children":1374},{"className":1373},[],[1375],{"type":22,"value":1376},"IPhase.IsReady",{"type":22,"value":1378}," property,",{"type":16,"tag":1366,"props":1380,"children":1381},{},[1382,1384,1390],{"type":22,"value":1383},"Value of ",{"type":16,"tag":28,"props":1385,"children":1387},{"className":1386},[],[1388],{"type":22,"value":1389},"IPhase.Order",{"type":22,"value":1378},{"type":16,"tag":1366,"props":1392,"children":1393},{},[1394],{"type":22,"value":1395},"And the order they are added to the application.",{"type":16,"tag":24,"props":1397,"children":1398},{},[1399],{"type":22,"value":1400},"Application checks if a phase is ready and if it is not, application keeps it\nfor the next iteration of initializations.",{"type":16,"tag":24,"props":1402,"children":1403},{},[1404,1406,1411,1413,1418,1420,1425,1427,1432,1434,1439],{"type":22,"value":1405},"A phase makes use of given application context to determine if it is ready to\nbe initialized or not. For example, ",{"type":16,"tag":28,"props":1407,"children":1409},{"className":1408},[],[1410],{"type":22,"value":178},{"type":22,"value":1412}," phase looks for ",{"type":16,"tag":28,"props":1414,"children":1416},{"className":1415},[],[1417],{"type":22,"value":1197},{"type":22,"value":1419}," in\nthe given context. If it does not, phase decides not to initialize. This way\napplication knows that ",{"type":16,"tag":28,"props":1421,"children":1423},{"className":1422},[],[1424],{"type":22,"value":178},{"type":22,"value":1426}," phase is not ready until some other phase, e.g.,\n",{"type":16,"tag":28,"props":1428,"children":1430},{"className":1429},[],[1431],{"type":22,"value":1233},{"type":22,"value":1433}," phase, adds ",{"type":16,"tag":28,"props":1435,"children":1437},{"className":1436},[],[1438],{"type":22,"value":1197},{"type":22,"value":1440}," to the context.",{"type":16,"tag":24,"props":1442,"children":1443},{},[1444],{"type":16,"tag":1018,"props":1445,"children":1447},{"alt":1020,"src":1446},"./application-3.svg",[],{"type":16,"tag":185,"props":1449,"children":1450},{},[1451,1458],{"type":16,"tag":24,"props":1452,"children":1453},{},[1454],{"type":16,"tag":82,"props":1455,"children":1456},{},[1457],{"type":22,"value":195},{"type":16,"tag":24,"props":1459,"children":1460},{},[1461,1463,1469],{"type":22,"value":1462},"All phases need to initialize. Application will cause a\n",{"type":16,"tag":28,"props":1464,"children":1466},{"className":1465},[],[1467],{"type":22,"value":1468},"CannotProceedException",{"type":22,"value":1470}," if any of the phases never gets initialized.",{"type":16,"tag":24,"props":1472,"children":1473},{},[1474,1476,1482],{"type":22,"value":1475},"When two phases are ready to be initialized at the same iteration, application\nsorts them by their ",{"type":16,"tag":28,"props":1477,"children":1479},{"className":1478},[],[1480],{"type":22,"value":1481},"Order",{"type":22,"value":1483}," property. A phase can have the following orders;",{"type":16,"tag":1362,"props":1485,"children":1486},{},[1487,1492,1497,1502,1507],{"type":16,"tag":1366,"props":1488,"children":1489},{},[1490],{"type":22,"value":1491},"Earliest",{"type":16,"tag":1366,"props":1493,"children":1494},{},[1495],{"type":22,"value":1496},"Early",{"type":16,"tag":1366,"props":1498,"children":1499},{},[1500],{"type":22,"value":1501},"Normal",{"type":16,"tag":1366,"props":1503,"children":1504},{},[1505],{"type":22,"value":1506},"Late",{"type":16,"tag":1366,"props":1508,"children":1509},{},[1510],{"type":22,"value":1511},"Latest",{"type":16,"tag":24,"props":1513,"children":1514},{},[1515],{"type":22,"value":1516},"Application may have any number of phases with the same order at the same\niteration. So in that case, they will initialize in the order they are provided\nfrom layers.",{"type":16,"tag":695,"props":1518,"children":1520},{"id":1519},"earliest-and-latest-phases",[1521],{"type":22,"value":1522},"Earliest and Latest Phases",{"type":16,"tag":24,"props":1524,"children":1525},{},[1526,1528,1533,1535,1540,1542,1546,1547,1551,1553,1559],{"type":22,"value":1527},"There should be only one ",{"type":16,"tag":1229,"props":1529,"children":1530},{},[1531],{"type":22,"value":1532},"earliest",{"type":22,"value":1534}," phase and one ",{"type":16,"tag":1229,"props":1536,"children":1537},{},[1538],{"type":22,"value":1539},"latest",{"type":22,"value":1541}," phase per iteration.\nIf there are multiple ",{"type":16,"tag":1229,"props":1543,"children":1544},{},[1545],{"type":22,"value":1532},{"type":22,"value":263},{"type":16,"tag":1229,"props":1548,"children":1549},{},[1550],{"type":22,"value":1539},{"type":22,"value":1552}," phases, application will throw an\n",{"type":16,"tag":28,"props":1554,"children":1556},{"className":1555},[],[1557],{"type":22,"value":1558},"OverlappingPhaseException",{"type":22,"value":1560}," and execution will stop. If you see this exception,\nit means you need to reorder phases so that they don't overlap, or you might\nchange their readiness so that they run in their own iteration.",{"type":16,"tag":24,"props":1562,"children":1563},{},[1564,1566,1571,1572,1577,1579,1585,1587,1591,1593,1597],{"type":22,"value":1565},"These special values ensures certain phases are initialized firstly or lastly.\nFor example, the first phase of ",{"type":16,"tag":28,"props":1567,"children":1569},{"className":1568},[],[1570],{"type":22,"value":1011},{"type":22,"value":1129},{"type":16,"tag":1229,"props":1573,"children":1574},{},[1575],{"type":22,"value":1576},"Create Builder",{"type":22,"value":1578},", adds\n",{"type":16,"tag":28,"props":1580,"children":1582},{"className":1581},[],[1583],{"type":22,"value":1584},"WebApplicationBuilder",{"type":22,"value":1586}," to the application context, which should be the first\nthing to be done when running an application. To ensure this, ",{"type":16,"tag":1229,"props":1588,"children":1589},{},[1590],{"type":22,"value":1576},{"type":22,"value":1592},"\nshould be able to declare itself to be the only ",{"type":16,"tag":1229,"props":1594,"children":1595},{},[1596],{"type":22,"value":1532},{"type":22,"value":1598}," phase of its\niteration.",{"type":16,"tag":1600,"props":1601,"children":1602},"style",{},[1603],{"type":22,"value":1604},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":9,"searchDepth":106,"depth":106,"links":1606},[1607,1608,1612],{"id":38,"depth":106,"text":41},{"id":242,"depth":106,"text":245,"children":1609},[1610,1611],{"id":349,"depth":136,"text":306},{"id":470,"depth":136,"text":314},{"id":873,"depth":106,"text":876,"children":1613},[1614],{"id":1352,"depth":136,"text":1355},"markdown","content:architecture:application.md","content","architecture/application.md","architecture/application","md",["Reactive",1622],{},["Set"],["ShallowReactive",1625],{"content-query-2FQT24X9cd":1626},null,true,["Reactive",1629],{"sectionStore":1630,"pageStore":1645},{"sections":1631},[1632,1635,1637,1639,1642],{"_path":1633,"_dir":9,"title":1634},"/recipes/","Recipes",{"_path":1636,"_dir":9,"title":314},"/features/",{"_path":1638,"_dir":9,"title":306},"/layers/",{"_path":1640,"_dir":9,"title":1641},"/architecture/","Architecture",{"_path":1643,"_dir":9,"title":1644},"/release-notes/","Release Notes",{"pages":1646},[1647,1651,1652,1655],{"_path":1640,"title":1641,"pages":1648},[19,1649,1650],"layer","feature",{"_path":6,"title":10},{"_path":1653,"title":1654},"/architecture/layer","Layer",{"_path":1656,"title":1657},"/architecture/feature","Feature"]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:false,h3:false,h4:false,h5:false,h6:false}}},baseURL:"/",githubURL:"/mouseless/baked",matrixURL:"#baked:mouseless.org",content:{locales:[],defaultLocale:"",integrity:1738776231754,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"slack-dark",preload:["diff","ts","js","css","java","markdown","sql","xml","json","csharp","md","bash"],highlighter:"shiki",shikiEngine:"oniguruma",langs:["js","jsx","json","ts","tsx","vue","css","html","bash","md","mdc","yaml","diff","ts","js","css","java","markdown","sql","xml","json","csharp","md","bash"]},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildId:"20fb435d-af8d-49ed-a40b-484ba0794fd5",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>