<!DOCTYPE html>
<html >
<head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Layer</title>
<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Do">
<meta property="og:description" content="An opinionated framework for .NET">
<meta property="og:image" content="https://do.mouseless.codes/favicon.ico">
<meta property="og:image:width" content="50">
<meta property="og:image:height" content="50">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
<link rel="stylesheet" type="text/css" href="https://mouseless.github.io/brand/assets/css/default.css">
<meta property="og:title" content="Layer">
<meta name="description" content="Each ILayer implementation represents an internal system component of the
software you develop. A layer provides application features with configuration
of this system component so that the features can bind domain objects and
system components together.">
<meta property="og:description" content="Each ILayer implementation represents an internal system component of the
software you develop. A layer provides application features with configuration
of this system component so that the features can bind domain objects and
system components together.">
<style>.content[data-v-5e897649],.full[data-v-5e897649]{box-sizing:border-box;margin:auto;max-width:calc(var(--width-content) + 34em);min-width:270px}@media (max-width:1830px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:calc(var(--width-content) + 34em)}}@media (max-width:1330px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:calc(var(--width-content) + 19em)}}@media (max-width:1074px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:calc(var(--width-content))}}@media (max-width:818px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:82%}}.content[data-v-5e897649]{display:grid;grid-template-areas:"side content" "side content";grid-template-columns:15em;grid-template-rows:65px 1fr}.side[data-v-5e897649]{grid-area:side}article[data-v-5e897649]{grid-area:content}@media (max-width:1330px){.content[data-v-5e897649]{margin-top:0}}@media (max-width:1074px){.side[data-v-5e897649]{grid-column-end:content;z-index:2}article[data-v-5e897649]{grid-column-start:side}}@media (max-width:818px){.content[data-v-5e897649]{display:block}}</style>
<style>div.top[data-v-049e3959]{border-bottom:2px solid var(--color-bg-soft)}header[data-v-049e3959]{align-items:center;box-sizing:border-box;display:flex;flex-direction:row;justify-content:space-between;margin:auto;max-width:calc(var(--width-content) + 34em);min-width:270px}@media (max-width:1830px){header[data-v-049e3959]{max-width:calc(var(--width-content) + 34em)}}@media (max-width:1330px){header[data-v-049e3959]{max-width:calc(var(--width-content) + 19em)}}@media (max-width:1074px){header[data-v-049e3959]{max-width:calc(var(--width-content))}}@media (max-width:818px){header[data-v-049e3959]{max-width:82%}}header .bars[data-v-049e3959]{display:none}div.logo[data-v-049e3959]{margin:20px 0}div.logo a[data-v-049e3959]:has(img.logo){display:block;height:25px}div.logo a:has(img.logo) img.do[data-v-049e3959]:is(.logo){display:inline-block;height:25px}a[data-v-049e3959]{color:var(--color-fg-soft);cursor:pointer}a[data-v-049e3959]:hover{color:var(--color-logo-mark)}nav a[data-v-049e3959]{margin:1em;text-decoration:none}nav a.close[data-v-049e3959]{display:none}nav a.active[data-v-049e3959]{border-bottom-color:var(--color-bg-soft);border-bottom:2px solid var(--color-logo-mark);padding-bottom:22px}nav a[data-v-049e3959]:last-child{margin-right:0}@media (max-width:1830px){nav a.active[data-v-049e3959]{padding-bottom:24px}}@media (max-width:1074px){a.bars[data-v-049e3959]{display:block}nav[data-v-049e3959]{background:var(--color-bg);border-left:2px solid var(--color-bg-soft);display:none;height:100%;padding:20px;position:fixed;right:0;top:0;width:calc(270px - 4em);z-index:99}nav a[data-v-049e3959],nav.active[data-v-049e3959]{display:block}nav a[data-v-049e3959]{height:2em}nav a.close[data-v-049e3959]{display:block;margin-bottom:1em}nav a.close i[data-v-049e3959]{font-size:larger}nav a.active[data-v-049e3959]{border:0;border-left-color:var(--color-bg-soft);border-left:2px solid var(--color-logo-mark);margin-left:-22px;padding-bottom:0;padding-left:calc(20px + 1em)}}@media (max-width:818px){nav[data-v-049e3959]{width:calc(270px - 7em)}}</style>
<style>nav[data-v-9dee0249]{align-self:start;margin-top:2.5em;position:sticky;top:1.5em}nav h4[data-v-9dee0249]{display:none}nav ul[data-v-9dee0249]{margin:0;padding:0}nav ul li[data-v-9dee0249]{list-style:none;margin:0}nav ul li a[data-v-9dee0249]{border-radius:calc(var(--border-radius)/3);color:var(--color-fg-soft);display:block;font-size:1em;padding:.5em 1em;text-decoration:none}nav ul li a[data-v-9dee0249]:hover{color:var(--color-logo-mark)}nav ul li a.active[data-v-9dee0249]{background-color:var(--color-bg-soft)}@media (max-width:1330px){nav[data-v-9dee0249]{margin-top:3.5em}}@media (max-width:1074px){nav[data-v-9dee0249]{margin-top:0;top:0;width:50%}nav h4[data-v-9dee0249]{display:block;font-size:.9em;text-transform:uppercase}nav h4 a[data-v-9dee0249]{padding-left:0}nav h4 a[data-v-9dee0249]:hover{color:var(--color-logo-mark)}nav ul[data-v-9dee0249]{background-color:var(--color-bg-box);background-color:var(--color-bg-soft);border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);box-sizing:border-box;display:none;padding:calc(var(--border-radius) - .5em) calc(var(--border-radius) - 1em);position:absolute;width:200%}nav ul.active[data-v-9dee0249]{display:block}nav ul li a.active[data-v-9dee0249]{background-color:var(--color-bg-mute)}}@media (max-width:818px){nav[data-v-9dee0249]{margin-bottom:-3.7em}}</style>
<style>.container[data-v-b90ae7fa]{display:flex}.container .content[data-v-b90ae7fa]{margin:0 4em;max-width:var(--width-content);width:100%}@media (max-width:1330px){.container[data-v-b90ae7fa]{flex-direction:column-reverse;margin-left:4em}.container .content[data-v-b90ae7fa]{margin:1em 0 0}}@media (max-width:1074px){.container[data-v-b90ae7fa]{margin-left:0}}</style>
<style>.full .content{margin-left:0!important;margin-right:0!important}@media (max-width:1330px){.full .container{margin-left:0}}</style>
<style>div.bottom[data-v-1bbc78ba]{border-top:2px solid var(--color-bg-soft);margin-top:4em}footer[data-v-1bbc78ba]{align-items:flex-start;box-sizing:border-box;display:flex;flex-direction:row;justify-content:space-between;margin:1em auto;max-width:calc(var(--width-content) + 34em);min-width:270px}@media (max-width:1830px){footer[data-v-1bbc78ba]{max-width:calc(var(--width-content) + 34em)}}@media (max-width:1330px){footer[data-v-1bbc78ba]{max-width:calc(var(--width-content) + 19em)}}@media (max-width:1074px){footer[data-v-1bbc78ba]{max-width:calc(var(--width-content))}}@media (max-width:818px){footer[data-v-1bbc78ba]{max-width:82%}}footer[data-v-1bbc78ba],footer *[data-v-1bbc78ba]{color:var(--color-fg-mute)}footer div[data-v-1bbc78ba],footer nav[data-v-1bbc78ba]{font-family:var(--font-heading);font-size:smaller}div.logo[data-v-1bbc78ba]{margin:20px 0}div.logo a[data-v-1bbc78ba]:has(img.logo){display:block;height:15px}div.logo a:has(img.logo) img.do[data-v-1bbc78ba]:is(.logo){display:inline-block;height:15px;opacity:.5}div.logo span[data-v-1bbc78ba]{display:inline-block;margin-top:1em}nav[data-v-1bbc78ba]{text-align:right}nav a[data-v-1bbc78ba]{display:block;margin:5px;text-decoration:none}nav a[data-v-1bbc78ba]:hover,nav a:hover i[data-v-1bbc78ba]{color:var(--color-logo-mark)}@media (max-width:818px){footer[data-v-1bbc78ba]{display:block}footer nav[data-v-1bbc78ba]{text-align:left}footer nav a[data-v-1bbc78ba]{margin-left:0}}</style>
<style>.navigation-buttons-container[data-v-6a000fc9]{margin-top:4em;max-width:var(--width-content)}.navigation-buttons-container .button[data-v-6a000fc9]{margin-top:.9em;padding-left:.4em;padding-right:.4em}.navigation-buttons-container .button a[data-v-6a000fc9]{text-decoration:none}.navigation-buttons-container .button a .link-text[data-v-6a000fc9]{color:var(--color-fg-mute);font-size:.75em}.navigation-buttons-container .button a .link-text h3[data-v-6a000fc9]{color:var(--color-fg-soft);font-size:1.5em;margin-top:.1em}.navigation-buttons-container .button a:hover h3[data-v-6a000fc9]{color:var(--color-logo-mark)}.navigation-buttons-container .button.left[data-v-6a000fc9]{float:left;text-align:left}.navigation-buttons-container .button.right[data-v-6a000fc9]{float:right;text-align:end}</style>
<style>h4[data-v-4f8affad]{margin-bottom:.5em;padding-left:1em}h4[data-v-4f8affad],nav[data-v-4f8affad]{font-size:.9em}nav[data-v-4f8affad]{text-wrap:nowrap;align-self:start;margin-top:2.5em;overflow:hidden;position:sticky;top:1.5em;width:15em}nav ul[data-v-4f8affad]{margin:0;padding-left:0}nav ul li[data-v-4f8affad]{line-height:24px;list-style:none;margin:0}nav ul li a[data-v-4f8affad]{border-left:2px solid transparent;color:var(--color-fg-soft);cursor:pointer;display:block;font-size:.9em;margin-top:.25em;overflow:hidden;padding-left:1em;text-decoration:none;text-overflow:ellipsis}nav ul li a[data-v-4f8affad]:hover{color:var(--color-logo-mark)}nav ul li a.active[data-v-4f8affad]{border-left-color:var(--color-bg-mute)}nav ul li a.return-to-top[data-v-4f8affad]{margin-top:.75em}nav ul li ul[data-v-4f8affad]{margin-bottom:.25em}nav ul li ul a[data-v-4f8affad]{padding-left:2em}@media (max-width:1330px){nav[data-v-4f8affad]{background-color:var(--color-bg);font-size:1em;margin:0 0 -3.7em;text-align:right;top:0;width:100%}nav h4 a[data-v-4f8affad]{display:inline-block;padding-left:0;padding-right:0}nav h4 a[data-v-4f8affad]:hover{color:var(--color-logo-mark)}nav>ul[data-v-4f8affad]{background-color:var(--color-bg-box);background-color:var(--color-bg-soft);border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);display:none;margin-bottom:2.5em;padding:var(--border-radius);padding-left:0;text-align:left}nav>ul.active[data-v-4f8affad]{display:block}nav ul li a[data-v-4f8affad]{padding-left:var(--border-radius)}nav ul li a.active[data-v-4f8affad]:before{left:0}nav ul li ul li a[data-v-4f8affad]{padding-left:calc(var(--border-radius) + 1em)}}</style>
<style>a[data-v-f8417185]{font-family:var(--font-default)}i[data-v-f8417185]{margin-left:.3em}</style>
<style>pre code .line{display:block;min-height:1rem}</style>
<style>blockquote[data-v-cab260a3]{align-items:flex-start;border-radius:10px;display:flex;flex-direction:row;justify-content:flex-start;margin:1em 0;max-width:var(--width-content);padding:0}blockquote i[data-v-cab260a3]{line-height:var(--line-height);margin-top:1em;position:absolute}blockquote div[data-v-cab260a3]{padding-left:3ch;width:100%}blockquote.info i[data-v-cab260a3]{color:var(--color-blue)}blockquote.warning i[data-v-cab260a3]{color:var(--color-orange)}blockquote.tip i[data-v-cab260a3]{color:var(--color-green)}blockquote.danger i[data-v-cab260a3]{color:var(--color-red)}blockquote.default i[data-v-cab260a3]{color:var(--color-fg)}@media (min-width:1830px){blockquote i[data-v-cab260a3]{line-height:calc(var(--line-height)*1.1)}}</style>
<style>@media (prefers-color-scheme:dark){:root{--url-logo-full:url(/logo-full-primary.svg);--url-logo-full-mono:url(/logo-full-white.svg);--url-logo-mark:url(/logo-mark-primary.svg);--url-logo-mark-mono:url(/logo-mark-white.svg)}}@media (prefers-color-scheme:light){:root{--url-logo-full:url(/logo-full-secondary.svg);--url-logo-full-mono:url(/logo-full-black.svg);--url-logo-mark:url(/logo-mark-primary.svg);--url-logo-mark-mono:url(/logo-mark-black.svg)}}body,html{margin:0;padding:0}body{font-size:calc(var(--font-size)*1.2);line-height:calc(var(--line-height)*1.1)}img.do:is(.logo),img.do:is(.logo:is(.full)){content:var(--url-logo-full)}img.do:is(.logo):is(.mono),img.do:is(.logo:is(.full)):is(.mono){content:var(--url-logo-full-mono)}img.do:is(.logo:is(.mark)){content:var(--url-logo-mark)}img.do:is(.logo:is(.mark)):is(.mono){content:var(--url-logo-mark-mono)}.content nav h4{margin-bottom:.5em;margin-top:0;text-transform:uppercase}.content nav h4 a{display:inline-block;text-decoration:none}.content nav h4 a,.content nav h4 a:hover{color:var(--color-fg-soft)}.content p:has(.diagram){background-color:var(--color-bg-box);border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-color:var(--color-bg-soft);border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);padding:30px 0 18px;text-align:center}.content code{background-color:var(--color-bg-soft);border-radius:5px;color:var(--color-soft);font-size:.9em;overflow-wrap:anywhere;padding:.2em .4em}.content pre{text-wrap:wrap;overflow:auto}.content pre code{text-wrap:nowrap;background-color:transparent;display:block;line-height:1.5em;max-width:0;padding:0}.content ol li,.content ul li{margin-bottom:.2em}.content ol li ol,.content ol li ul,.content ul li ol,.content ul li ul{margin-top:.2em}.content hr{border:2px solid var(--color-bg-soft)}@media (max-width:1830px){body{font-size:var(--font-size);line-height:var(--line-height)}.content pre code{line-height:1em}}@media (max-width:1330px){.content h2,.content h3{scroll-margin-top:3em}nav h4 a{cursor:pointer;padding:1em}nav h4 a:hover{color:var(--color-logo-mark)}}</style>
<link rel="stylesheet" href="/_nuxt/ProsePre.e63e49c6.css">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.d8e9bf6d.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/default.e85492f7.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Header.d3eb8790.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/nuxt-link.d3ee2cf3.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/sectionStore.50da70e9.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Side.51d02c63.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/pageStore.640fcdec.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Footer.f35c975c.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/query.abf3a5cf.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/preview.59bcf3c1.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/applyOrder.347713b5.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/_...content-page_.47e5f7f5.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRenderer.02249176.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.vue.064a1034.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/index.288f722b.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BottomNavigation.2540cad2.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Toc.52017ae4.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentDoc.6119ec4f.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/vue.f36acd1f.73b029a1.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentQuery.42e76985.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/asyncData.94715a40.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.5a3fc2a6.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH1.6b9d5d8a.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.ca83a9c4.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCodeInline.362d42ae.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.5a43e4c8.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH2.2de4f18f.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseOl.2475b742.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseLi.4a5e72c5.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProsePre.7ac88425.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.vue.898ce029.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.6b0004e7.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseBlockquote.824ccbfc.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH3.30928f7b.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH4.a7ff0104.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/error-404.5f2a60b5.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/error-500.c8f18509.js">
<script type="module" src="/_nuxt/entry.d8e9bf6d.js" crossorigin></script></head>
<body ><div id="__nuxt"><div data-v-5e897649><div class="top" data-v-5e897649 data-v-049e3959><header data-v-049e3959><div class="logo" data-v-049e3959><a href="/" class="" data-v-049e3959><img class="do logo" data-v-049e3959></a></div><a class="bars" data-v-049e3959><i class="fa-solid fa-bars" data-v-049e3959></i></a><nav class="" data-v-049e3959><a class="close" data-v-049e3959><i class="fa-solid fa-close" data-v-049e3959></i></a><!--[--><a href="/blueprints/" class="" data-v-049e3959>Blueprints</a><a href="/features/" class="" data-v-049e3959>Features</a><a href="/layers/" class="" data-v-049e3959>Layers</a><a href="/architecture/" class="active" data-v-049e3959>Architecture</a><a href="/release-notes/" class="" data-v-049e3959>Release Notes</a><!--]--><a href="https://github.com/mouseless/do" rel="noopener noreferrer" target="_blank" data-v-049e3959><i class="fa-brands fa-github" data-v-049e3959></i></a></nav></header></div><div class="content" data-v-5e897649><nav class="side" data-v-5e897649 data-v-9dee0249><h4 data-v-9dee0249><a data-v-9dee0249>Pages</a></h4><ul class="" data-v-9dee0249><li data-v-9dee0249><!--[--><!--]--></li></ul></nav><article data-v-5e897649><!--[--><!--[--><div class="container" data-v-b90ae7fa><div class="content" data-v-b90ae7fa><div class="toc-root" data-v-b90ae7fa><h1 id="layer"><!--[-->Layer<!--]--></h1><p><!--[-->Each <code class=""><!--[-->ILayer<!--]--></code> implementation represents an internal system component of the
software you develop. A layer provides application features with configuration
of this system component so that the features can bind domain objects and
system components together.<!--]--></p><p><!--[-->Let&#39;s take relational database as an example. A relational database is treated
as an internal system component and is introduced by the <code class=""><!--[-->DataAccessLayer<!--]--></code> along
with a configuration API. This API enables a feature to map your domain entities
to database tables.<!--]--></p><p><!--[-->Another good example is the <code class=""><!--[-->HttpServerLayer<!--]--></code>. This layer introduces the ASP.NET
Core framework into your application. It provides three phases, as mentioned in
<a href="/architecture/application" class="" data-v-f8417185><!--[-->Application<!--]--><!----></a>, along with <code class=""><!--[-->IMiddlewareCollection<!--]--></code> and
<code class=""><!--[-->IEndpointRouteBuilder<!--]--></code> objects as its configuration API. This way, any feature
has the ability to use a middleware or add routes to the application.<!--]--></p><h2 id="conventions"><!--[-->Conventions<!--]--></h2><p><!--[-->For a consistent developer experience, follow below conventions when
implementing a new layer;<!--]--></p><ol><!--[--><li><!--[-->Place all layer related classes under the same folder named after layer,
e.g., <code class=""><!--[-->DependencyInjection/<!--]--></code><!--]--></li><li><!--[-->Use <code class=""><!--[-->Layer<!--]--></code> suffix in layer class name, e.g.,
<code class=""><!--[-->DependencyInjection/DependencyInjectionLayer.cs<!--]--></code><!--]--></li><li><!--[-->Provide extension methods in <code class=""><!--[-->Do<!--]--></code> namespace, e.g.,
<code class=""><!--[-->DependencyInjection/DependencyInjectionExtensions.cs<!--]--></code>;
<ol><!--[--><li><!--[--><code class=""><!--[-->Add<!--]--></code> extension to <code class=""><!--[-->List&lt;ILayer&gt;<!--]--></code>, e.g., <code class=""><!--[-->AddDependencyInjection()<!--]--></code><!--]--></li><li><!--[--><code class=""><!--[-->Get<!--]--></code> extensions to <code class=""><!--[-->ApplicationContext<!--]--></code>, e.g.,
<code class=""><!--[-->GetWebApplicationBuilder()<!--]--></code>, <code class=""><!--[-->GetWebApplication()<!--]--></code><!--]--></li><li><!--[--><code class=""><!--[-->Configure<!--]--></code> extensions to <code class=""><!--[-->LayerConfigurator<!--]--></code> per configuration
target(s), e.g., <code class=""><!--[-->ConfigureServiceCollection()<!--]--></code><!--]--></li><!--]--></ol><!--]--></li><li><!--[-->Place phase implementations as nested classes under the layer class<!--]--></li><li><!--[-->Don&#39;t use any suffix for phases and use method-like names, e.g., <code class=""><!--[-->Build<!--]--></code> and
<code class=""><!--[-->Run<!--]--></code><!--]--></li><!--]--></ol><p><!--[-->Please refer to existing layers in <a href="https://github.com/mouseless/do" rel="nofollow" target="_blank" data-v-f8417185><!--[-->github.com/mouseless/do<!--]--><i class="fa-solid fa-arrow-up-right-from-square" data-v-f8417185></i></a> for examples.<!--]--></p><h2 id="creating-a-layer"><!--[-->Creating A Layer<!--]--></h2><p><!--[-->To create a layer, create a class using above conventions and extend
<code class=""><!--[-->LayerBase<!--]--></code>.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">    ...
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="tip" data-v-cab260a3><i class="fa fa-lightbulb" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->You can directly implement provided interface <code class=""><!--[-->ILayer<!--]--></code>, however we&#39;ve created
some base classes to make it easier for you to create layers. All examples
demonstrate usage of these base classes.<!--]--></p><!--]--></div></blockquote><h3 id="id-of-a-layer"><!--[--><code class=""><!--[-->Id<!--]--></code> of a Layer<!--]--></h3><p><!--[--><code class=""><!--[-->ILayer<!--]--></code> has an <code class=""><!--[-->Id<!--]--></code> property which should be a unique per <code class=""><!--[-->Application<!--]--></code>
instance. <code class=""><!--[-->LayerBase<!--]--></code> sets the <code class=""><!--[-->Id<!--]--></code> as name of the concrete class e.g.,
<code class=""><!--[-->LayerX<!--]--></code> at above example.<!--]--></p><p><!--[-->You can override its value in layer implementation class as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> string</span><span style="--shiki-default:#9CDCFE"> Id</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#CE9178"> &quot;CustomUniqueId&quot;
</span></span><span class="line" line="4"><span style="--shiki-default:#D4D4D4">    ..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><h2 id="adding-phases"><!--[-->Adding Phases<!--]--></h2><p><!--[-->By default <code class=""><!--[-->LayerBase<!--]--></code> returns no phases. To add one or more phases into the
application, you need to override <code class=""><!--[-->GetPhases()<!--]--></code> method as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> SampleLayer</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> IEnumerable</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">IPhase</span><span style="--shiki-default:#E6E6E6">&gt; </span><span style="--shiki-default:#DCDCAA">GetPhases</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="5"><span style="--shiki-default:#C586C0">        yield</span><span style="--shiki-default:#C586C0"> return</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#4EC9B0"> DoA</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span style="--shiki-default:#C586C0">        yield</span><span style="--shiki-default:#C586C0"> return</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#4EC9B0"> DoB</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#569CD6">    public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> DoA</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6"> { ... }
</span></span><span class="line" line="10"><span style="--shiki-default:#569CD6">    public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> DoB</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6"> { ... }
</span></span><span class="line" line="11"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->Here <code class=""><!--[-->SampleLayer<!--]--></code> adds two phases, <code class=""><!--[-->DoA<!--]--></code> and <code class=""><!--[-->DoB<!--]--></code>, to the application.<!--]--></p><blockquote class="tip" data-v-cab260a3><i class="fa fa-lightbulb" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->By convention place the phase implementations as a nested class in the layer
it is added.<!--]--></p><!--]--></div></blockquote><h3 id="initializing-a-phase"><!--[-->Initializing a Phase<!--]--></h3><p><!--[--><code class=""><!--[-->PhaseBase<!--]--></code> class has <code class=""><!--[-->Initialize()<!--]--></code> method to override so that it can add an
object to the application context via <code class=""><!--[-->Context<!--]--></code> property. Below, you can see
how <code class=""><!--[-->CreateBuilder<!--]--></code> phase adds <code class=""><!--[-->WebApplicationBuilder<!--]--></code> to the context;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> CreateBuilder</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Initialize</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">        var</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#9CDCFE"> WebApplication</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateBuilder</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">build</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="tip" data-v-cab260a3><i class="fa fa-lightbulb" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->You can directly implement provided interface <code class=""><!--[-->IPhase<!--]--></code>, however we&#39;ve created
some base classes to make it easier for you to create phases. All examples
demonstrate usage of these base classes.<!--]--></p><!--]--></div></blockquote><h3 id="readiness-via-dependencies"><!--[-->Readiness via Dependencies<!--]--></h3><p><!--[-->You can define context dependencies via generic <code class=""><!--[-->PhaseBase&lt;&gt;<!--]--></code> classes to make
the phase wait until context is ready to provide that dependency. For example,
<code class=""><!--[-->Build<!--]--></code> depends on the <code class=""><!--[-->WebApplicationBuilder<!--]--></code> instance as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> Build</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">WebApplicationBuilder</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Initialize</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">WebApplicationBuilder</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">        var</span><span style="--shiki-default:#9CDCFE"> app</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Build</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">app</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[--><code class=""><!--[-->PhaseBase&lt;T&gt;<!--]--></code> class requires <code class=""><!--[-->Initialize(T t)<!--]--></code> method to be implemented.<!--]--></p><blockquote class="info" data-v-cab260a3><i class="fa fa-circle-info" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->You can provide more than one dependency for a phase. E.g., <code class=""><!--[-->Phase&lt;X, Y&gt;<!--]--></code>
will require <code class=""><!--[-->Initialize(X x, Y y)<!--]--></code> method to be implemented.<!--]--></p><!--]--></div></blockquote><blockquote class="warning" data-v-cab260a3><i class="fa fa-warning" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->Type of the dependency provided, must be exactly the same as the type of
dependency in <code class=""><!--[-->ApplicationContext<!--]--></code>. For more information
<a href="/architecture/application#running-an-application" class="" data-v-f8417185><!--[-->Running an Application<!--]--><!----></a><!--]--></p><!--]--></div></blockquote><h3 id="order-of-a-phase"><!--[-->Order of a Phase<!--]--></h3><p><!--[--><code class=""><!--[-->PhaseBase<!--]--></code> classes has <code class=""><!--[-->order<!--]--></code> parameter in their constructors. Default order
is <code class=""><!--[-->PhaseOrder.Normal<!--]--></code>. If you need to change the order, pass the desired order
to this parameter as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> DoThisEarlyOn</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    public</span><span style="--shiki-default:#DCDCAA"> DoThisEarlyOn</span><span style="--shiki-default:#E6E6E6">() : </span><span style="--shiki-default:#569CD6">base</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">PhaseOrder</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#9CDCFE">Early</span><span style="--shiki-default:#E6E6E6">) { }
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><h2 id="providing-configuration"><!--[-->Providing Configuration<!--]--></h2><p><!--[-->Layers provide configuration objects phase by phase. This means a layer can
provide two different configuration objects for two different phases. For this
reason, a layer returns <code class=""><!--[-->PhaseContext<!--]--></code> instance per phase to which it provides
configuration.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> LayerXConfiguration</span><span style="--shiki-default:#9CDCFE"> _configuration</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="6"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->In this example, you see a layer named <code class=""><!--[-->LayerX<!--]--></code> providing a
<code class=""><!--[-->LayerXConfiguration<!--]--></code> instance during <code class=""><!--[-->AddServices<!--]--></code> phase.<!--]--></p><blockquote class="info" data-v-cab260a3><i class="fa fa-circle-info" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->By default, a layer returns <code class=""><!--[-->PhaseContext.Empty<!--]--></code> instance for the phases it
does not provide a configuration. This means <code class=""><!--[-->Application<!--]--></code> skips that layer
for the phases it doesn&#39;t have anything to configure.<!--]--></p><!--]--></div></blockquote><h3 id="using-non-generic-layerbase"><!--[-->Using non-generic <code class=""><!--[-->LayerBase<!--]--></code><!--]--></h3><p><!--[--><code class=""><!--[-->LayerBase&lt;&gt;<!--]--></code> classes allow up to three generic arguments. If you need to
implement a layer that has things to configure during more than three phases,
use non-generic <code class=""><!--[-->LayerBase<!--]--></code> class, override <code class=""><!--[-->GetContext(IPhase phase)<!--]--></code> method
and switch given phase according to its type;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> MyLayer</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">IPhase</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#C586C0"> switch
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">        {
</span></span><span class="line" line="6"><span style="--shiki-default:#4EC9B0">            PhaseA</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.),
</span></span><span class="line" line="7"><span style="--shiki-default:#4EC9B0">            PhaseB</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.),
</span></span><span class="line" line="8"><span style="--shiki-default:#569CD6">            _</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#569CD6"> base</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">phase</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">        };
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><h3 id="before-and-after-a-phase"><!--[-->Before and After a Phase<!--]--></h3><p><!--[-->Layers might need to do some standard stuff before and after a phase is applied
to all features for all layers. Use <code class=""><!--[-->GetContext()<!--]--></code> method to do stuff before,
and <code class=""><!--[-->onDispose:<!--]--></code> delegate to do stuff after.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> LayerXConfiguration</span><span style="--shiki-default:#9CDCFE"> _configuration</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="6"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="7"><span style="--shiki-default:#569CD6">        var</span><span style="--shiki-default:#9CDCFE"> services</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#9CDCFE"> Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Get</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">IServiceCollection</span><span style="--shiki-default:#E6E6E6">&gt;();
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#9CDCFE">        services</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddStandardStuffBefore</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration</span><span style="--shiki-default:#E6E6E6">,
</span></span><span class="line" line="12"><span style="--shiki-default:#9CDCFE">            onDispose</span><span style="--shiki-default:#E6E6E6">: () </span><span style="--shiki-default:#D4D4D4">=&gt;</span><span style="--shiki-default:#9CDCFE"> services</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddStandardStuffAfter</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">        );
</span></span><span class="line" line="14"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="15"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="info" data-v-cab260a3><i class="fa fa-circle-info" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->Notice that a layer has access to the <code class=""><!--[-->ApplicationContext<!--]--></code> instance through
<code class=""><!--[-->Context<!--]--></code> property provided in <code class=""><!--[-->LayerBase<!--]--></code> base class.<!--]--></p><!--]--></div></blockquote><blockquote class="warning" data-v-cab260a3><i class="fa fa-warning" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[--><code class=""><!--[-->GetContext()<!--]--></code> method is called for every layer before applying any of them
to features. And <code class=""><!--[-->onDispose:<!--]--></code> actions are called after applying these
contexts to all features.<!--]--></p><!--]--></div></blockquote><h3 id="providing-multiple-targets"><!--[-->Providing Multiple Targets<!--]--></h3><p><!--[-->It is possible to provide up to three configuration objects for the same phase.
There are two ways of providing multiple targets; at once or one by one.<!--]--></p><h4 id="at-once"><!--[-->At Once<!--]--></h4><p><!--[-->Below code demonstrates providing two configuration objects at once;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration1</span><span style="--shiki-default:#9CDCFE"> _configuration1</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration2</span><span style="--shiki-default:#9CDCFE"> _configuration2</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration1</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#9CDCFE">_configuration2</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->This phase context will require an action with two parameter in a feature;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="2"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Configure</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">LayerConfigurator</span><span style="--shiki-default:#9CDCFE"> configurator</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">    configurator</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Configure</span><span style="--shiki-default:#E6E6E6">((</span><span style="--shiki-default:#4EC9B0">Configuration1</span><span style="--shiki-default:#9CDCFE"> configuration1</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#4EC9B0">Configuration2</span><span style="--shiki-default:#9CDCFE"> configuration2</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="6"><span style="--shiki-default:#6A9955">        // use both objects to configure
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">    });
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">}
</span></span><span class="line" line="9"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span></code><!--]--></pre><!--]--><p><!--[-->See <a href="/architecture/feature" class="" data-v-f8417185><!--[-->Feature<!--]--><!----></a> for more information on using layer configurators
for features.<!--]--></p><h4 id="one-by-one"><!--[-->One by One<!--]--></h4><p><!--[-->Below code demonstrates providing configuration objects one by one;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration1</span><span style="--shiki-default:#9CDCFE"> _configuration1</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration2</span><span style="--shiki-default:#9CDCFE"> _configuration2</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContextBuilder</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration1</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration2</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Build</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="11"><span style="--shiki-default:#E6E6E6">        ;
</span></span><span class="line" line="12"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->This phase context will require two different actions in a feature;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="2"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Configure</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">LayerConfigurator</span><span style="--shiki-default:#9CDCFE"> configurator</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">    configurator</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Configure</span><span style="--shiki-default:#E6E6E6">((</span><span style="--shiki-default:#4EC9B0">Configuration1</span><span style="--shiki-default:#9CDCFE"> configuration1</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="6"><span style="--shiki-default:#6A9955">        // configure one by one
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">    });
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#9CDCFE">    configurator</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Configure</span><span style="--shiki-default:#E6E6E6">((</span><span style="--shiki-default:#4EC9B0">Configuration2</span><span style="--shiki-default:#9CDCFE"> configuration2</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="11"><span style="--shiki-default:#6A9955">        // configure one by one
</span></span><span class="line" line="12"><span style="--shiki-default:#E6E6E6">    });
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">}
</span></span><span class="line" line="14"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span></code><!--]--></pre><!--]--><blockquote class="tip" data-v-cab260a3><i class="fa fa-lightbulb" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[--><code class=""><!--[-->phase.CreateContext()<!--]--></code> is a helper method that utilizes
<code class=""><!--[-->phase.CreateContextBuilder()<!--]--></code> behind the scenes.<!--]--></p><!--]--></div></blockquote><h4 id="using-in-combination"><!--[-->Using in Combination<!--]--></h4><p><!--[-->You may combine these two ways to provide configuration;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration1</span><span style="--shiki-default:#9CDCFE"> _configuration1</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration2</span><span style="--shiki-default:#9CDCFE"> _configuration2</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration3</span><span style="--shiki-default:#9CDCFE"> _configuration3</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="8"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContextBuilder</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration1</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#9CDCFE">_configuration2</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration3</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="11"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Build</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="12"><span style="--shiki-default:#E6E6E6">        ;
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->This phase context will require two different actions;<!--]--></p><ol><!--[--><li><!--[-->For the first two configuration objects: <code class=""><!--[-->(Configuration1 configuration1, Configuration2 configuration2)<!--]--></code><!--]--></li><li><!--[-->For the last configuration object: <code class=""><!--[-->(Configuration3 configuration3)<!--]--></code>.<!--]--></li><!--]--></ol><style>html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></div><div class="navigation-buttons-container" data-v-b90ae7fa data-v-6a000fc9><div class="button left" data-v-6a000fc9><a href="/architecture/application" class="" data-v-6a000fc9><div class="link-text" data-v-6a000fc9><i class="fa-solid fa-caret-left" data-v-6a000fc9></i> Previous <h3 data-v-6a000fc9>Application</h3></div></a></div><div class="button right" data-v-6a000fc9><a href="/architecture/feature" class="" data-v-6a000fc9><div class="link-text" data-v-6a000fc9> Next <i class="fa-solid fa-caret-right" data-v-6a000fc9></i><h3 data-v-6a000fc9>Feature</h3></div></a></div></div></div><nav data-v-b90ae7fa data-v-4f8affad><h4 data-v-4f8affad><a data-v-4f8affad>On This Page</a></h4><ul class="" data-v-4f8affad><!--[--><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#conventions" class="router-link-active router-link-exact-active" data-v-4f8affad>Conventions</a><ul data-v-4f8affad><!--[--><!--]--></ul></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#creating-a-layer" class="router-link-active router-link-exact-active" data-v-4f8affad>Creating A Layer</a><ul data-v-4f8affad><!--[--><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#id-of-a-layer" class="router-link-active router-link-exact-active" data-v-4f8affad>Id of a Layer</a></li><!--]--></ul></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#adding-phases" class="router-link-active router-link-exact-active" data-v-4f8affad>Adding Phases</a><ul data-v-4f8affad><!--[--><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#initializing-a-phase" class="router-link-active router-link-exact-active" data-v-4f8affad>Initializing a Phase</a></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#readiness-via-dependencies" class="router-link-active router-link-exact-active" data-v-4f8affad>Readiness via Dependencies</a></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#order-of-a-phase" class="router-link-active router-link-exact-active" data-v-4f8affad>Order of a Phase</a></li><!--]--></ul></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#providing-configuration" class="router-link-active router-link-exact-active" data-v-4f8affad>Providing Configuration</a><ul data-v-4f8affad><!--[--><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#using-non-generic-layerbase" class="router-link-active router-link-exact-active" data-v-4f8affad>Using non-generic LayerBase</a></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#before-and-after-a-phase" class="router-link-active router-link-exact-active" data-v-4f8affad>Before and After a Phase</a></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#providing-multiple-targets" class="router-link-active router-link-exact-active" data-v-4f8affad>Providing Multiple Targets</a></li><!--]--></ul></li><!--]--><li data-v-4f8affad><a class="return-to-top" href="#" data-v-4f8affad>Return to top</a></li></ul></nav></div><!--]--><!--]--></article></div><div class="bottom" data-v-5e897649 data-v-1bbc78ba><footer data-v-1bbc78ba><div class="logo" data-v-1bbc78ba><a href="/" class="" data-v-1bbc78ba><img class="do logo mono" data-v-1bbc78ba></a><span data-v-1bbc78ba>Copyright (c) 2023 Mouseless - MIT License</span></div><nav data-v-1bbc78ba><!--[--><a href="/blueprints/" class="" data-v-1bbc78ba>Blueprints</a><a href="/features/" class="" data-v-1bbc78ba>Features</a><a href="/layers/" class="" data-v-1bbc78ba>Layers</a><a href="/architecture/" class="" data-v-1bbc78ba>Architecture</a><a href="/release-notes/" class="" data-v-1bbc78ba>Release Notes</a><!--]--><a href="https://github.com/mouseless/do" rel="noopener noreferrer" target="_blank" data-v-1bbc78ba><i class="fa-brands fa-github" data-v-1bbc78ba></i> /mouseless/do</a></nav></footer></div></div></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true">[["Reactive",1],{"data":2,"state":3497,"_errors":3498,"serverRendered":696,"path":4,"prerenderedAt":3500,"pinia":3501},{"content-query-hBLt6OxXWy":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"body":10,"_type":3492,"_id":3493,"_source":3494,"_file":3495,"_extension":3496},"/architecture/layer","architecture",false,"","Layer","Each ILayer implementation represents an internal system component of the\nsoftware you develop. A layer provides application features with configuration\nof this system component so that the features can bind domain objects and\nsystem components together.",{"type":11,"children":12,"toc":3474},"root",[13,21,35,47,82,89,94,240,255,261,273,344,364,376,416,421,515,521,539,767,793,805,811,848,1006,1023,1029,1053,1228,1245,1271,1296,1302,1325,1414,1420,1432,1600,1624,1649,1659,1682,1907,1913,1932,2224,2254,2276,2282,2287,2294,2299,2496,2501,2654,2667,2673,2678,2924,2929,3123,3147,3153,3158,3439,3444,3468],{"type":14,"tag":15,"props":16,"children":18},"element","h1",{"id":17},"layer",[19],{"type":20,"value":8},"text",{"type":14,"tag":22,"props":23,"children":24},"p",{},[25,27,33],{"type":20,"value":26},"Each ",{"type":14,"tag":28,"props":29,"children":30},"code",{"className":7},[31],{"type":20,"value":32},"ILayer",{"type":20,"value":34}," implementation represents an internal system component of the\nsoftware you develop. A layer provides application features with configuration\nof this system component so that the features can bind domain objects and\nsystem components together.",{"type":14,"tag":22,"props":36,"children":37},{},[38,40,45],{"type":20,"value":39},"Let's take relational database as an example. A relational database is treated\nas an internal system component and is introduced by the ",{"type":14,"tag":28,"props":41,"children":42},{"className":7},[43],{"type":20,"value":44},"DataAccessLayer",{"type":20,"value":46}," along\nwith a configuration API. This API enables a feature to map your domain entities\nto database tables.",{"type":14,"tag":22,"props":48,"children":49},{},[50,52,57,59,66,68,73,75,80],{"type":20,"value":51},"Another good example is the ",{"type":14,"tag":28,"props":53,"children":54},{"className":7},[55],{"type":20,"value":56},"HttpServerLayer",{"type":20,"value":58},". This layer introduces the ASP.NET\nCore framework into your application. It provides three phases, as mentioned in\n",{"type":14,"tag":60,"props":61,"children":63},"a",{"href":62},"./application",[64],{"type":20,"value":65},"Application",{"type":20,"value":67},", along with ",{"type":14,"tag":28,"props":69,"children":70},{"className":7},[71],{"type":20,"value":72},"IMiddlewareCollection",{"type":20,"value":74}," and\n",{"type":14,"tag":28,"props":76,"children":77},{"className":7},[78],{"type":20,"value":79},"IEndpointRouteBuilder",{"type":20,"value":81}," objects as its configuration API. This way, any feature\nhas the ability to use a middleware or add routes to the application.",{"type":14,"tag":83,"props":84,"children":86},"h2",{"id":85},"conventions",[87],{"type":20,"value":88},"Conventions",{"type":14,"tag":22,"props":90,"children":91},{},[92],{"type":20,"value":93},"For a consistent developer experience, follow below conventions when\nimplementing a new layer;",{"type":14,"tag":95,"props":96,"children":97},"ol",{},[98,109,125,219,224],{"type":14,"tag":99,"props":100,"children":101},"li",{},[102,104],{"type":20,"value":103},"Place all layer related classes under the same folder named after layer,\ne.g., ",{"type":14,"tag":28,"props":105,"children":106},{"className":7},[107],{"type":20,"value":108},"DependencyInjection/",{"type":14,"tag":99,"props":110,"children":111},{},[112,114,118,120],{"type":20,"value":113},"Use ",{"type":14,"tag":28,"props":115,"children":116},{"className":7},[117],{"type":20,"value":8},{"type":20,"value":119}," suffix in layer class name, e.g.,\n",{"type":14,"tag":28,"props":121,"children":122},{"className":7},[123],{"type":20,"value":124},"DependencyInjection/DependencyInjectionLayer.cs",{"type":14,"tag":99,"props":126,"children":127},{},[128,130,135,137,142,144],{"type":20,"value":129},"Provide extension methods in ",{"type":14,"tag":28,"props":131,"children":132},{"className":7},[133],{"type":20,"value":134},"Do",{"type":20,"value":136}," namespace, e.g.,\n",{"type":14,"tag":28,"props":138,"children":139},{"className":7},[140],{"type":20,"value":141},"DependencyInjection/DependencyInjectionExtensions.cs",{"type":20,"value":143},";\n",{"type":14,"tag":95,"props":145,"children":146},{},[147,169,198],{"type":14,"tag":99,"props":148,"children":149},{},[150,155,157,162,164],{"type":14,"tag":28,"props":151,"children":152},{"className":7},[153],{"type":20,"value":154},"Add",{"type":20,"value":156}," extension to ",{"type":14,"tag":28,"props":158,"children":159},{"className":7},[160],{"type":20,"value":161},"List\u003CILayer>",{"type":20,"value":163},", e.g., ",{"type":14,"tag":28,"props":165,"children":166},{"className":7},[167],{"type":20,"value":168},"AddDependencyInjection()",{"type":14,"tag":99,"props":170,"children":171},{},[172,177,179,184,186,191,193],{"type":14,"tag":28,"props":173,"children":174},{"className":7},[175],{"type":20,"value":176},"Get",{"type":20,"value":178}," extensions to ",{"type":14,"tag":28,"props":180,"children":181},{"className":7},[182],{"type":20,"value":183},"ApplicationContext",{"type":20,"value":185},", e.g.,\n",{"type":14,"tag":28,"props":187,"children":188},{"className":7},[189],{"type":20,"value":190},"GetWebApplicationBuilder()",{"type":20,"value":192},", ",{"type":14,"tag":28,"props":194,"children":195},{"className":7},[196],{"type":20,"value":197},"GetWebApplication()",{"type":14,"tag":99,"props":199,"children":200},{},[201,206,207,212,214],{"type":14,"tag":28,"props":202,"children":203},{"className":7},[204],{"type":20,"value":205},"Configure",{"type":20,"value":178},{"type":14,"tag":28,"props":208,"children":209},{"className":7},[210],{"type":20,"value":211},"LayerConfigurator",{"type":20,"value":213}," per configuration\ntarget(s), e.g., ",{"type":14,"tag":28,"props":215,"children":216},{"className":7},[217],{"type":20,"value":218},"ConfigureServiceCollection()",{"type":14,"tag":99,"props":220,"children":221},{},[222],{"type":20,"value":223},"Place phase implementations as nested classes under the layer class",{"type":14,"tag":99,"props":225,"children":226},{},[227,229,234,235],{"type":20,"value":228},"Don't use any suffix for phases and use method-like names, e.g., ",{"type":14,"tag":28,"props":230,"children":231},{"className":7},[232],{"type":20,"value":233},"Build",{"type":20,"value":74},{"type":14,"tag":28,"props":236,"children":237},{"className":7},[238],{"type":20,"value":239},"Run",{"type":14,"tag":22,"props":241,"children":242},{},[243,245,253],{"type":20,"value":244},"Please refer to existing layers in ",{"type":14,"tag":60,"props":246,"children":250},{"href":247,"rel":248},"https://github.com/mouseless/do",[249],"nofollow",[251],{"type":20,"value":252},"github.com/mouseless/do",{"type":20,"value":254}," for examples.",{"type":14,"tag":83,"props":256,"children":258},{"id":257},"creating-a-layer",[259],{"type":20,"value":260},"Creating A Layer",{"type":14,"tag":22,"props":262,"children":263},{},[264,266,271],{"type":20,"value":265},"To create a layer, create a class using above conventions and extend\n",{"type":14,"tag":28,"props":267,"children":268},{"className":7},[269],{"type":20,"value":270},"LayerBase",{"type":20,"value":272},".",{"type":14,"tag":274,"props":275,"children":279},"pre",{"className":276,"code":277,"language":278,"meta":7,"style":7},"language-csharp shiki shiki-themes slack-dark","public class LayerX : LayerBase\n{\n    ...\n}\n","csharp",[280],{"type":14,"tag":28,"props":281,"children":282},{"__ignoreMap":7},[283,317,326,335],{"type":14,"tag":284,"props":285,"children":288},"span",{"class":286,"line":287},"line",1,[289,295,300,306,312],{"type":14,"tag":284,"props":290,"children":292},{"style":291},"--shiki-default:#569CD6",[293],{"type":20,"value":294},"public",{"type":14,"tag":284,"props":296,"children":297},{"style":291},[298],{"type":20,"value":299}," class",{"type":14,"tag":284,"props":301,"children":303},{"style":302},"--shiki-default:#4EC9B0",[304],{"type":20,"value":305}," LayerX",{"type":14,"tag":284,"props":307,"children":309},{"style":308},"--shiki-default:#E6E6E6",[310],{"type":20,"value":311}," : ",{"type":14,"tag":284,"props":313,"children":314},{"style":302},[315],{"type":20,"value":316},"LayerBase\n",{"type":14,"tag":284,"props":318,"children":320},{"class":286,"line":319},2,[321],{"type":14,"tag":284,"props":322,"children":323},{"style":308},[324],{"type":20,"value":325},"{\n",{"type":14,"tag":284,"props":327,"children":329},{"class":286,"line":328},3,[330],{"type":14,"tag":284,"props":331,"children":332},{"style":308},[333],{"type":20,"value":334},"    ...\n",{"type":14,"tag":284,"props":336,"children":338},{"class":286,"line":337},4,[339],{"type":14,"tag":284,"props":340,"children":341},{"style":308},[342],{"type":20,"value":343},"}\n",{"type":14,"tag":345,"props":346,"children":347},"blockquote",{},[348,353],{"type":14,"tag":22,"props":349,"children":350},{},[351],{"type":20,"value":352},":bulb:",{"type":14,"tag":22,"props":354,"children":355},{},[356,358,362],{"type":20,"value":357},"You can directly implement provided interface ",{"type":14,"tag":28,"props":359,"children":360},{"className":7},[361],{"type":20,"value":32},{"type":20,"value":363},", however we've created\nsome base classes to make it easier for you to create layers. All examples\ndemonstrate usage of these base classes.",{"type":14,"tag":365,"props":366,"children":368},"h3",{"id":367},"id-of-a-layer",[369,374],{"type":14,"tag":28,"props":370,"children":371},{"className":7},[372],{"type":20,"value":373},"Id",{"type":20,"value":375}," of a Layer",{"type":14,"tag":22,"props":377,"children":378},{},[379,383,385,389,391,395,397,401,403,407,409,414],{"type":14,"tag":28,"props":380,"children":381},{"className":7},[382],{"type":20,"value":32},{"type":20,"value":384}," has an ",{"type":14,"tag":28,"props":386,"children":387},{"className":7},[388],{"type":20,"value":373},{"type":20,"value":390}," property which should be a unique per ",{"type":14,"tag":28,"props":392,"children":393},{"className":7},[394],{"type":20,"value":65},{"type":20,"value":396},"\ninstance. ",{"type":14,"tag":28,"props":398,"children":399},{"className":7},[400],{"type":20,"value":270},{"type":20,"value":402}," sets the ",{"type":14,"tag":28,"props":404,"children":405},{"className":7},[406],{"type":20,"value":373},{"type":20,"value":408}," as name of the concrete class e.g.,\n",{"type":14,"tag":28,"props":410,"children":411},{"className":7},[412],{"type":20,"value":413},"LayerX",{"type":20,"value":415}," at above example.",{"type":14,"tag":22,"props":417,"children":418},{},[419],{"type":20,"value":420},"You can override its value in layer implementation class as shown below;",{"type":14,"tag":274,"props":422,"children":424},{"className":276,"code":423,"language":278,"meta":7,"style":7},"public class LayerX : LayerBase\n{\n    protected override string Id => \"CustomUniqueId\"\n    ...\n}\n",[425],{"type":14,"tag":28,"props":426,"children":427},{"__ignoreMap":7},[428,451,458,494,507],{"type":14,"tag":284,"props":429,"children":430},{"class":286,"line":287},[431,435,439,443,447],{"type":14,"tag":284,"props":432,"children":433},{"style":291},[434],{"type":20,"value":294},{"type":14,"tag":284,"props":436,"children":437},{"style":291},[438],{"type":20,"value":299},{"type":14,"tag":284,"props":440,"children":441},{"style":302},[442],{"type":20,"value":305},{"type":14,"tag":284,"props":444,"children":445},{"style":308},[446],{"type":20,"value":311},{"type":14,"tag":284,"props":448,"children":449},{"style":302},[450],{"type":20,"value":316},{"type":14,"tag":284,"props":452,"children":453},{"class":286,"line":319},[454],{"type":14,"tag":284,"props":455,"children":456},{"style":308},[457],{"type":20,"value":325},{"type":14,"tag":284,"props":459,"children":460},{"class":286,"line":328},[461,466,471,476,482,488],{"type":14,"tag":284,"props":462,"children":463},{"style":291},[464],{"type":20,"value":465},"    protected",{"type":14,"tag":284,"props":467,"children":468},{"style":291},[469],{"type":20,"value":470}," override",{"type":14,"tag":284,"props":472,"children":473},{"style":291},[474],{"type":20,"value":475}," string",{"type":14,"tag":284,"props":477,"children":479},{"style":478},"--shiki-default:#9CDCFE",[480],{"type":20,"value":481}," Id",{"type":14,"tag":284,"props":483,"children":485},{"style":484},"--shiki-default:#D4D4D4",[486],{"type":20,"value":487}," =>",{"type":14,"tag":284,"props":489,"children":491},{"style":490},"--shiki-default:#CE9178",[492],{"type":20,"value":493}," \"CustomUniqueId\"\n",{"type":14,"tag":284,"props":495,"children":496},{"class":286,"line":337},[497,502],{"type":14,"tag":284,"props":498,"children":499},{"style":484},[500],{"type":20,"value":501},"    ..",{"type":14,"tag":284,"props":503,"children":504},{"style":308},[505],{"type":20,"value":506},".\n",{"type":14,"tag":284,"props":508,"children":510},{"class":286,"line":509},5,[511],{"type":14,"tag":284,"props":512,"children":513},{"style":308},[514],{"type":20,"value":343},{"type":14,"tag":83,"props":516,"children":518},{"id":517},"adding-phases",[519],{"type":20,"value":520},"Adding Phases",{"type":14,"tag":22,"props":522,"children":523},{},[524,526,530,532,537],{"type":20,"value":525},"By default ",{"type":14,"tag":28,"props":527,"children":528},{"className":7},[529],{"type":20,"value":270},{"type":20,"value":531}," returns no phases. To add one or more phases into the\napplication, you need to override ",{"type":14,"tag":28,"props":533,"children":534},{"className":7},[535],{"type":20,"value":536},"GetPhases()",{"type":20,"value":538}," method as shown below;",{"type":14,"tag":274,"props":540,"children":542},{"className":276,"code":541,"language":278,"meta":7,"style":7},"public class SampleLayer : LayerBase\n{\n    protected override IEnumerable\u003CIPhase> GetPhases()\n    {\n        yield return new DoA();\n        yield return new DoB();\n    }\n\n    public class DoA : PhaseBase { ... }\n    public class DoB : PhaseBase { ... }\n}\n",[543],{"type":14,"tag":28,"props":544,"children":545},{"__ignoreMap":7},[546,570,577,619,627,656,681,690,700,731,759],{"type":14,"tag":284,"props":547,"children":548},{"class":286,"line":287},[549,553,557,562,566],{"type":14,"tag":284,"props":550,"children":551},{"style":291},[552],{"type":20,"value":294},{"type":14,"tag":284,"props":554,"children":555},{"style":291},[556],{"type":20,"value":299},{"type":14,"tag":284,"props":558,"children":559},{"style":302},[560],{"type":20,"value":561}," SampleLayer",{"type":14,"tag":284,"props":563,"children":564},{"style":308},[565],{"type":20,"value":311},{"type":14,"tag":284,"props":567,"children":568},{"style":302},[569],{"type":20,"value":316},{"type":14,"tag":284,"props":571,"children":572},{"class":286,"line":319},[573],{"type":14,"tag":284,"props":574,"children":575},{"style":308},[576],{"type":20,"value":325},{"type":14,"tag":284,"props":578,"children":579},{"class":286,"line":328},[580,584,588,593,598,603,608,614],{"type":14,"tag":284,"props":581,"children":582},{"style":291},[583],{"type":20,"value":465},{"type":14,"tag":284,"props":585,"children":586},{"style":291},[587],{"type":20,"value":470},{"type":14,"tag":284,"props":589,"children":590},{"style":302},[591],{"type":20,"value":592}," IEnumerable",{"type":14,"tag":284,"props":594,"children":595},{"style":308},[596],{"type":20,"value":597},"\u003C",{"type":14,"tag":284,"props":599,"children":600},{"style":302},[601],{"type":20,"value":602},"IPhase",{"type":14,"tag":284,"props":604,"children":605},{"style":308},[606],{"type":20,"value":607},"> ",{"type":14,"tag":284,"props":609,"children":611},{"style":610},"--shiki-default:#DCDCAA",[612],{"type":20,"value":613},"GetPhases",{"type":14,"tag":284,"props":615,"children":616},{"style":308},[617],{"type":20,"value":618},"()\n",{"type":14,"tag":284,"props":620,"children":621},{"class":286,"line":337},[622],{"type":14,"tag":284,"props":623,"children":624},{"style":308},[625],{"type":20,"value":626},"    {\n",{"type":14,"tag":284,"props":628,"children":629},{"class":286,"line":509},[630,636,641,646,651],{"type":14,"tag":284,"props":631,"children":633},{"style":632},"--shiki-default:#C586C0",[634],{"type":20,"value":635},"        yield",{"type":14,"tag":284,"props":637,"children":638},{"style":632},[639],{"type":20,"value":640}," return",{"type":14,"tag":284,"props":642,"children":643},{"style":291},[644],{"type":20,"value":645}," new",{"type":14,"tag":284,"props":647,"children":648},{"style":302},[649],{"type":20,"value":650}," DoA",{"type":14,"tag":284,"props":652,"children":653},{"style":308},[654],{"type":20,"value":655},"();\n",{"type":14,"tag":284,"props":657,"children":659},{"class":286,"line":658},6,[660,664,668,672,677],{"type":14,"tag":284,"props":661,"children":662},{"style":632},[663],{"type":20,"value":635},{"type":14,"tag":284,"props":665,"children":666},{"style":632},[667],{"type":20,"value":640},{"type":14,"tag":284,"props":669,"children":670},{"style":291},[671],{"type":20,"value":645},{"type":14,"tag":284,"props":673,"children":674},{"style":302},[675],{"type":20,"value":676}," DoB",{"type":14,"tag":284,"props":678,"children":679},{"style":308},[680],{"type":20,"value":655},{"type":14,"tag":284,"props":682,"children":684},{"class":286,"line":683},7,[685],{"type":14,"tag":284,"props":686,"children":687},{"style":308},[688],{"type":20,"value":689},"    }\n",{"type":14,"tag":284,"props":691,"children":693},{"class":286,"line":692},8,[694],{"type":14,"tag":284,"props":695,"children":697},{"emptyLinePlaceholder":696},true,[698],{"type":20,"value":699},"\n",{"type":14,"tag":284,"props":701,"children":703},{"class":286,"line":702},9,[704,709,713,717,721,726],{"type":14,"tag":284,"props":705,"children":706},{"style":291},[707],{"type":20,"value":708},"    public",{"type":14,"tag":284,"props":710,"children":711},{"style":291},[712],{"type":20,"value":299},{"type":14,"tag":284,"props":714,"children":715},{"style":302},[716],{"type":20,"value":650},{"type":14,"tag":284,"props":718,"children":719},{"style":308},[720],{"type":20,"value":311},{"type":14,"tag":284,"props":722,"children":723},{"style":302},[724],{"type":20,"value":725},"PhaseBase",{"type":14,"tag":284,"props":727,"children":728},{"style":308},[729],{"type":20,"value":730}," { ... }\n",{"type":14,"tag":284,"props":732,"children":734},{"class":286,"line":733},10,[735,739,743,747,751,755],{"type":14,"tag":284,"props":736,"children":737},{"style":291},[738],{"type":20,"value":708},{"type":14,"tag":284,"props":740,"children":741},{"style":291},[742],{"type":20,"value":299},{"type":14,"tag":284,"props":744,"children":745},{"style":302},[746],{"type":20,"value":676},{"type":14,"tag":284,"props":748,"children":749},{"style":308},[750],{"type":20,"value":311},{"type":14,"tag":284,"props":752,"children":753},{"style":302},[754],{"type":20,"value":725},{"type":14,"tag":284,"props":756,"children":757},{"style":308},[758],{"type":20,"value":730},{"type":14,"tag":284,"props":760,"children":762},{"class":286,"line":761},11,[763],{"type":14,"tag":284,"props":764,"children":765},{"style":308},[766],{"type":20,"value":343},{"type":14,"tag":22,"props":768,"children":769},{},[770,772,777,779,784,786,791],{"type":20,"value":771},"Here ",{"type":14,"tag":28,"props":773,"children":774},{"className":7},[775],{"type":20,"value":776},"SampleLayer",{"type":20,"value":778}," adds two phases, ",{"type":14,"tag":28,"props":780,"children":781},{"className":7},[782],{"type":20,"value":783},"DoA",{"type":20,"value":785}," and ",{"type":14,"tag":28,"props":787,"children":788},{"className":7},[789],{"type":20,"value":790},"DoB",{"type":20,"value":792},", to the application.",{"type":14,"tag":345,"props":794,"children":795},{},[796,800],{"type":14,"tag":22,"props":797,"children":798},{},[799],{"type":20,"value":352},{"type":14,"tag":22,"props":801,"children":802},{},[803],{"type":20,"value":804},"By convention place the phase implementations as a nested class in the layer\nit is added.",{"type":14,"tag":365,"props":806,"children":808},{"id":807},"initializing-a-phase",[809],{"type":20,"value":810},"Initializing a Phase",{"type":14,"tag":22,"props":812,"children":813},{},[814,818,820,825,827,832,834,839,841,846],{"type":14,"tag":28,"props":815,"children":816},{"className":7},[817],{"type":20,"value":725},{"type":20,"value":819}," class has ",{"type":14,"tag":28,"props":821,"children":822},{"className":7},[823],{"type":20,"value":824},"Initialize()",{"type":20,"value":826}," method to override so that it can add an\nobject to the application context via ",{"type":14,"tag":28,"props":828,"children":829},{"className":7},[830],{"type":20,"value":831},"Context",{"type":20,"value":833}," property. Below, you can see\nhow ",{"type":14,"tag":28,"props":835,"children":836},{"className":7},[837],{"type":20,"value":838},"CreateBuilder",{"type":20,"value":840}," phase adds ",{"type":14,"tag":28,"props":842,"children":843},{"className":7},[844],{"type":20,"value":845},"WebApplicationBuilder",{"type":20,"value":847}," to the context;",{"type":14,"tag":274,"props":849,"children":851},{"className":276,"code":850,"language":278,"meta":7,"style":7},"public class CreateBuilder : PhaseBase\n{\n    protected override void Initialize()\n    {\n        var build = WebApplication.CreateBuilder();\n\n        Context.Add(build);\n    }\n}\n",[852],{"type":14,"tag":28,"props":853,"children":854},{"__ignoreMap":7},[855,880,887,912,919,954,961,992,999],{"type":14,"tag":284,"props":856,"children":857},{"class":286,"line":287},[858,862,866,871,875],{"type":14,"tag":284,"props":859,"children":860},{"style":291},[861],{"type":20,"value":294},{"type":14,"tag":284,"props":863,"children":864},{"style":291},[865],{"type":20,"value":299},{"type":14,"tag":284,"props":867,"children":868},{"style":302},[869],{"type":20,"value":870}," CreateBuilder",{"type":14,"tag":284,"props":872,"children":873},{"style":308},[874],{"type":20,"value":311},{"type":14,"tag":284,"props":876,"children":877},{"style":302},[878],{"type":20,"value":879},"PhaseBase\n",{"type":14,"tag":284,"props":881,"children":882},{"class":286,"line":319},[883],{"type":14,"tag":284,"props":884,"children":885},{"style":308},[886],{"type":20,"value":325},{"type":14,"tag":284,"props":888,"children":889},{"class":286,"line":328},[890,894,898,903,908],{"type":14,"tag":284,"props":891,"children":892},{"style":291},[893],{"type":20,"value":465},{"type":14,"tag":284,"props":895,"children":896},{"style":291},[897],{"type":20,"value":470},{"type":14,"tag":284,"props":899,"children":900},{"style":291},[901],{"type":20,"value":902}," void",{"type":14,"tag":284,"props":904,"children":905},{"style":610},[906],{"type":20,"value":907}," Initialize",{"type":14,"tag":284,"props":909,"children":910},{"style":308},[911],{"type":20,"value":618},{"type":14,"tag":284,"props":913,"children":914},{"class":286,"line":337},[915],{"type":14,"tag":284,"props":916,"children":917},{"style":308},[918],{"type":20,"value":626},{"type":14,"tag":284,"props":920,"children":921},{"class":286,"line":509},[922,927,932,937,942,946,950],{"type":14,"tag":284,"props":923,"children":924},{"style":291},[925],{"type":20,"value":926},"        var",{"type":14,"tag":284,"props":928,"children":929},{"style":478},[930],{"type":20,"value":931}," build",{"type":14,"tag":284,"props":933,"children":934},{"style":484},[935],{"type":20,"value":936}," =",{"type":14,"tag":284,"props":938,"children":939},{"style":478},[940],{"type":20,"value":941}," WebApplication",{"type":14,"tag":284,"props":943,"children":944},{"style":308},[945],{"type":20,"value":272},{"type":14,"tag":284,"props":947,"children":948},{"style":610},[949],{"type":20,"value":838},{"type":14,"tag":284,"props":951,"children":952},{"style":308},[953],{"type":20,"value":655},{"type":14,"tag":284,"props":955,"children":956},{"class":286,"line":658},[957],{"type":14,"tag":284,"props":958,"children":959},{"emptyLinePlaceholder":696},[960],{"type":20,"value":699},{"type":14,"tag":284,"props":962,"children":963},{"class":286,"line":683},[964,969,973,977,982,987],{"type":14,"tag":284,"props":965,"children":966},{"style":478},[967],{"type":20,"value":968},"        Context",{"type":14,"tag":284,"props":970,"children":971},{"style":308},[972],{"type":20,"value":272},{"type":14,"tag":284,"props":974,"children":975},{"style":610},[976],{"type":20,"value":154},{"type":14,"tag":284,"props":978,"children":979},{"style":308},[980],{"type":20,"value":981},"(",{"type":14,"tag":284,"props":983,"children":984},{"style":478},[985],{"type":20,"value":986},"build",{"type":14,"tag":284,"props":988,"children":989},{"style":308},[990],{"type":20,"value":991},");\n",{"type":14,"tag":284,"props":993,"children":994},{"class":286,"line":692},[995],{"type":14,"tag":284,"props":996,"children":997},{"style":308},[998],{"type":20,"value":689},{"type":14,"tag":284,"props":1000,"children":1001},{"class":286,"line":702},[1002],{"type":14,"tag":284,"props":1003,"children":1004},{"style":308},[1005],{"type":20,"value":343},{"type":14,"tag":345,"props":1007,"children":1008},{},[1009,1013],{"type":14,"tag":22,"props":1010,"children":1011},{},[1012],{"type":20,"value":352},{"type":14,"tag":22,"props":1014,"children":1015},{},[1016,1017,1021],{"type":20,"value":357},{"type":14,"tag":28,"props":1018,"children":1019},{"className":7},[1020],{"type":20,"value":602},{"type":20,"value":1022},", however we've created\nsome base classes to make it easier for you to create phases. All examples\ndemonstrate usage of these base classes.",{"type":14,"tag":365,"props":1024,"children":1026},{"id":1025},"readiness-via-dependencies",[1027],{"type":20,"value":1028},"Readiness via Dependencies",{"type":14,"tag":22,"props":1030,"children":1031},{},[1032,1034,1039,1041,1045,1047,1051],{"type":20,"value":1033},"You can define context dependencies via generic ",{"type":14,"tag":28,"props":1035,"children":1036},{"className":7},[1037],{"type":20,"value":1038},"PhaseBase\u003C>",{"type":20,"value":1040}," classes to make\nthe phase wait until context is ready to provide that dependency. For example,\n",{"type":14,"tag":28,"props":1042,"children":1043},{"className":7},[1044],{"type":20,"value":233},{"type":20,"value":1046}," depends on the ",{"type":14,"tag":28,"props":1048,"children":1049},{"className":7},[1050],{"type":20,"value":845},{"type":20,"value":1052}," instance as shown below;",{"type":14,"tag":274,"props":1054,"children":1056},{"className":276,"code":1055,"language":278,"meta":7,"style":7},"public class Build : PhaseBase\u003CWebApplicationBuilder>\n{\n    protected override void Initialize(WebApplicationBuilder build)\n    {\n        var app = build.Build();\n\n        Context.Add(app);\n    }\n}\n",[1057],{"type":14,"tag":28,"props":1058,"children":1059},{"__ignoreMap":7},[1060,1097,1104,1140,1147,1179,1186,1214,1221],{"type":14,"tag":284,"props":1061,"children":1062},{"class":286,"line":287},[1063,1067,1071,1076,1080,1084,1088,1092],{"type":14,"tag":284,"props":1064,"children":1065},{"style":291},[1066],{"type":20,"value":294},{"type":14,"tag":284,"props":1068,"children":1069},{"style":291},[1070],{"type":20,"value":299},{"type":14,"tag":284,"props":1072,"children":1073},{"style":302},[1074],{"type":20,"value":1075}," Build",{"type":14,"tag":284,"props":1077,"children":1078},{"style":308},[1079],{"type":20,"value":311},{"type":14,"tag":284,"props":1081,"children":1082},{"style":302},[1083],{"type":20,"value":725},{"type":14,"tag":284,"props":1085,"children":1086},{"style":308},[1087],{"type":20,"value":597},{"type":14,"tag":284,"props":1089,"children":1090},{"style":302},[1091],{"type":20,"value":845},{"type":14,"tag":284,"props":1093,"children":1094},{"style":308},[1095],{"type":20,"value":1096},">\n",{"type":14,"tag":284,"props":1098,"children":1099},{"class":286,"line":319},[1100],{"type":14,"tag":284,"props":1101,"children":1102},{"style":308},[1103],{"type":20,"value":325},{"type":14,"tag":284,"props":1105,"children":1106},{"class":286,"line":328},[1107,1111,1115,1119,1123,1127,1131,1135],{"type":14,"tag":284,"props":1108,"children":1109},{"style":291},[1110],{"type":20,"value":465},{"type":14,"tag":284,"props":1112,"children":1113},{"style":291},[1114],{"type":20,"value":470},{"type":14,"tag":284,"props":1116,"children":1117},{"style":291},[1118],{"type":20,"value":902},{"type":14,"tag":284,"props":1120,"children":1121},{"style":610},[1122],{"type":20,"value":907},{"type":14,"tag":284,"props":1124,"children":1125},{"style":308},[1126],{"type":20,"value":981},{"type":14,"tag":284,"props":1128,"children":1129},{"style":302},[1130],{"type":20,"value":845},{"type":14,"tag":284,"props":1132,"children":1133},{"style":478},[1134],{"type":20,"value":931},{"type":14,"tag":284,"props":1136,"children":1137},{"style":308},[1138],{"type":20,"value":1139},")\n",{"type":14,"tag":284,"props":1141,"children":1142},{"class":286,"line":337},[1143],{"type":14,"tag":284,"props":1144,"children":1145},{"style":308},[1146],{"type":20,"value":626},{"type":14,"tag":284,"props":1148,"children":1149},{"class":286,"line":509},[1150,1154,1159,1163,1167,1171,1175],{"type":14,"tag":284,"props":1151,"children":1152},{"style":291},[1153],{"type":20,"value":926},{"type":14,"tag":284,"props":1155,"children":1156},{"style":478},[1157],{"type":20,"value":1158}," app",{"type":14,"tag":284,"props":1160,"children":1161},{"style":484},[1162],{"type":20,"value":936},{"type":14,"tag":284,"props":1164,"children":1165},{"style":478},[1166],{"type":20,"value":931},{"type":14,"tag":284,"props":1168,"children":1169},{"style":308},[1170],{"type":20,"value":272},{"type":14,"tag":284,"props":1172,"children":1173},{"style":610},[1174],{"type":20,"value":233},{"type":14,"tag":284,"props":1176,"children":1177},{"style":308},[1178],{"type":20,"value":655},{"type":14,"tag":284,"props":1180,"children":1181},{"class":286,"line":658},[1182],{"type":14,"tag":284,"props":1183,"children":1184},{"emptyLinePlaceholder":696},[1185],{"type":20,"value":699},{"type":14,"tag":284,"props":1187,"children":1188},{"class":286,"line":683},[1189,1193,1197,1201,1205,1210],{"type":14,"tag":284,"props":1190,"children":1191},{"style":478},[1192],{"type":20,"value":968},{"type":14,"tag":284,"props":1194,"children":1195},{"style":308},[1196],{"type":20,"value":272},{"type":14,"tag":284,"props":1198,"children":1199},{"style":610},[1200],{"type":20,"value":154},{"type":14,"tag":284,"props":1202,"children":1203},{"style":308},[1204],{"type":20,"value":981},{"type":14,"tag":284,"props":1206,"children":1207},{"style":478},[1208],{"type":20,"value":1209},"app",{"type":14,"tag":284,"props":1211,"children":1212},{"style":308},[1213],{"type":20,"value":991},{"type":14,"tag":284,"props":1215,"children":1216},{"class":286,"line":692},[1217],{"type":14,"tag":284,"props":1218,"children":1219},{"style":308},[1220],{"type":20,"value":689},{"type":14,"tag":284,"props":1222,"children":1223},{"class":286,"line":702},[1224],{"type":14,"tag":284,"props":1225,"children":1226},{"style":308},[1227],{"type":20,"value":343},{"type":14,"tag":22,"props":1229,"children":1230},{},[1231,1236,1238,1243],{"type":14,"tag":28,"props":1232,"children":1233},{"className":7},[1234],{"type":20,"value":1235},"PhaseBase\u003CT>",{"type":20,"value":1237}," class requires ",{"type":14,"tag":28,"props":1239,"children":1240},{"className":7},[1241],{"type":20,"value":1242},"Initialize(T t)",{"type":20,"value":1244}," method to be implemented.",{"type":14,"tag":345,"props":1246,"children":1247},{},[1248,1253],{"type":14,"tag":22,"props":1249,"children":1250},{},[1251],{"type":20,"value":1252},":information_source:",{"type":14,"tag":22,"props":1254,"children":1255},{},[1256,1258,1263,1265,1270],{"type":20,"value":1257},"You can provide more than one dependency for a phase. E.g., ",{"type":14,"tag":28,"props":1259,"children":1260},{"className":7},[1261],{"type":20,"value":1262},"Phase\u003CX, Y>",{"type":20,"value":1264},"\nwill require ",{"type":14,"tag":28,"props":1266,"children":1267},{"className":7},[1268],{"type":20,"value":1269},"Initialize(X x, Y y)",{"type":20,"value":1244},{"type":14,"tag":345,"props":1272,"children":1273},{},[1274,1279],{"type":14,"tag":22,"props":1275,"children":1276},{},[1277],{"type":20,"value":1278},":warning:",{"type":14,"tag":22,"props":1280,"children":1281},{},[1282,1284,1288,1290],{"type":20,"value":1283},"Type of the dependency provided, must be exactly the same as the type of\ndependency in ",{"type":14,"tag":28,"props":1285,"children":1286},{"className":7},[1287],{"type":20,"value":183},{"type":20,"value":1289},". For more information\n",{"type":14,"tag":60,"props":1291,"children":1293},{"href":1292},"../architecture/application#running-an-application",[1294],{"type":20,"value":1295},"Running an Application",{"type":14,"tag":365,"props":1297,"children":1299},{"id":1298},"order-of-a-phase",[1300],{"type":20,"value":1301},"Order of a Phase",{"type":14,"tag":22,"props":1303,"children":1304},{},[1305,1309,1311,1316,1318,1323],{"type":14,"tag":28,"props":1306,"children":1307},{"className":7},[1308],{"type":20,"value":725},{"type":20,"value":1310}," classes has ",{"type":14,"tag":28,"props":1312,"children":1313},{"className":7},[1314],{"type":20,"value":1315},"order",{"type":20,"value":1317}," parameter in their constructors. Default order\nis ",{"type":14,"tag":28,"props":1319,"children":1320},{"className":7},[1321],{"type":20,"value":1322},"PhaseOrder.Normal",{"type":20,"value":1324},". If you need to change the order, pass the desired order\nto this parameter as shown below;",{"type":14,"tag":274,"props":1326,"children":1328},{"className":276,"code":1327,"language":278,"meta":7,"style":7},"public class DoThisEarlyOn : PhaseBase\n{\n    public DoThisEarlyOn() : base(PhaseOrder.Early) { }\n}\n",[1329],{"type":14,"tag":28,"props":1330,"children":1331},{"__ignoreMap":7},[1332,1356,1363,1407],{"type":14,"tag":284,"props":1333,"children":1334},{"class":286,"line":287},[1335,1339,1343,1348,1352],{"type":14,"tag":284,"props":1336,"children":1337},{"style":291},[1338],{"type":20,"value":294},{"type":14,"tag":284,"props":1340,"children":1341},{"style":291},[1342],{"type":20,"value":299},{"type":14,"tag":284,"props":1344,"children":1345},{"style":302},[1346],{"type":20,"value":1347}," DoThisEarlyOn",{"type":14,"tag":284,"props":1349,"children":1350},{"style":308},[1351],{"type":20,"value":311},{"type":14,"tag":284,"props":1353,"children":1354},{"style":302},[1355],{"type":20,"value":879},{"type":14,"tag":284,"props":1357,"children":1358},{"class":286,"line":319},[1359],{"type":14,"tag":284,"props":1360,"children":1361},{"style":308},[1362],{"type":20,"value":325},{"type":14,"tag":284,"props":1364,"children":1365},{"class":286,"line":328},[1366,1370,1374,1379,1384,1388,1393,1397,1402],{"type":14,"tag":284,"props":1367,"children":1368},{"style":291},[1369],{"type":20,"value":708},{"type":14,"tag":284,"props":1371,"children":1372},{"style":610},[1373],{"type":20,"value":1347},{"type":14,"tag":284,"props":1375,"children":1376},{"style":308},[1377],{"type":20,"value":1378},"() : ",{"type":14,"tag":284,"props":1380,"children":1381},{"style":291},[1382],{"type":20,"value":1383},"base",{"type":14,"tag":284,"props":1385,"children":1386},{"style":308},[1387],{"type":20,"value":981},{"type":14,"tag":284,"props":1389,"children":1390},{"style":478},[1391],{"type":20,"value":1392},"PhaseOrder",{"type":14,"tag":284,"props":1394,"children":1395},{"style":308},[1396],{"type":20,"value":272},{"type":14,"tag":284,"props":1398,"children":1399},{"style":478},[1400],{"type":20,"value":1401},"Early",{"type":14,"tag":284,"props":1403,"children":1404},{"style":308},[1405],{"type":20,"value":1406},") { }\n",{"type":14,"tag":284,"props":1408,"children":1409},{"class":286,"line":337},[1410],{"type":14,"tag":284,"props":1411,"children":1412},{"style":308},[1413],{"type":20,"value":343},{"type":14,"tag":83,"props":1415,"children":1417},{"id":1416},"providing-configuration",[1418],{"type":20,"value":1419},"Providing Configuration",{"type":14,"tag":22,"props":1421,"children":1422},{},[1423,1425,1430],{"type":20,"value":1424},"Layers provide configuration objects phase by phase. This means a layer can\nprovide two different configuration objects for two different phases. For this\nreason, a layer returns ",{"type":14,"tag":28,"props":1426,"children":1427},{"className":7},[1428],{"type":20,"value":1429},"PhaseContext",{"type":20,"value":1431}," instance per phase to which it provides\nconfiguration.",{"type":14,"tag":274,"props":1433,"children":1435},{"className":276,"code":1434,"language":278,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly LayerXConfiguration _configuration = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContext(_configuration);\n}\n",[1436],{"type":14,"tag":28,"props":1437,"children":1438},{"__ignoreMap":7},[1439,1475,1482,1512,1519,1563,1593],{"type":14,"tag":284,"props":1440,"children":1441},{"class":286,"line":287},[1442,1446,1450,1454,1458,1462,1466,1471],{"type":14,"tag":284,"props":1443,"children":1444},{"style":291},[1445],{"type":20,"value":294},{"type":14,"tag":284,"props":1447,"children":1448},{"style":291},[1449],{"type":20,"value":299},{"type":14,"tag":284,"props":1451,"children":1452},{"style":302},[1453],{"type":20,"value":305},{"type":14,"tag":284,"props":1455,"children":1456},{"style":308},[1457],{"type":20,"value":311},{"type":14,"tag":284,"props":1459,"children":1460},{"style":302},[1461],{"type":20,"value":270},{"type":14,"tag":284,"props":1463,"children":1464},{"style":308},[1465],{"type":20,"value":597},{"type":14,"tag":284,"props":1467,"children":1468},{"style":302},[1469],{"type":20,"value":1470},"AddServices",{"type":14,"tag":284,"props":1472,"children":1473},{"style":308},[1474],{"type":20,"value":1096},{"type":14,"tag":284,"props":1476,"children":1477},{"class":286,"line":319},[1478],{"type":14,"tag":284,"props":1479,"children":1480},{"style":308},[1481],{"type":20,"value":325},{"type":14,"tag":284,"props":1483,"children":1484},{"class":286,"line":328},[1485,1490,1495,1500,1504,1508],{"type":14,"tag":284,"props":1486,"children":1487},{"style":291},[1488],{"type":20,"value":1489},"    readonly",{"type":14,"tag":284,"props":1491,"children":1492},{"style":302},[1493],{"type":20,"value":1494}," LayerXConfiguration",{"type":14,"tag":284,"props":1496,"children":1497},{"style":478},[1498],{"type":20,"value":1499}," _configuration",{"type":14,"tag":284,"props":1501,"children":1502},{"style":484},[1503],{"type":20,"value":936},{"type":14,"tag":284,"props":1505,"children":1506},{"style":291},[1507],{"type":20,"value":645},{"type":14,"tag":284,"props":1509,"children":1510},{"style":308},[1511],{"type":20,"value":655},{"type":14,"tag":284,"props":1513,"children":1514},{"class":286,"line":337},[1515],{"type":14,"tag":284,"props":1516,"children":1517},{"emptyLinePlaceholder":696},[1518],{"type":20,"value":699},{"type":14,"tag":284,"props":1520,"children":1521},{"class":286,"line":509},[1522,1526,1530,1535,1540,1544,1548,1553,1558],{"type":14,"tag":284,"props":1523,"children":1524},{"style":291},[1525],{"type":20,"value":465},{"type":14,"tag":284,"props":1527,"children":1528},{"style":291},[1529],{"type":20,"value":470},{"type":14,"tag":284,"props":1531,"children":1532},{"style":302},[1533],{"type":20,"value":1534}," PhaseContext",{"type":14,"tag":284,"props":1536,"children":1537},{"style":610},[1538],{"type":20,"value":1539}," GetContext",{"type":14,"tag":284,"props":1541,"children":1542},{"style":308},[1543],{"type":20,"value":981},{"type":14,"tag":284,"props":1545,"children":1546},{"style":302},[1547],{"type":20,"value":1470},{"type":14,"tag":284,"props":1549,"children":1550},{"style":478},[1551],{"type":20,"value":1552}," phase",{"type":14,"tag":284,"props":1554,"children":1555},{"style":308},[1556],{"type":20,"value":1557},") ",{"type":14,"tag":284,"props":1559,"children":1560},{"style":484},[1561],{"type":20,"value":1562},"=>\n",{"type":14,"tag":284,"props":1564,"children":1565},{"class":286,"line":658},[1566,1571,1575,1580,1584,1589],{"type":14,"tag":284,"props":1567,"children":1568},{"style":478},[1569],{"type":20,"value":1570},"        phase",{"type":14,"tag":284,"props":1572,"children":1573},{"style":308},[1574],{"type":20,"value":272},{"type":14,"tag":284,"props":1576,"children":1577},{"style":610},[1578],{"type":20,"value":1579},"CreateContext",{"type":14,"tag":284,"props":1581,"children":1582},{"style":308},[1583],{"type":20,"value":981},{"type":14,"tag":284,"props":1585,"children":1586},{"style":478},[1587],{"type":20,"value":1588},"_configuration",{"type":14,"tag":284,"props":1590,"children":1591},{"style":308},[1592],{"type":20,"value":991},{"type":14,"tag":284,"props":1594,"children":1595},{"class":286,"line":683},[1596],{"type":14,"tag":284,"props":1597,"children":1598},{"style":308},[1599],{"type":20,"value":343},{"type":14,"tag":22,"props":1601,"children":1602},{},[1603,1605,1609,1611,1616,1618,1622],{"type":20,"value":1604},"In this example, you see a layer named ",{"type":14,"tag":28,"props":1606,"children":1607},{"className":7},[1608],{"type":20,"value":413},{"type":20,"value":1610}," providing a\n",{"type":14,"tag":28,"props":1612,"children":1613},{"className":7},[1614],{"type":20,"value":1615},"LayerXConfiguration",{"type":20,"value":1617}," instance during ",{"type":14,"tag":28,"props":1619,"children":1620},{"className":7},[1621],{"type":20,"value":1470},{"type":20,"value":1623}," phase.",{"type":14,"tag":345,"props":1625,"children":1626},{},[1627,1631],{"type":14,"tag":22,"props":1628,"children":1629},{},[1630],{"type":20,"value":1252},{"type":14,"tag":22,"props":1632,"children":1633},{},[1634,1636,1641,1643,1647],{"type":20,"value":1635},"By default, a layer returns ",{"type":14,"tag":28,"props":1637,"children":1638},{"className":7},[1639],{"type":20,"value":1640},"PhaseContext.Empty",{"type":20,"value":1642}," instance for the phases it\ndoes not provide a configuration. This means ",{"type":14,"tag":28,"props":1644,"children":1645},{"className":7},[1646],{"type":20,"value":65},{"type":20,"value":1648}," skips that layer\nfor the phases it doesn't have anything to configure.",{"type":14,"tag":365,"props":1650,"children":1652},{"id":1651},"using-non-generic-layerbase",[1653,1655],{"type":20,"value":1654},"Using non-generic ",{"type":14,"tag":28,"props":1656,"children":1657},{"className":7},[1658],{"type":20,"value":270},{"type":14,"tag":22,"props":1660,"children":1661},{},[1662,1667,1669,1673,1675,1680],{"type":14,"tag":28,"props":1663,"children":1664},{"className":7},[1665],{"type":20,"value":1666},"LayerBase\u003C>",{"type":20,"value":1668}," classes allow up to three generic arguments. If you need to\nimplement a layer that has things to configure during more than three phases,\nuse non-generic ",{"type":14,"tag":28,"props":1670,"children":1671},{"className":7},[1672],{"type":20,"value":270},{"type":20,"value":1674}," class, override ",{"type":14,"tag":28,"props":1676,"children":1677},{"className":7},[1678],{"type":20,"value":1679},"GetContext(IPhase phase)",{"type":20,"value":1681}," method\nand switch given phase according to its type;",{"type":14,"tag":274,"props":1683,"children":1685},{"className":276,"code":1684,"language":278,"meta":7,"style":7},"public class MyLayer : LayerBase\n{\n    protected override PhaseContext GetContext(IPhase phase) =>\n        phase switch\n        {\n            PhaseA => phase.CreateContext(...),\n            PhaseB => phase.CreateContext(...),\n            _ => base.GetContext(phase)\n        };\n}\n",[1686],{"type":14,"tag":28,"props":1687,"children":1688},{"__ignoreMap":7},[1689,1713,1720,1759,1771,1779,1817,1853,1892,1900],{"type":14,"tag":284,"props":1690,"children":1691},{"class":286,"line":287},[1692,1696,1700,1705,1709],{"type":14,"tag":284,"props":1693,"children":1694},{"style":291},[1695],{"type":20,"value":294},{"type":14,"tag":284,"props":1697,"children":1698},{"style":291},[1699],{"type":20,"value":299},{"type":14,"tag":284,"props":1701,"children":1702},{"style":302},[1703],{"type":20,"value":1704}," MyLayer",{"type":14,"tag":284,"props":1706,"children":1707},{"style":308},[1708],{"type":20,"value":311},{"type":14,"tag":284,"props":1710,"children":1711},{"style":302},[1712],{"type":20,"value":316},{"type":14,"tag":284,"props":1714,"children":1715},{"class":286,"line":319},[1716],{"type":14,"tag":284,"props":1717,"children":1718},{"style":308},[1719],{"type":20,"value":325},{"type":14,"tag":284,"props":1721,"children":1722},{"class":286,"line":328},[1723,1727,1731,1735,1739,1743,1747,1751,1755],{"type":14,"tag":284,"props":1724,"children":1725},{"style":291},[1726],{"type":20,"value":465},{"type":14,"tag":284,"props":1728,"children":1729},{"style":291},[1730],{"type":20,"value":470},{"type":14,"tag":284,"props":1732,"children":1733},{"style":302},[1734],{"type":20,"value":1534},{"type":14,"tag":284,"props":1736,"children":1737},{"style":610},[1738],{"type":20,"value":1539},{"type":14,"tag":284,"props":1740,"children":1741},{"style":308},[1742],{"type":20,"value":981},{"type":14,"tag":284,"props":1744,"children":1745},{"style":302},[1746],{"type":20,"value":602},{"type":14,"tag":284,"props":1748,"children":1749},{"style":478},[1750],{"type":20,"value":1552},{"type":14,"tag":284,"props":1752,"children":1753},{"style":308},[1754],{"type":20,"value":1557},{"type":14,"tag":284,"props":1756,"children":1757},{"style":484},[1758],{"type":20,"value":1562},{"type":14,"tag":284,"props":1760,"children":1761},{"class":286,"line":337},[1762,1766],{"type":14,"tag":284,"props":1763,"children":1764},{"style":478},[1765],{"type":20,"value":1570},{"type":14,"tag":284,"props":1767,"children":1768},{"style":632},[1769],{"type":20,"value":1770}," switch\n",{"type":14,"tag":284,"props":1772,"children":1773},{"class":286,"line":509},[1774],{"type":14,"tag":284,"props":1775,"children":1776},{"style":308},[1777],{"type":20,"value":1778},"        {\n",{"type":14,"tag":284,"props":1780,"children":1781},{"class":286,"line":658},[1782,1787,1791,1795,1799,1803,1807,1812],{"type":14,"tag":284,"props":1783,"children":1784},{"style":302},[1785],{"type":20,"value":1786},"            PhaseA",{"type":14,"tag":284,"props":1788,"children":1789},{"style":484},[1790],{"type":20,"value":487},{"type":14,"tag":284,"props":1792,"children":1793},{"style":478},[1794],{"type":20,"value":1552},{"type":14,"tag":284,"props":1796,"children":1797},{"style":308},[1798],{"type":20,"value":272},{"type":14,"tag":284,"props":1800,"children":1801},{"style":610},[1802],{"type":20,"value":1579},{"type":14,"tag":284,"props":1804,"children":1805},{"style":308},[1806],{"type":20,"value":981},{"type":14,"tag":284,"props":1808,"children":1809},{"style":484},[1810],{"type":20,"value":1811},"..",{"type":14,"tag":284,"props":1813,"children":1814},{"style":308},[1815],{"type":20,"value":1816},".),\n",{"type":14,"tag":284,"props":1818,"children":1819},{"class":286,"line":683},[1820,1825,1829,1833,1837,1841,1845,1849],{"type":14,"tag":284,"props":1821,"children":1822},{"style":302},[1823],{"type":20,"value":1824},"            PhaseB",{"type":14,"tag":284,"props":1826,"children":1827},{"style":484},[1828],{"type":20,"value":487},{"type":14,"tag":284,"props":1830,"children":1831},{"style":478},[1832],{"type":20,"value":1552},{"type":14,"tag":284,"props":1834,"children":1835},{"style":308},[1836],{"type":20,"value":272},{"type":14,"tag":284,"props":1838,"children":1839},{"style":610},[1840],{"type":20,"value":1579},{"type":14,"tag":284,"props":1842,"children":1843},{"style":308},[1844],{"type":20,"value":981},{"type":14,"tag":284,"props":1846,"children":1847},{"style":484},[1848],{"type":20,"value":1811},{"type":14,"tag":284,"props":1850,"children":1851},{"style":308},[1852],{"type":20,"value":1816},{"type":14,"tag":284,"props":1854,"children":1855},{"class":286,"line":692},[1856,1861,1865,1870,1874,1879,1883,1888],{"type":14,"tag":284,"props":1857,"children":1858},{"style":291},[1859],{"type":20,"value":1860},"            _",{"type":14,"tag":284,"props":1862,"children":1863},{"style":484},[1864],{"type":20,"value":487},{"type":14,"tag":284,"props":1866,"children":1867},{"style":291},[1868],{"type":20,"value":1869}," base",{"type":14,"tag":284,"props":1871,"children":1872},{"style":308},[1873],{"type":20,"value":272},{"type":14,"tag":284,"props":1875,"children":1876},{"style":610},[1877],{"type":20,"value":1878},"GetContext",{"type":14,"tag":284,"props":1880,"children":1881},{"style":308},[1882],{"type":20,"value":981},{"type":14,"tag":284,"props":1884,"children":1885},{"style":478},[1886],{"type":20,"value":1887},"phase",{"type":14,"tag":284,"props":1889,"children":1890},{"style":308},[1891],{"type":20,"value":1139},{"type":14,"tag":284,"props":1893,"children":1894},{"class":286,"line":702},[1895],{"type":14,"tag":284,"props":1896,"children":1897},{"style":308},[1898],{"type":20,"value":1899},"        };\n",{"type":14,"tag":284,"props":1901,"children":1902},{"class":286,"line":733},[1903],{"type":14,"tag":284,"props":1904,"children":1905},{"style":308},[1906],{"type":20,"value":343},{"type":14,"tag":365,"props":1908,"children":1910},{"id":1909},"before-and-after-a-phase",[1911],{"type":20,"value":1912},"Before and After a Phase",{"type":14,"tag":22,"props":1914,"children":1915},{},[1916,1918,1923,1925,1930],{"type":20,"value":1917},"Layers might need to do some standard stuff before and after a phase is applied\nto all features for all layers. Use ",{"type":14,"tag":28,"props":1919,"children":1920},{"className":7},[1921],{"type":20,"value":1922},"GetContext()",{"type":20,"value":1924}," method to do stuff before,\nand ",{"type":14,"tag":28,"props":1926,"children":1927},{"className":7},[1928],{"type":20,"value":1929},"onDispose:",{"type":20,"value":1931}," delegate to do stuff after.",{"type":14,"tag":274,"props":1933,"children":1935},{"className":276,"code":1934,"language":278,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly LayerXConfiguration _configuration = new();\n\n    protected override PhaseContext GetContext(AddServices phase)\n    {\n        var services = Context.Get\u003CIServiceCollection>();\n\n        services.AddStandardStuffBefore();\n\n        phase.CreateContext(_configuration,\n            onDispose: () => services.AddStandardStuffAfter()\n        );\n    }\n}\n",[1936],{"type":14,"tag":28,"props":1937,"children":1938},{"__ignoreMap":7},[1939,1974,1981,2008,2015,2050,2057,2100,2107,2128,2135,2163,2199,2208,2216],{"type":14,"tag":284,"props":1940,"children":1941},{"class":286,"line":287},[1942,1946,1950,1954,1958,1962,1966,1970],{"type":14,"tag":284,"props":1943,"children":1944},{"style":291},[1945],{"type":20,"value":294},{"type":14,"tag":284,"props":1947,"children":1948},{"style":291},[1949],{"type":20,"value":299},{"type":14,"tag":284,"props":1951,"children":1952},{"style":302},[1953],{"type":20,"value":305},{"type":14,"tag":284,"props":1955,"children":1956},{"style":308},[1957],{"type":20,"value":311},{"type":14,"tag":284,"props":1959,"children":1960},{"style":302},[1961],{"type":20,"value":270},{"type":14,"tag":284,"props":1963,"children":1964},{"style":308},[1965],{"type":20,"value":597},{"type":14,"tag":284,"props":1967,"children":1968},{"style":302},[1969],{"type":20,"value":1470},{"type":14,"tag":284,"props":1971,"children":1972},{"style":308},[1973],{"type":20,"value":1096},{"type":14,"tag":284,"props":1975,"children":1976},{"class":286,"line":319},[1977],{"type":14,"tag":284,"props":1978,"children":1979},{"style":308},[1980],{"type":20,"value":325},{"type":14,"tag":284,"props":1982,"children":1983},{"class":286,"line":328},[1984,1988,1992,1996,2000,2004],{"type":14,"tag":284,"props":1985,"children":1986},{"style":291},[1987],{"type":20,"value":1489},{"type":14,"tag":284,"props":1989,"children":1990},{"style":302},[1991],{"type":20,"value":1494},{"type":14,"tag":284,"props":1993,"children":1994},{"style":478},[1995],{"type":20,"value":1499},{"type":14,"tag":284,"props":1997,"children":1998},{"style":484},[1999],{"type":20,"value":936},{"type":14,"tag":284,"props":2001,"children":2002},{"style":291},[2003],{"type":20,"value":645},{"type":14,"tag":284,"props":2005,"children":2006},{"style":308},[2007],{"type":20,"value":655},{"type":14,"tag":284,"props":2009,"children":2010},{"class":286,"line":337},[2011],{"type":14,"tag":284,"props":2012,"children":2013},{"emptyLinePlaceholder":696},[2014],{"type":20,"value":699},{"type":14,"tag":284,"props":2016,"children":2017},{"class":286,"line":509},[2018,2022,2026,2030,2034,2038,2042,2046],{"type":14,"tag":284,"props":2019,"children":2020},{"style":291},[2021],{"type":20,"value":465},{"type":14,"tag":284,"props":2023,"children":2024},{"style":291},[2025],{"type":20,"value":470},{"type":14,"tag":284,"props":2027,"children":2028},{"style":302},[2029],{"type":20,"value":1534},{"type":14,"tag":284,"props":2031,"children":2032},{"style":610},[2033],{"type":20,"value":1539},{"type":14,"tag":284,"props":2035,"children":2036},{"style":308},[2037],{"type":20,"value":981},{"type":14,"tag":284,"props":2039,"children":2040},{"style":302},[2041],{"type":20,"value":1470},{"type":14,"tag":284,"props":2043,"children":2044},{"style":478},[2045],{"type":20,"value":1552},{"type":14,"tag":284,"props":2047,"children":2048},{"style":308},[2049],{"type":20,"value":1139},{"type":14,"tag":284,"props":2051,"children":2052},{"class":286,"line":658},[2053],{"type":14,"tag":284,"props":2054,"children":2055},{"style":308},[2056],{"type":20,"value":626},{"type":14,"tag":284,"props":2058,"children":2059},{"class":286,"line":683},[2060,2064,2069,2073,2078,2082,2086,2090,2095],{"type":14,"tag":284,"props":2061,"children":2062},{"style":291},[2063],{"type":20,"value":926},{"type":14,"tag":284,"props":2065,"children":2066},{"style":478},[2067],{"type":20,"value":2068}," services",{"type":14,"tag":284,"props":2070,"children":2071},{"style":484},[2072],{"type":20,"value":936},{"type":14,"tag":284,"props":2074,"children":2075},{"style":478},[2076],{"type":20,"value":2077}," Context",{"type":14,"tag":284,"props":2079,"children":2080},{"style":308},[2081],{"type":20,"value":272},{"type":14,"tag":284,"props":2083,"children":2084},{"style":610},[2085],{"type":20,"value":176},{"type":14,"tag":284,"props":2087,"children":2088},{"style":308},[2089],{"type":20,"value":597},{"type":14,"tag":284,"props":2091,"children":2092},{"style":302},[2093],{"type":20,"value":2094},"IServiceCollection",{"type":14,"tag":284,"props":2096,"children":2097},{"style":308},[2098],{"type":20,"value":2099},">();\n",{"type":14,"tag":284,"props":2101,"children":2102},{"class":286,"line":692},[2103],{"type":14,"tag":284,"props":2104,"children":2105},{"emptyLinePlaceholder":696},[2106],{"type":20,"value":699},{"type":14,"tag":284,"props":2108,"children":2109},{"class":286,"line":702},[2110,2115,2119,2124],{"type":14,"tag":284,"props":2111,"children":2112},{"style":478},[2113],{"type":20,"value":2114},"        services",{"type":14,"tag":284,"props":2116,"children":2117},{"style":308},[2118],{"type":20,"value":272},{"type":14,"tag":284,"props":2120,"children":2121},{"style":610},[2122],{"type":20,"value":2123},"AddStandardStuffBefore",{"type":14,"tag":284,"props":2125,"children":2126},{"style":308},[2127],{"type":20,"value":655},{"type":14,"tag":284,"props":2129,"children":2130},{"class":286,"line":733},[2131],{"type":14,"tag":284,"props":2132,"children":2133},{"emptyLinePlaceholder":696},[2134],{"type":20,"value":699},{"type":14,"tag":284,"props":2136,"children":2137},{"class":286,"line":761},[2138,2142,2146,2150,2154,2158],{"type":14,"tag":284,"props":2139,"children":2140},{"style":478},[2141],{"type":20,"value":1570},{"type":14,"tag":284,"props":2143,"children":2144},{"style":308},[2145],{"type":20,"value":272},{"type":14,"tag":284,"props":2147,"children":2148},{"style":610},[2149],{"type":20,"value":1579},{"type":14,"tag":284,"props":2151,"children":2152},{"style":308},[2153],{"type":20,"value":981},{"type":14,"tag":284,"props":2155,"children":2156},{"style":478},[2157],{"type":20,"value":1588},{"type":14,"tag":284,"props":2159,"children":2160},{"style":308},[2161],{"type":20,"value":2162},",\n",{"type":14,"tag":284,"props":2164,"children":2166},{"class":286,"line":2165},12,[2167,2172,2177,2182,2186,2190,2195],{"type":14,"tag":284,"props":2168,"children":2169},{"style":478},[2170],{"type":20,"value":2171},"            onDispose",{"type":14,"tag":284,"props":2173,"children":2174},{"style":308},[2175],{"type":20,"value":2176},": () ",{"type":14,"tag":284,"props":2178,"children":2179},{"style":484},[2180],{"type":20,"value":2181},"=>",{"type":14,"tag":284,"props":2183,"children":2184},{"style":478},[2185],{"type":20,"value":2068},{"type":14,"tag":284,"props":2187,"children":2188},{"style":308},[2189],{"type":20,"value":272},{"type":14,"tag":284,"props":2191,"children":2192},{"style":610},[2193],{"type":20,"value":2194},"AddStandardStuffAfter",{"type":14,"tag":284,"props":2196,"children":2197},{"style":308},[2198],{"type":20,"value":618},{"type":14,"tag":284,"props":2200,"children":2202},{"class":286,"line":2201},13,[2203],{"type":14,"tag":284,"props":2204,"children":2205},{"style":308},[2206],{"type":20,"value":2207},"        );\n",{"type":14,"tag":284,"props":2209,"children":2211},{"class":286,"line":2210},14,[2212],{"type":14,"tag":284,"props":2213,"children":2214},{"style":308},[2215],{"type":20,"value":689},{"type":14,"tag":284,"props":2217,"children":2219},{"class":286,"line":2218},15,[2220],{"type":14,"tag":284,"props":2221,"children":2222},{"style":308},[2223],{"type":20,"value":343},{"type":14,"tag":345,"props":2225,"children":2226},{},[2227,2231],{"type":14,"tag":22,"props":2228,"children":2229},{},[2230],{"type":20,"value":1252},{"type":14,"tag":22,"props":2232,"children":2233},{},[2234,2236,2240,2242,2246,2248,2252],{"type":20,"value":2235},"Notice that a layer has access to the ",{"type":14,"tag":28,"props":2237,"children":2238},{"className":7},[2239],{"type":20,"value":183},{"type":20,"value":2241}," instance through\n",{"type":14,"tag":28,"props":2243,"children":2244},{"className":7},[2245],{"type":20,"value":831},{"type":20,"value":2247}," property provided in ",{"type":14,"tag":28,"props":2249,"children":2250},{"className":7},[2251],{"type":20,"value":270},{"type":20,"value":2253}," base class.",{"type":14,"tag":345,"props":2255,"children":2256},{},[2257,2261],{"type":14,"tag":22,"props":2258,"children":2259},{},[2260],{"type":20,"value":1278},{"type":14,"tag":22,"props":2262,"children":2263},{},[2264,2268,2270,2274],{"type":14,"tag":28,"props":2265,"children":2266},{"className":7},[2267],{"type":20,"value":1922},{"type":20,"value":2269}," method is called for every layer before applying any of them\nto features. And ",{"type":14,"tag":28,"props":2271,"children":2272},{"className":7},[2273],{"type":20,"value":1929},{"type":20,"value":2275}," actions are called after applying these\ncontexts to all features.",{"type":14,"tag":365,"props":2277,"children":2279},{"id":2278},"providing-multiple-targets",[2280],{"type":20,"value":2281},"Providing Multiple Targets",{"type":14,"tag":22,"props":2283,"children":2284},{},[2285],{"type":20,"value":2286},"It is possible to provide up to three configuration objects for the same phase.\nThere are two ways of providing multiple targets; at once or one by one.",{"type":14,"tag":2288,"props":2289,"children":2291},"h4",{"id":2290},"at-once",[2292],{"type":20,"value":2293},"At Once",{"type":14,"tag":22,"props":2295,"children":2296},{},[2297],{"type":20,"value":2298},"Below code demonstrates providing two configuration objects at once;",{"type":14,"tag":274,"props":2300,"children":2302},{"className":276,"code":2301,"language":278,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContext(_configuration1, _configuration2);\n}\n",[2303],{"type":14,"tag":28,"props":2304,"children":2305},{"__ignoreMap":7},[2306,2341,2348,2377,2406,2413,2452,2489],{"type":14,"tag":284,"props":2307,"children":2308},{"class":286,"line":287},[2309,2313,2317,2321,2325,2329,2333,2337],{"type":14,"tag":284,"props":2310,"children":2311},{"style":291},[2312],{"type":20,"value":294},{"type":14,"tag":284,"props":2314,"children":2315},{"style":291},[2316],{"type":20,"value":299},{"type":14,"tag":284,"props":2318,"children":2319},{"style":302},[2320],{"type":20,"value":305},{"type":14,"tag":284,"props":2322,"children":2323},{"style":308},[2324],{"type":20,"value":311},{"type":14,"tag":284,"props":2326,"children":2327},{"style":302},[2328],{"type":20,"value":270},{"type":14,"tag":284,"props":2330,"children":2331},{"style":308},[2332],{"type":20,"value":597},{"type":14,"tag":284,"props":2334,"children":2335},{"style":302},[2336],{"type":20,"value":1470},{"type":14,"tag":284,"props":2338,"children":2339},{"style":308},[2340],{"type":20,"value":1096},{"type":14,"tag":284,"props":2342,"children":2343},{"class":286,"line":319},[2344],{"type":14,"tag":284,"props":2345,"children":2346},{"style":308},[2347],{"type":20,"value":325},{"type":14,"tag":284,"props":2349,"children":2350},{"class":286,"line":328},[2351,2355,2360,2365,2369,2373],{"type":14,"tag":284,"props":2352,"children":2353},{"style":291},[2354],{"type":20,"value":1489},{"type":14,"tag":284,"props":2356,"children":2357},{"style":302},[2358],{"type":20,"value":2359}," Configuration1",{"type":14,"tag":284,"props":2361,"children":2362},{"style":478},[2363],{"type":20,"value":2364}," _configuration1",{"type":14,"tag":284,"props":2366,"children":2367},{"style":484},[2368],{"type":20,"value":936},{"type":14,"tag":284,"props":2370,"children":2371},{"style":291},[2372],{"type":20,"value":645},{"type":14,"tag":284,"props":2374,"children":2375},{"style":308},[2376],{"type":20,"value":655},{"type":14,"tag":284,"props":2378,"children":2379},{"class":286,"line":337},[2380,2384,2389,2394,2398,2402],{"type":14,"tag":284,"props":2381,"children":2382},{"style":291},[2383],{"type":20,"value":1489},{"type":14,"tag":284,"props":2385,"children":2386},{"style":302},[2387],{"type":20,"value":2388}," Configuration2",{"type":14,"tag":284,"props":2390,"children":2391},{"style":478},[2392],{"type":20,"value":2393}," _configuration2",{"type":14,"tag":284,"props":2395,"children":2396},{"style":484},[2397],{"type":20,"value":936},{"type":14,"tag":284,"props":2399,"children":2400},{"style":291},[2401],{"type":20,"value":645},{"type":14,"tag":284,"props":2403,"children":2404},{"style":308},[2405],{"type":20,"value":655},{"type":14,"tag":284,"props":2407,"children":2408},{"class":286,"line":509},[2409],{"type":14,"tag":284,"props":2410,"children":2411},{"emptyLinePlaceholder":696},[2412],{"type":20,"value":699},{"type":14,"tag":284,"props":2414,"children":2415},{"class":286,"line":658},[2416,2420,2424,2428,2432,2436,2440,2444,2448],{"type":14,"tag":284,"props":2417,"children":2418},{"style":291},[2419],{"type":20,"value":465},{"type":14,"tag":284,"props":2421,"children":2422},{"style":291},[2423],{"type":20,"value":470},{"type":14,"tag":284,"props":2425,"children":2426},{"style":302},[2427],{"type":20,"value":1534},{"type":14,"tag":284,"props":2429,"children":2430},{"style":610},[2431],{"type":20,"value":1539},{"type":14,"tag":284,"props":2433,"children":2434},{"style":308},[2435],{"type":20,"value":981},{"type":14,"tag":284,"props":2437,"children":2438},{"style":302},[2439],{"type":20,"value":1470},{"type":14,"tag":284,"props":2441,"children":2442},{"style":478},[2443],{"type":20,"value":1552},{"type":14,"tag":284,"props":2445,"children":2446},{"style":308},[2447],{"type":20,"value":1557},{"type":14,"tag":284,"props":2449,"children":2450},{"style":484},[2451],{"type":20,"value":1562},{"type":14,"tag":284,"props":2453,"children":2454},{"class":286,"line":683},[2455,2459,2463,2467,2471,2476,2480,2485],{"type":14,"tag":284,"props":2456,"children":2457},{"style":478},[2458],{"type":20,"value":1570},{"type":14,"tag":284,"props":2460,"children":2461},{"style":308},[2462],{"type":20,"value":272},{"type":14,"tag":284,"props":2464,"children":2465},{"style":610},[2466],{"type":20,"value":1579},{"type":14,"tag":284,"props":2468,"children":2469},{"style":308},[2470],{"type":20,"value":981},{"type":14,"tag":284,"props":2472,"children":2473},{"style":478},[2474],{"type":20,"value":2475},"_configuration1",{"type":14,"tag":284,"props":2477,"children":2478},{"style":308},[2479],{"type":20,"value":192},{"type":14,"tag":284,"props":2481,"children":2482},{"style":478},[2483],{"type":20,"value":2484},"_configuration2",{"type":14,"tag":284,"props":2486,"children":2487},{"style":308},[2488],{"type":20,"value":991},{"type":14,"tag":284,"props":2490,"children":2491},{"class":286,"line":692},[2492],{"type":14,"tag":284,"props":2493,"children":2494},{"style":308},[2495],{"type":20,"value":343},{"type":14,"tag":22,"props":2497,"children":2498},{},[2499],{"type":20,"value":2500},"This phase context will require an action with two parameter in a feature;",{"type":14,"tag":274,"props":2502,"children":2504},{"className":276,"code":2503,"language":278,"meta":7,"style":7},"...\npublic void Configure(LayerConfigurator configurator)\n{\n    configurator.Configure((Configuration1 configuration1, Configuration2 configuration2) =>\n    {\n        // use both objects to configure\n    });\n}\n...\n",[2505],{"type":14,"tag":28,"props":2506,"children":2507},{"__ignoreMap":7},[2508,2519,2552,2559,2612,2619,2628,2636,2643],{"type":14,"tag":284,"props":2509,"children":2510},{"class":286,"line":287},[2511,2515],{"type":14,"tag":284,"props":2512,"children":2513},{"style":484},[2514],{"type":20,"value":1811},{"type":14,"tag":284,"props":2516,"children":2517},{"style":308},[2518],{"type":20,"value":506},{"type":14,"tag":284,"props":2520,"children":2521},{"class":286,"line":319},[2522,2526,2530,2535,2539,2543,2548],{"type":14,"tag":284,"props":2523,"children":2524},{"style":291},[2525],{"type":20,"value":294},{"type":14,"tag":284,"props":2527,"children":2528},{"style":291},[2529],{"type":20,"value":902},{"type":14,"tag":284,"props":2531,"children":2532},{"style":610},[2533],{"type":20,"value":2534}," Configure",{"type":14,"tag":284,"props":2536,"children":2537},{"style":308},[2538],{"type":20,"value":981},{"type":14,"tag":284,"props":2540,"children":2541},{"style":302},[2542],{"type":20,"value":211},{"type":14,"tag":284,"props":2544,"children":2545},{"style":478},[2546],{"type":20,"value":2547}," configurator",{"type":14,"tag":284,"props":2549,"children":2550},{"style":308},[2551],{"type":20,"value":1139},{"type":14,"tag":284,"props":2553,"children":2554},{"class":286,"line":328},[2555],{"type":14,"tag":284,"props":2556,"children":2557},{"style":308},[2558],{"type":20,"value":325},{"type":14,"tag":284,"props":2560,"children":2561},{"class":286,"line":337},[2562,2567,2571,2575,2580,2585,2590,2594,2599,2604,2608],{"type":14,"tag":284,"props":2563,"children":2564},{"style":478},[2565],{"type":20,"value":2566},"    configurator",{"type":14,"tag":284,"props":2568,"children":2569},{"style":308},[2570],{"type":20,"value":272},{"type":14,"tag":284,"props":2572,"children":2573},{"style":610},[2574],{"type":20,"value":205},{"type":14,"tag":284,"props":2576,"children":2577},{"style":308},[2578],{"type":20,"value":2579},"((",{"type":14,"tag":284,"props":2581,"children":2582},{"style":302},[2583],{"type":20,"value":2584},"Configuration1",{"type":14,"tag":284,"props":2586,"children":2587},{"style":478},[2588],{"type":20,"value":2589}," configuration1",{"type":14,"tag":284,"props":2591,"children":2592},{"style":308},[2593],{"type":20,"value":192},{"type":14,"tag":284,"props":2595,"children":2596},{"style":302},[2597],{"type":20,"value":2598},"Configuration2",{"type":14,"tag":284,"props":2600,"children":2601},{"style":478},[2602],{"type":20,"value":2603}," configuration2",{"type":14,"tag":284,"props":2605,"children":2606},{"style":308},[2607],{"type":20,"value":1557},{"type":14,"tag":284,"props":2609,"children":2610},{"style":484},[2611],{"type":20,"value":1562},{"type":14,"tag":284,"props":2613,"children":2614},{"class":286,"line":509},[2615],{"type":14,"tag":284,"props":2616,"children":2617},{"style":308},[2618],{"type":20,"value":626},{"type":14,"tag":284,"props":2620,"children":2621},{"class":286,"line":658},[2622],{"type":14,"tag":284,"props":2623,"children":2625},{"style":2624},"--shiki-default:#6A9955",[2626],{"type":20,"value":2627},"        // use both objects to configure\n",{"type":14,"tag":284,"props":2629,"children":2630},{"class":286,"line":683},[2631],{"type":14,"tag":284,"props":2632,"children":2633},{"style":308},[2634],{"type":20,"value":2635},"    });\n",{"type":14,"tag":284,"props":2637,"children":2638},{"class":286,"line":692},[2639],{"type":14,"tag":284,"props":2640,"children":2641},{"style":308},[2642],{"type":20,"value":343},{"type":14,"tag":284,"props":2644,"children":2645},{"class":286,"line":702},[2646,2650],{"type":14,"tag":284,"props":2647,"children":2648},{"style":484},[2649],{"type":20,"value":1811},{"type":14,"tag":284,"props":2651,"children":2652},{"style":308},[2653],{"type":20,"value":506},{"type":14,"tag":22,"props":2655,"children":2656},{},[2657,2659,2665],{"type":20,"value":2658},"See ",{"type":14,"tag":60,"props":2660,"children":2662},{"href":2661},"./feature",[2663],{"type":20,"value":2664},"Feature",{"type":20,"value":2666}," for more information on using layer configurators\nfor features.",{"type":14,"tag":2288,"props":2668,"children":2670},{"id":2669},"one-by-one",[2671],{"type":20,"value":2672},"One by One",{"type":14,"tag":22,"props":2674,"children":2675},{},[2676],{"type":20,"value":2677},"Below code demonstrates providing configuration objects one by one;",{"type":14,"tag":274,"props":2679,"children":2681},{"className":276,"code":2680,"language":278,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContextBuilder()\n            .Add(_configuration1)\n            .Add(_configuration2)\n            .Build()\n        ;\n}\n",[2682],{"type":14,"tag":28,"props":2683,"children":2684},{"__ignoreMap":7},[2685,2720,2727,2754,2781,2788,2827,2847,2871,2894,2909,2917],{"type":14,"tag":284,"props":2686,"children":2687},{"class":286,"line":287},[2688,2692,2696,2700,2704,2708,2712,2716],{"type":14,"tag":284,"props":2689,"children":2690},{"style":291},[2691],{"type":20,"value":294},{"type":14,"tag":284,"props":2693,"children":2694},{"style":291},[2695],{"type":20,"value":299},{"type":14,"tag":284,"props":2697,"children":2698},{"style":302},[2699],{"type":20,"value":305},{"type":14,"tag":284,"props":2701,"children":2702},{"style":308},[2703],{"type":20,"value":311},{"type":14,"tag":284,"props":2705,"children":2706},{"style":302},[2707],{"type":20,"value":270},{"type":14,"tag":284,"props":2709,"children":2710},{"style":308},[2711],{"type":20,"value":597},{"type":14,"tag":284,"props":2713,"children":2714},{"style":302},[2715],{"type":20,"value":1470},{"type":14,"tag":284,"props":2717,"children":2718},{"style":308},[2719],{"type":20,"value":1096},{"type":14,"tag":284,"props":2721,"children":2722},{"class":286,"line":319},[2723],{"type":14,"tag":284,"props":2724,"children":2725},{"style":308},[2726],{"type":20,"value":325},{"type":14,"tag":284,"props":2728,"children":2729},{"class":286,"line":328},[2730,2734,2738,2742,2746,2750],{"type":14,"tag":284,"props":2731,"children":2732},{"style":291},[2733],{"type":20,"value":1489},{"type":14,"tag":284,"props":2735,"children":2736},{"style":302},[2737],{"type":20,"value":2359},{"type":14,"tag":284,"props":2739,"children":2740},{"style":478},[2741],{"type":20,"value":2364},{"type":14,"tag":284,"props":2743,"children":2744},{"style":484},[2745],{"type":20,"value":936},{"type":14,"tag":284,"props":2747,"children":2748},{"style":291},[2749],{"type":20,"value":645},{"type":14,"tag":284,"props":2751,"children":2752},{"style":308},[2753],{"type":20,"value":655},{"type":14,"tag":284,"props":2755,"children":2756},{"class":286,"line":337},[2757,2761,2765,2769,2773,2777],{"type":14,"tag":284,"props":2758,"children":2759},{"style":291},[2760],{"type":20,"value":1489},{"type":14,"tag":284,"props":2762,"children":2763},{"style":302},[2764],{"type":20,"value":2388},{"type":14,"tag":284,"props":2766,"children":2767},{"style":478},[2768],{"type":20,"value":2393},{"type":14,"tag":284,"props":2770,"children":2771},{"style":484},[2772],{"type":20,"value":936},{"type":14,"tag":284,"props":2774,"children":2775},{"style":291},[2776],{"type":20,"value":645},{"type":14,"tag":284,"props":2778,"children":2779},{"style":308},[2780],{"type":20,"value":655},{"type":14,"tag":284,"props":2782,"children":2783},{"class":286,"line":509},[2784],{"type":14,"tag":284,"props":2785,"children":2786},{"emptyLinePlaceholder":696},[2787],{"type":20,"value":699},{"type":14,"tag":284,"props":2789,"children":2790},{"class":286,"line":658},[2791,2795,2799,2803,2807,2811,2815,2819,2823],{"type":14,"tag":284,"props":2792,"children":2793},{"style":291},[2794],{"type":20,"value":465},{"type":14,"tag":284,"props":2796,"children":2797},{"style":291},[2798],{"type":20,"value":470},{"type":14,"tag":284,"props":2800,"children":2801},{"style":302},[2802],{"type":20,"value":1534},{"type":14,"tag":284,"props":2804,"children":2805},{"style":610},[2806],{"type":20,"value":1539},{"type":14,"tag":284,"props":2808,"children":2809},{"style":308},[2810],{"type":20,"value":981},{"type":14,"tag":284,"props":2812,"children":2813},{"style":302},[2814],{"type":20,"value":1470},{"type":14,"tag":284,"props":2816,"children":2817},{"style":478},[2818],{"type":20,"value":1552},{"type":14,"tag":284,"props":2820,"children":2821},{"style":308},[2822],{"type":20,"value":1557},{"type":14,"tag":284,"props":2824,"children":2825},{"style":484},[2826],{"type":20,"value":1562},{"type":14,"tag":284,"props":2828,"children":2829},{"class":286,"line":683},[2830,2834,2838,2843],{"type":14,"tag":284,"props":2831,"children":2832},{"style":478},[2833],{"type":20,"value":1570},{"type":14,"tag":284,"props":2835,"children":2836},{"style":308},[2837],{"type":20,"value":272},{"type":14,"tag":284,"props":2839,"children":2840},{"style":610},[2841],{"type":20,"value":2842},"CreateContextBuilder",{"type":14,"tag":284,"props":2844,"children":2845},{"style":308},[2846],{"type":20,"value":618},{"type":14,"tag":284,"props":2848,"children":2849},{"class":286,"line":692},[2850,2855,2859,2863,2867],{"type":14,"tag":284,"props":2851,"children":2852},{"style":308},[2853],{"type":20,"value":2854},"            .",{"type":14,"tag":284,"props":2856,"children":2857},{"style":610},[2858],{"type":20,"value":154},{"type":14,"tag":284,"props":2860,"children":2861},{"style":308},[2862],{"type":20,"value":981},{"type":14,"tag":284,"props":2864,"children":2865},{"style":478},[2866],{"type":20,"value":2475},{"type":14,"tag":284,"props":2868,"children":2869},{"style":308},[2870],{"type":20,"value":1139},{"type":14,"tag":284,"props":2872,"children":2873},{"class":286,"line":702},[2874,2878,2882,2886,2890],{"type":14,"tag":284,"props":2875,"children":2876},{"style":308},[2877],{"type":20,"value":2854},{"type":14,"tag":284,"props":2879,"children":2880},{"style":610},[2881],{"type":20,"value":154},{"type":14,"tag":284,"props":2883,"children":2884},{"style":308},[2885],{"type":20,"value":981},{"type":14,"tag":284,"props":2887,"children":2888},{"style":478},[2889],{"type":20,"value":2484},{"type":14,"tag":284,"props":2891,"children":2892},{"style":308},[2893],{"type":20,"value":1139},{"type":14,"tag":284,"props":2895,"children":2896},{"class":286,"line":733},[2897,2901,2905],{"type":14,"tag":284,"props":2898,"children":2899},{"style":308},[2900],{"type":20,"value":2854},{"type":14,"tag":284,"props":2902,"children":2903},{"style":610},[2904],{"type":20,"value":233},{"type":14,"tag":284,"props":2906,"children":2907},{"style":308},[2908],{"type":20,"value":618},{"type":14,"tag":284,"props":2910,"children":2911},{"class":286,"line":761},[2912],{"type":14,"tag":284,"props":2913,"children":2914},{"style":308},[2915],{"type":20,"value":2916},"        ;\n",{"type":14,"tag":284,"props":2918,"children":2919},{"class":286,"line":2165},[2920],{"type":14,"tag":284,"props":2921,"children":2922},{"style":308},[2923],{"type":20,"value":343},{"type":14,"tag":22,"props":2925,"children":2926},{},[2927],{"type":20,"value":2928},"This phase context will require two different actions in a feature;",{"type":14,"tag":274,"props":2930,"children":2932},{"className":276,"code":2931,"language":278,"meta":7,"style":7},"...\npublic void Configure(LayerConfigurator configurator)\n{\n    configurator.Configure((Configuration1 configuration1) =>\n    {\n        // configure one by one\n    });\n\n    configurator.Configure((Configuration2 configuration2) =>\n    {\n        // configure one by one\n    });\n}\n...\n",[2933],{"type":14,"tag":28,"props":2934,"children":2935},{"__ignoreMap":7},[2936,2947,2978,2985,3020,3027,3035,3042,3049,3084,3091,3098,3105,3112],{"type":14,"tag":284,"props":2937,"children":2938},{"class":286,"line":287},[2939,2943],{"type":14,"tag":284,"props":2940,"children":2941},{"style":484},[2942],{"type":20,"value":1811},{"type":14,"tag":284,"props":2944,"children":2945},{"style":308},[2946],{"type":20,"value":506},{"type":14,"tag":284,"props":2948,"children":2949},{"class":286,"line":319},[2950,2954,2958,2962,2966,2970,2974],{"type":14,"tag":284,"props":2951,"children":2952},{"style":291},[2953],{"type":20,"value":294},{"type":14,"tag":284,"props":2955,"children":2956},{"style":291},[2957],{"type":20,"value":902},{"type":14,"tag":284,"props":2959,"children":2960},{"style":610},[2961],{"type":20,"value":2534},{"type":14,"tag":284,"props":2963,"children":2964},{"style":308},[2965],{"type":20,"value":981},{"type":14,"tag":284,"props":2967,"children":2968},{"style":302},[2969],{"type":20,"value":211},{"type":14,"tag":284,"props":2971,"children":2972},{"style":478},[2973],{"type":20,"value":2547},{"type":14,"tag":284,"props":2975,"children":2976},{"style":308},[2977],{"type":20,"value":1139},{"type":14,"tag":284,"props":2979,"children":2980},{"class":286,"line":328},[2981],{"type":14,"tag":284,"props":2982,"children":2983},{"style":308},[2984],{"type":20,"value":325},{"type":14,"tag":284,"props":2986,"children":2987},{"class":286,"line":337},[2988,2992,2996,3000,3004,3008,3012,3016],{"type":14,"tag":284,"props":2989,"children":2990},{"style":478},[2991],{"type":20,"value":2566},{"type":14,"tag":284,"props":2993,"children":2994},{"style":308},[2995],{"type":20,"value":272},{"type":14,"tag":284,"props":2997,"children":2998},{"style":610},[2999],{"type":20,"value":205},{"type":14,"tag":284,"props":3001,"children":3002},{"style":308},[3003],{"type":20,"value":2579},{"type":14,"tag":284,"props":3005,"children":3006},{"style":302},[3007],{"type":20,"value":2584},{"type":14,"tag":284,"props":3009,"children":3010},{"style":478},[3011],{"type":20,"value":2589},{"type":14,"tag":284,"props":3013,"children":3014},{"style":308},[3015],{"type":20,"value":1557},{"type":14,"tag":284,"props":3017,"children":3018},{"style":484},[3019],{"type":20,"value":1562},{"type":14,"tag":284,"props":3021,"children":3022},{"class":286,"line":509},[3023],{"type":14,"tag":284,"props":3024,"children":3025},{"style":308},[3026],{"type":20,"value":626},{"type":14,"tag":284,"props":3028,"children":3029},{"class":286,"line":658},[3030],{"type":14,"tag":284,"props":3031,"children":3032},{"style":2624},[3033],{"type":20,"value":3034},"        // configure one by one\n",{"type":14,"tag":284,"props":3036,"children":3037},{"class":286,"line":683},[3038],{"type":14,"tag":284,"props":3039,"children":3040},{"style":308},[3041],{"type":20,"value":2635},{"type":14,"tag":284,"props":3043,"children":3044},{"class":286,"line":692},[3045],{"type":14,"tag":284,"props":3046,"children":3047},{"emptyLinePlaceholder":696},[3048],{"type":20,"value":699},{"type":14,"tag":284,"props":3050,"children":3051},{"class":286,"line":702},[3052,3056,3060,3064,3068,3072,3076,3080],{"type":14,"tag":284,"props":3053,"children":3054},{"style":478},[3055],{"type":20,"value":2566},{"type":14,"tag":284,"props":3057,"children":3058},{"style":308},[3059],{"type":20,"value":272},{"type":14,"tag":284,"props":3061,"children":3062},{"style":610},[3063],{"type":20,"value":205},{"type":14,"tag":284,"props":3065,"children":3066},{"style":308},[3067],{"type":20,"value":2579},{"type":14,"tag":284,"props":3069,"children":3070},{"style":302},[3071],{"type":20,"value":2598},{"type":14,"tag":284,"props":3073,"children":3074},{"style":478},[3075],{"type":20,"value":2603},{"type":14,"tag":284,"props":3077,"children":3078},{"style":308},[3079],{"type":20,"value":1557},{"type":14,"tag":284,"props":3081,"children":3082},{"style":484},[3083],{"type":20,"value":1562},{"type":14,"tag":284,"props":3085,"children":3086},{"class":286,"line":733},[3087],{"type":14,"tag":284,"props":3088,"children":3089},{"style":308},[3090],{"type":20,"value":626},{"type":14,"tag":284,"props":3092,"children":3093},{"class":286,"line":761},[3094],{"type":14,"tag":284,"props":3095,"children":3096},{"style":2624},[3097],{"type":20,"value":3034},{"type":14,"tag":284,"props":3099,"children":3100},{"class":286,"line":2165},[3101],{"type":14,"tag":284,"props":3102,"children":3103},{"style":308},[3104],{"type":20,"value":2635},{"type":14,"tag":284,"props":3106,"children":3107},{"class":286,"line":2201},[3108],{"type":14,"tag":284,"props":3109,"children":3110},{"style":308},[3111],{"type":20,"value":343},{"type":14,"tag":284,"props":3113,"children":3114},{"class":286,"line":2210},[3115,3119],{"type":14,"tag":284,"props":3116,"children":3117},{"style":484},[3118],{"type":20,"value":1811},{"type":14,"tag":284,"props":3120,"children":3121},{"style":308},[3122],{"type":20,"value":506},{"type":14,"tag":345,"props":3124,"children":3125},{},[3126,3130],{"type":14,"tag":22,"props":3127,"children":3128},{},[3129],{"type":20,"value":352},{"type":14,"tag":22,"props":3131,"children":3132},{},[3133,3138,3140,3145],{"type":14,"tag":28,"props":3134,"children":3135},{"className":7},[3136],{"type":20,"value":3137},"phase.CreateContext()",{"type":20,"value":3139}," is a helper method that utilizes\n",{"type":14,"tag":28,"props":3141,"children":3142},{"className":7},[3143],{"type":20,"value":3144},"phase.CreateContextBuilder()",{"type":20,"value":3146}," behind the scenes.",{"type":14,"tag":2288,"props":3148,"children":3150},{"id":3149},"using-in-combination",[3151],{"type":20,"value":3152},"Using in Combination",{"type":14,"tag":22,"props":3154,"children":3155},{},[3156],{"type":20,"value":3157},"You may combine these two ways to provide configuration;",{"type":14,"tag":274,"props":3159,"children":3161},{"className":276,"code":3160,"language":278,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n    readonly Configuration3 _configuration3 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContextBuilder()\n            .Add(_configuration1, _configuration2)\n            .Add(_configuration3)\n            .Build()\n        ;\n}\n",[3162],{"type":14,"tag":28,"props":3163,"children":3164},{"__ignoreMap":7},[3165,3200,3207,3234,3261,3290,3297,3336,3355,3386,3410,3425,3432],{"type":14,"tag":284,"props":3166,"children":3167},{"class":286,"line":287},[3168,3172,3176,3180,3184,3188,3192,3196],{"type":14,"tag":284,"props":3169,"children":3170},{"style":291},[3171],{"type":20,"value":294},{"type":14,"tag":284,"props":3173,"children":3174},{"style":291},[3175],{"type":20,"value":299},{"type":14,"tag":284,"props":3177,"children":3178},{"style":302},[3179],{"type":20,"value":305},{"type":14,"tag":284,"props":3181,"children":3182},{"style":308},[3183],{"type":20,"value":311},{"type":14,"tag":284,"props":3185,"children":3186},{"style":302},[3187],{"type":20,"value":270},{"type":14,"tag":284,"props":3189,"children":3190},{"style":308},[3191],{"type":20,"value":597},{"type":14,"tag":284,"props":3193,"children":3194},{"style":302},[3195],{"type":20,"value":1470},{"type":14,"tag":284,"props":3197,"children":3198},{"style":308},[3199],{"type":20,"value":1096},{"type":14,"tag":284,"props":3201,"children":3202},{"class":286,"line":319},[3203],{"type":14,"tag":284,"props":3204,"children":3205},{"style":308},[3206],{"type":20,"value":325},{"type":14,"tag":284,"props":3208,"children":3209},{"class":286,"line":328},[3210,3214,3218,3222,3226,3230],{"type":14,"tag":284,"props":3211,"children":3212},{"style":291},[3213],{"type":20,"value":1489},{"type":14,"tag":284,"props":3215,"children":3216},{"style":302},[3217],{"type":20,"value":2359},{"type":14,"tag":284,"props":3219,"children":3220},{"style":478},[3221],{"type":20,"value":2364},{"type":14,"tag":284,"props":3223,"children":3224},{"style":484},[3225],{"type":20,"value":936},{"type":14,"tag":284,"props":3227,"children":3228},{"style":291},[3229],{"type":20,"value":645},{"type":14,"tag":284,"props":3231,"children":3232},{"style":308},[3233],{"type":20,"value":655},{"type":14,"tag":284,"props":3235,"children":3236},{"class":286,"line":337},[3237,3241,3245,3249,3253,3257],{"type":14,"tag":284,"props":3238,"children":3239},{"style":291},[3240],{"type":20,"value":1489},{"type":14,"tag":284,"props":3242,"children":3243},{"style":302},[3244],{"type":20,"value":2388},{"type":14,"tag":284,"props":3246,"children":3247},{"style":478},[3248],{"type":20,"value":2393},{"type":14,"tag":284,"props":3250,"children":3251},{"style":484},[3252],{"type":20,"value":936},{"type":14,"tag":284,"props":3254,"children":3255},{"style":291},[3256],{"type":20,"value":645},{"type":14,"tag":284,"props":3258,"children":3259},{"style":308},[3260],{"type":20,"value":655},{"type":14,"tag":284,"props":3262,"children":3263},{"class":286,"line":509},[3264,3268,3273,3278,3282,3286],{"type":14,"tag":284,"props":3265,"children":3266},{"style":291},[3267],{"type":20,"value":1489},{"type":14,"tag":284,"props":3269,"children":3270},{"style":302},[3271],{"type":20,"value":3272}," Configuration3",{"type":14,"tag":284,"props":3274,"children":3275},{"style":478},[3276],{"type":20,"value":3277}," _configuration3",{"type":14,"tag":284,"props":3279,"children":3280},{"style":484},[3281],{"type":20,"value":936},{"type":14,"tag":284,"props":3283,"children":3284},{"style":291},[3285],{"type":20,"value":645},{"type":14,"tag":284,"props":3287,"children":3288},{"style":308},[3289],{"type":20,"value":655},{"type":14,"tag":284,"props":3291,"children":3292},{"class":286,"line":658},[3293],{"type":14,"tag":284,"props":3294,"children":3295},{"emptyLinePlaceholder":696},[3296],{"type":20,"value":699},{"type":14,"tag":284,"props":3298,"children":3299},{"class":286,"line":683},[3300,3304,3308,3312,3316,3320,3324,3328,3332],{"type":14,"tag":284,"props":3301,"children":3302},{"style":291},[3303],{"type":20,"value":465},{"type":14,"tag":284,"props":3305,"children":3306},{"style":291},[3307],{"type":20,"value":470},{"type":14,"tag":284,"props":3309,"children":3310},{"style":302},[3311],{"type":20,"value":1534},{"type":14,"tag":284,"props":3313,"children":3314},{"style":610},[3315],{"type":20,"value":1539},{"type":14,"tag":284,"props":3317,"children":3318},{"style":308},[3319],{"type":20,"value":981},{"type":14,"tag":284,"props":3321,"children":3322},{"style":302},[3323],{"type":20,"value":1470},{"type":14,"tag":284,"props":3325,"children":3326},{"style":478},[3327],{"type":20,"value":1552},{"type":14,"tag":284,"props":3329,"children":3330},{"style":308},[3331],{"type":20,"value":1557},{"type":14,"tag":284,"props":3333,"children":3334},{"style":484},[3335],{"type":20,"value":1562},{"type":14,"tag":284,"props":3337,"children":3338},{"class":286,"line":692},[3339,3343,3347,3351],{"type":14,"tag":284,"props":3340,"children":3341},{"style":478},[3342],{"type":20,"value":1570},{"type":14,"tag":284,"props":3344,"children":3345},{"style":308},[3346],{"type":20,"value":272},{"type":14,"tag":284,"props":3348,"children":3349},{"style":610},[3350],{"type":20,"value":2842},{"type":14,"tag":284,"props":3352,"children":3353},{"style":308},[3354],{"type":20,"value":618},{"type":14,"tag":284,"props":3356,"children":3357},{"class":286,"line":702},[3358,3362,3366,3370,3374,3378,3382],{"type":14,"tag":284,"props":3359,"children":3360},{"style":308},[3361],{"type":20,"value":2854},{"type":14,"tag":284,"props":3363,"children":3364},{"style":610},[3365],{"type":20,"value":154},{"type":14,"tag":284,"props":3367,"children":3368},{"style":308},[3369],{"type":20,"value":981},{"type":14,"tag":284,"props":3371,"children":3372},{"style":478},[3373],{"type":20,"value":2475},{"type":14,"tag":284,"props":3375,"children":3376},{"style":308},[3377],{"type":20,"value":192},{"type":14,"tag":284,"props":3379,"children":3380},{"style":478},[3381],{"type":20,"value":2484},{"type":14,"tag":284,"props":3383,"children":3384},{"style":308},[3385],{"type":20,"value":1139},{"type":14,"tag":284,"props":3387,"children":3388},{"class":286,"line":733},[3389,3393,3397,3401,3406],{"type":14,"tag":284,"props":3390,"children":3391},{"style":308},[3392],{"type":20,"value":2854},{"type":14,"tag":284,"props":3394,"children":3395},{"style":610},[3396],{"type":20,"value":154},{"type":14,"tag":284,"props":3398,"children":3399},{"style":308},[3400],{"type":20,"value":981},{"type":14,"tag":284,"props":3402,"children":3403},{"style":478},[3404],{"type":20,"value":3405},"_configuration3",{"type":14,"tag":284,"props":3407,"children":3408},{"style":308},[3409],{"type":20,"value":1139},{"type":14,"tag":284,"props":3411,"children":3412},{"class":286,"line":761},[3413,3417,3421],{"type":14,"tag":284,"props":3414,"children":3415},{"style":308},[3416],{"type":20,"value":2854},{"type":14,"tag":284,"props":3418,"children":3419},{"style":610},[3420],{"type":20,"value":233},{"type":14,"tag":284,"props":3422,"children":3423},{"style":308},[3424],{"type":20,"value":618},{"type":14,"tag":284,"props":3426,"children":3427},{"class":286,"line":2165},[3428],{"type":14,"tag":284,"props":3429,"children":3430},{"style":308},[3431],{"type":20,"value":2916},{"type":14,"tag":284,"props":3433,"children":3434},{"class":286,"line":2201},[3435],{"type":14,"tag":284,"props":3436,"children":3437},{"style":308},[3438],{"type":20,"value":343},{"type":14,"tag":22,"props":3440,"children":3441},{},[3442],{"type":20,"value":3443},"This phase context will require two different actions;",{"type":14,"tag":95,"props":3445,"children":3446},{},[3447,3457],{"type":14,"tag":99,"props":3448,"children":3449},{},[3450,3452],{"type":20,"value":3451},"For the first two configuration objects: ",{"type":14,"tag":28,"props":3453,"children":3454},{"className":7},[3455],{"type":20,"value":3456},"(Configuration1 configuration1, Configuration2 configuration2)",{"type":14,"tag":99,"props":3458,"children":3459},{},[3460,3462,3467],{"type":20,"value":3461},"For the last configuration object: ",{"type":14,"tag":28,"props":3463,"children":3464},{"className":7},[3465],{"type":20,"value":3466},"(Configuration3 configuration3)",{"type":20,"value":272},{"type":14,"tag":3469,"props":3470,"children":3471},"style",{},[3472],{"type":20,"value":3473},"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":319,"depth":319,"links":3475},[3476,3477,3481,3486],{"id":85,"depth":319,"text":88},{"id":257,"depth":319,"text":260,"children":3478},[3479],{"id":367,"depth":328,"text":3480},"Id of a Layer",{"id":517,"depth":319,"text":520,"children":3482},[3483,3484,3485],{"id":807,"depth":328,"text":810},{"id":1025,"depth":328,"text":1028},{"id":1298,"depth":328,"text":1301},{"id":1416,"depth":319,"text":1419,"children":3487},[3488,3490,3491],{"id":1651,"depth":328,"text":3489},"Using non-generic LayerBase",{"id":1909,"depth":328,"text":1912},{"id":2278,"depth":328,"text":2281},"markdown","content:architecture:layer.md","content","architecture/layer.md","md",{},{"content-query-hBLt6OxXWy":3499},null,1700741662924,{"sectionStore":3502,"pageStore":3519},{"sections":3503},[3504,3507,3510,3513,3516],{"_path":3505,"_dir":7,"title":3506},"/blueprints/","Blueprints",{"_path":3508,"_dir":7,"title":3509},"/features/","Features",{"_path":3511,"_dir":7,"title":3512},"/layers/","Layers",{"_path":3514,"_dir":7,"title":3515},"/architecture/","Architecture",{"_path":3517,"_dir":7,"title":3518},"/release-notes/","Release Notes",{"pages":3520},[3521,3525,3527,3528],{"_path":3514,"title":3515,"pages":3522},[3523,17,3524],"application","feature",{"_path":3526,"title":65},"/architecture/application",{"_path":4,"title":8},{"_path":3529,"title":2664},"/architecture/feature"]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:false,h3:false,h4:false,h5:false,h6:false}}},baseURL:"/",githubURL:"/mouseless/do",content:{locales:[],defaultLocale:"",integrity:1700741651431,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"slack-dark",preload:["diff","ts","js","css","java","markdown","sql","xml","json","csharp","md","bash"]},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body>
</html>