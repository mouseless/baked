<!DOCTYPE html><html><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Layer</title>
<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Do">
<meta property="og:description" content="An opinionated framework for .NET">
<meta property="og:image" content="https://do.mouseless.codes/favicon.ico">
<meta property="og:image:width" content="50">
<meta property="og:image:height" content="50">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
<link rel="stylesheet" type="text/css" href="https://mouseless.github.io/brand/assets/css/default.css">
<meta property="og:title" content="Layer">
<meta name="description" content="Each ILayer implementation represents an internal system component of the
software you develop. A layer provides application features with configuration
of this system component so that the features can bind domain objects and
system components together.">
<meta property="og:description" content="Each ILayer implementation represents an internal system component of the
software you develop. A layer provides application features with configuration
of this system component so that the features can bind domain objects and
system components together.">
<style>@media (prefers-color-scheme:dark){:root{--url-logo-full:url(/logo-full-primary.svg);--url-logo-full-mono:url(/logo-full-white.svg);--url-logo-mark:url(/logo-mark-primary.svg);--url-logo-mark-mono:url(/logo-mark-white.svg)}}@media (prefers-color-scheme:light){:root{--url-logo-full:url(/logo-full-secondary.svg);--url-logo-full-mono:url(/logo-full-black.svg);--url-logo-mark:url(/logo-mark-primary.svg);--url-logo-mark-mono:url(/logo-mark-black.svg)}}body,html{margin:0;padding:0}body{font-size:calc(var(--font-size)*1.2);line-height:calc(var(--line-height)*1.1)}img.do:is(.logo),img.do:is(.logo:is(.full)){content:var(--url-logo-full)}img.do:is(.logo):is(.mono),img.do:is(.logo:is(.full)):is(.mono){content:var(--url-logo-full-mono)}img.do:is(.logo:is(.mark)){content:var(--url-logo-mark)}img.do:is(.logo:is(.mark)):is(.mono){content:var(--url-logo-mark-mono)}.content nav h4{margin-bottom:.5em;margin-top:0;text-transform:uppercase}.content nav h4 a{display:inline-block;text-decoration:none}.content nav h4 a,.content nav h4 a:hover{color:var(--color-fg-soft)}.content p:has(.diagram){background-color:var(--color-bg-box);border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-color:var(--color-bg-soft);border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);padding:30px 0 18px;text-align:center}.content code{background-color:var(--color-bg-soft);border-radius:5px;color:var(--color-soft);font-size:.9em;overflow-wrap:anywhere;padding:.2em .4em}.content pre{text-wrap:wrap;overflow:auto}.content pre code{background-color:transparent;padding:0;text-wrap:nowrap;display:block;line-height:1.5em;max-width:0}.content ol li,.content ul li{margin-bottom:.2em}.content ol li ol,.content ol li ul,.content ul li ol,.content ul li ul{margin-top:.2em}.content hr{border:2px solid var(--color-bg-soft)}@media (max-width:1830px){body{font-size:var(--font-size);line-height:var(--line-height)}.content pre code{line-height:1em}}@media (max-width:1330px){.content h2,.content h3{scroll-margin-top:3em}nav h4 a{cursor:pointer;padding:1em}nav h4 a:hover{color:var(--color-logo-mark)}}</style>
<style>.content[data-v-5e897649],.full[data-v-5e897649]{box-sizing:border-box;margin:auto;max-width:calc(var(--width-content) + 34em);min-width:270px}@media (max-width:1830px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:calc(var(--width-content) + 34em)}}@media (max-width:1330px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:calc(var(--width-content) + 19em)}}@media (max-width:1074px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:calc(var(--width-content))}}@media (max-width:818px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:82%}}.content[data-v-5e897649]{display:grid;grid-template-areas:"side content" "side content";grid-template-columns:15em;grid-template-rows:65px 1fr}.side[data-v-5e897649]{grid-area:side}article[data-v-5e897649]{grid-area:content}@media (max-width:1330px){.content[data-v-5e897649]{margin-top:0}}@media (max-width:1074px){.side[data-v-5e897649]{grid-column-end:content;z-index:2}article[data-v-5e897649]{grid-column-start:side}}@media (max-width:818px){.content[data-v-5e897649]{display:block}}</style>
<style>div.top[data-v-049e3959]{border-bottom:2px solid var(--color-bg-soft)}header[data-v-049e3959]{align-items:center;box-sizing:border-box;display:flex;flex-direction:row;justify-content:space-between;margin:auto;max-width:calc(var(--width-content) + 34em);min-width:270px}@media (max-width:1830px){header[data-v-049e3959]{max-width:calc(var(--width-content) + 34em)}}@media (max-width:1330px){header[data-v-049e3959]{max-width:calc(var(--width-content) + 19em)}}@media (max-width:1074px){header[data-v-049e3959]{max-width:calc(var(--width-content))}}@media (max-width:818px){header[data-v-049e3959]{max-width:82%}}header .bars[data-v-049e3959]{display:none}div.logo[data-v-049e3959]{margin:20px 0}div.logo a[data-v-049e3959]:has(img.logo){display:block;height:25px}div.logo a:has(img.logo) img.do:is(.logo[data-v-049e3959]){display:inline-block;height:25px}a[data-v-049e3959]{color:var(--color-fg-soft);cursor:pointer}a[data-v-049e3959]:hover{color:var(--color-logo-mark)}nav a[data-v-049e3959]{margin:1em;text-decoration:none}nav a.close[data-v-049e3959]{display:none}nav a.active[data-v-049e3959]{border-bottom-color:var(--color-bg-soft);border-bottom:2px solid var(--color-logo-mark);padding-bottom:22px}nav a[data-v-049e3959]:last-child{margin-right:0}@media (max-width:1830px){nav a.active[data-v-049e3959]{padding-bottom:24px}}@media (max-width:1074px){a.bars[data-v-049e3959]{display:block}nav[data-v-049e3959]{background:var(--color-bg);border-left:2px solid var(--color-bg-soft);display:none;height:100%;padding:20px;position:fixed;right:0;top:0;width:calc(270px - 4em);z-index:99}nav a[data-v-049e3959],nav.active[data-v-049e3959]{display:block}nav a[data-v-049e3959]{height:2em}nav a.close[data-v-049e3959]{display:block;margin-bottom:1em}nav a.close i[data-v-049e3959]{font-size:larger}nav a.active[data-v-049e3959]{border:0;border-left-color:var(--color-bg-soft);border-left:2px solid var(--color-logo-mark);margin-left:-22px;padding-bottom:0;padding-left:calc(20px + 1em)}}@media (max-width:818px){nav[data-v-049e3959]{width:calc(270px - 7em)}}</style>
<style>nav[data-v-9dee0249]{align-self:start;margin-top:2.5em;position:sticky;top:1.5em}nav h4[data-v-9dee0249]{display:none}nav ul[data-v-9dee0249]{margin:0;padding:0}nav ul li[data-v-9dee0249]{list-style:none;margin:0}nav ul li a[data-v-9dee0249]{border-radius:calc(var(--border-radius)/3);color:var(--color-fg-soft);display:block;font-size:1em;padding:.5em 1em;text-decoration:none}nav ul li a[data-v-9dee0249]:hover{color:var(--color-logo-mark)}nav ul li a.active[data-v-9dee0249]{background-color:var(--color-bg-soft)}@media (max-width:1330px){nav[data-v-9dee0249]{margin-top:3.5em}}@media (max-width:1074px){nav[data-v-9dee0249]{margin-top:0;top:0;width:50%}nav h4[data-v-9dee0249]{display:block;font-size:.9em;text-transform:uppercase}nav h4 a[data-v-9dee0249]{padding-left:0}nav h4 a[data-v-9dee0249]:hover{color:var(--color-logo-mark)}nav ul[data-v-9dee0249]{background-color:var(--color-bg-box);background-color:var(--color-bg-soft);border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);box-sizing:border-box;display:none;padding:calc(var(--border-radius) - .5em) calc(var(--border-radius) - 1em);position:absolute;width:200%}nav ul.active[data-v-9dee0249]{display:block}nav ul li a.active[data-v-9dee0249]{background-color:var(--color-bg-mute)}}@media (max-width:818px){nav[data-v-9dee0249]{margin-bottom:-3.7em}}</style>
<style>.container[data-v-b90ae7fa]{display:flex}.container .content[data-v-b90ae7fa]{margin:0 4em;max-width:var(--width-content);width:100%}@media (max-width:1330px){.container[data-v-b90ae7fa]{flex-direction:column-reverse;margin-left:4em}.container .content[data-v-b90ae7fa]{margin:1em 0 0}}@media (max-width:1074px){.container[data-v-b90ae7fa]{margin-left:0}}</style>
<style>.full .content{margin-left:0!important;margin-right:0!important}@media (max-width:1330px){.full .container{margin-left:0}}</style>
<style>div.bottom[data-v-82c0088f]{border-top:2px solid var(--color-bg-soft);margin-top:4em}footer[data-v-82c0088f]{align-items:flex-start;box-sizing:border-box;display:flex;flex-direction:row;justify-content:space-between;margin:1em auto;max-width:calc(var(--width-content) + 34em);min-width:270px}@media (max-width:1830px){footer[data-v-82c0088f]{max-width:calc(var(--width-content) + 34em)}}@media (max-width:1330px){footer[data-v-82c0088f]{max-width:calc(var(--width-content) + 19em)}}@media (max-width:1074px){footer[data-v-82c0088f]{max-width:calc(var(--width-content))}}@media (max-width:818px){footer[data-v-82c0088f]{max-width:82%}}footer[data-v-82c0088f],footer *[data-v-82c0088f]{color:var(--color-fg-mute)}footer div[data-v-82c0088f],footer nav[data-v-82c0088f]{font-family:var(--font-heading);font-size:smaller}div.logo[data-v-82c0088f]{margin:20px 0}div.logo a[data-v-82c0088f]:has(img.logo){display:block;height:15px}div.logo a:has(img.logo) img.do:is(.logo[data-v-82c0088f]){display:inline-block;height:15px;opacity:.5}div.logo span[data-v-82c0088f]{display:inline-block;margin-top:1em}nav[data-v-82c0088f]{text-align:right}nav a[data-v-82c0088f]{display:block;margin:5px;text-decoration:none}nav a[data-v-82c0088f]:hover,nav a:hover i[data-v-82c0088f]{color:var(--color-logo-mark)}@media (max-width:818px){footer[data-v-82c0088f]{display:block}footer nav[data-v-82c0088f]{text-align:left}footer nav a[data-v-82c0088f]{margin-left:0}}</style>
<style>.navigation-buttons-container[data-v-6a000fc9]{margin-top:4em;max-width:var(--width-content)}.navigation-buttons-container .button[data-v-6a000fc9]{margin-top:.9em;padding-left:.4em;padding-right:.4em}.navigation-buttons-container .button a[data-v-6a000fc9]{text-decoration:none}.navigation-buttons-container .button a .link-text[data-v-6a000fc9]{color:var(--color-fg-mute);font-size:.75em}.navigation-buttons-container .button a .link-text h3[data-v-6a000fc9]{color:var(--color-fg-soft);font-size:1.5em;margin-top:.1em}.navigation-buttons-container .button a:hover h3[data-v-6a000fc9]{color:var(--color-logo-mark)}.navigation-buttons-container .button.left[data-v-6a000fc9]{float:left;text-align:left}.navigation-buttons-container .button.right[data-v-6a000fc9]{float:right;text-align:end}</style>
<style>h4[data-v-4f8affad]{margin-bottom:.5em;padding-left:1em}h4[data-v-4f8affad],nav[data-v-4f8affad]{font-size:.9em}nav[data-v-4f8affad]{align-self:start;margin-top:2.5em;overflow:hidden;position:sticky;top:1.5em;width:15em;text-wrap:nowrap}nav ul[data-v-4f8affad]{margin:0;padding-left:0}nav ul li[data-v-4f8affad]{line-height:24px;list-style:none;margin:0}nav ul li a[data-v-4f8affad]{border-left:2px solid transparent;color:var(--color-fg-soft);cursor:pointer;display:block;font-size:.9em;margin-top:.25em;overflow:hidden;padding-left:1em;text-decoration:none;text-overflow:ellipsis}nav ul li a[data-v-4f8affad]:hover{color:var(--color-logo-mark)}nav ul li a.active[data-v-4f8affad]{border-left-color:var(--color-bg-mute)}nav ul li a.return-to-top[data-v-4f8affad]{margin-top:.75em}nav ul li ul[data-v-4f8affad]{margin-bottom:.25em}nav ul li ul a[data-v-4f8affad]{padding-left:2em}@media (max-width:1330px){nav[data-v-4f8affad]{background-color:var(--color-bg);font-size:1em;margin:0 0 -3.7em;text-align:right;top:0;width:100%}nav h4 a[data-v-4f8affad]{display:inline-block;padding-left:0;padding-right:0}nav h4 a[data-v-4f8affad]:hover{color:var(--color-logo-mark)}nav>ul[data-v-4f8affad]{background-color:var(--color-bg-box);background-color:var(--color-bg-soft);border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);display:none;margin-bottom:2.5em;padding:var(--border-radius);padding-left:0;text-align:left}nav>ul.active[data-v-4f8affad]{display:block}nav ul li a[data-v-4f8affad]{padding-left:var(--border-radius)}nav ul li a.active[data-v-4f8affad]:before{left:0}nav ul li ul li a[data-v-4f8affad]{padding-left:calc(var(--border-radius) + 1em)}}</style>
<style>a[data-v-f8417185]{font-family:var(--font-default)}i[data-v-f8417185]{margin-left:.3em}</style>
<style>pre code .line{display:block;min-height:1rem}</style>
<style>blockquote[data-v-cab260a3]{align-items:flex-start;border-radius:10px;display:flex;flex-direction:row;justify-content:flex-start;margin:1em 0;max-width:var(--width-content);padding:0}blockquote i[data-v-cab260a3]{line-height:var(--line-height);margin-top:1em;position:absolute}blockquote div[data-v-cab260a3]{padding-left:3ch;width:100%}blockquote.info i[data-v-cab260a3]{color:var(--color-blue)}blockquote.warning i[data-v-cab260a3]{color:var(--color-orange)}blockquote.tip i[data-v-cab260a3]{color:var(--color-green)}blockquote.danger i[data-v-cab260a3]{color:var(--color-red)}blockquote.default i[data-v-cab260a3]{color:var(--color-fg)}@media (min-width:1830px){blockquote i[data-v-cab260a3]{line-height:calc(var(--line-height)*1.1)}}</style>
<link rel="stylesheet" href="/_nuxt/ProsePre.CchFRBtv.css">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.B_MSAwpk.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/default.fhCHN5ma.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Header.BGCY-0vU.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/nuxt-link.BzN6uv54.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/sectionStore.8LXJVVYA.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Side.4UAlWn6t.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/pageStore.BTXBy2oe.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Footer.CX-RKrds.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/query.BVNY6VFl.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/preview.R8UpMTsv.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/applyOrder.of5sZTY8.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/_...content-page_.Ck7ngYOg.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRenderer.LasEztlz.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.vue.Cs2cDn5D.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/index.BsYmvPZw.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BottomNavigation.C2SaquGl.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Toc.BB_oTI75.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentDoc.mEWMJIe9.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/vue.f36acd1f.DnTYEmir.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentQuery.CJehwB6R.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/asyncData.Bhu5RYeQ.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown._cfhZSV2.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH1.mkg7I-aD.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.B44K_oCT.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCodeInline.D5hC-qx-.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.r38xu5wv.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH2.JNmccuwV.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseOl.C64ij0GI.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseLi.C4RU96KR.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProsePre.CG2S7k4K.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.vue.TUpwx2oY.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.Bp191auB.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseBlockquote.BtmWHeXt.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH3.BJsR-03n.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH4.W5HB6_fy.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/error-404.BvHBBueN.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/error-500.ew8oDBXJ.js">
<script type="module" src="/_nuxt/entry.B_MSAwpk.js" crossorigin></script></head><body><div id="__nuxt"><div data-v-5e897649><div class="top" data-v-5e897649 data-v-049e3959><header data-v-049e3959><div class="logo" data-v-049e3959><a href="/" class="" data-v-049e3959><img class="do logo" data-v-049e3959></a></div><a class="bars" data-v-049e3959><i class="fa-solid fa-bars" data-v-049e3959></i></a><nav class="" data-v-049e3959><a class="close" data-v-049e3959><i class="fa-solid fa-close" data-v-049e3959></i></a><!--[--><a href="/blueprints/" class="" data-v-049e3959>Blueprints</a><a href="/features/" class="" data-v-049e3959>Features</a><a href="/layers/" class="" data-v-049e3959>Layers</a><a href="/architecture/" class="active" data-v-049e3959>Architecture</a><a href="/release-notes/" class="" data-v-049e3959>Release Notes</a><!--]--><a href="https://github.com/mouseless/do" rel="noopener noreferrer" target="_blank" data-v-049e3959><i class="fa-brands fa-github" data-v-049e3959></i></a></nav></header></div><div class="content" data-v-5e897649><nav class="side" data-v-5e897649 data-v-9dee0249><h4 data-v-9dee0249><a data-v-9dee0249>Pages</a></h4><ul class="" data-v-9dee0249><li data-v-9dee0249><!--[--><!--]--></li></ul></nav><article data-v-5e897649><!--[--><!--[--><div class="container" data-v-b90ae7fa><div class="content" data-v-b90ae7fa><div class="toc-root" data-v-b90ae7fa><h1 id="layer"><!--[-->Layer<!--]--></h1><p><!--[-->Each <code class=""><!--[-->ILayer<!--]--></code> implementation represents an internal system component of the
software you develop. A layer provides application features with configuration
of this system component so that the features can bind domain objects and
system components together.<!--]--></p><p><!--[-->Let&#39;s take relational database as an example. A relational database is treated
as an internal system component and is introduced by the <code class=""><!--[-->DataAccessLayer<!--]--></code> along
with a configuration API. This API enables a feature to map your domain entities
to database tables.<!--]--></p><p><!--[-->Another good example is the <code class=""><!--[-->HttpServerLayer<!--]--></code>. This layer introduces the ASP.NET
Core framework into your application. It provides three phases, as mentioned in
<a href="/architecture/application" class="" data-v-f8417185><!--[-->Application<!--]--><!----></a>, along with <code class=""><!--[-->IMiddlewareCollection<!--]--></code> and
<code class=""><!--[-->IEndpointRouteBuilder<!--]--></code> objects as its configuration API. This way, any feature
has the ability to use a middleware or add routes to the application.<!--]--></p><h2 id="conventions"><!--[-->Conventions<!--]--></h2><p><!--[-->For a consistent developer experience, follow below conventions when
implementing a new layer;<!--]--></p><ol><!--[--><li><!--[-->Place all layer related classes under the same folder named after layer,
e.g., <code class=""><!--[-->DependencyInjection/<!--]--></code><!--]--></li><li><!--[-->Use <code class=""><!--[-->Layer<!--]--></code> suffix in layer class name, e.g.,
<code class=""><!--[-->DependencyInjection/DependencyInjectionLayer.cs<!--]--></code><!--]--></li><li><!--[-->Provide extension methods in <code class=""><!--[-->Do<!--]--></code> namespace, e.g.,
<code class=""><!--[-->DependencyInjection/DependencyInjectionExtensions.cs<!--]--></code>;
<ol><!--[--><li><!--[--><code class=""><!--[-->Add<!--]--></code> extension to <code class=""><!--[-->List&lt;ILayer&gt;<!--]--></code>, e.g., <code class=""><!--[-->AddDependencyInjection()<!--]--></code><!--]--></li><li><!--[--><code class=""><!--[-->Get<!--]--></code> extensions to <code class=""><!--[-->ApplicationContext<!--]--></code>, e.g.,
<code class=""><!--[-->GetWebApplicationBuilder()<!--]--></code>, <code class=""><!--[-->GetWebApplication()<!--]--></code><!--]--></li><li><!--[--><code class=""><!--[-->Configure<!--]--></code> extensions to <code class=""><!--[-->LayerConfigurator<!--]--></code> per configuration
target(s), e.g., <code class=""><!--[-->ConfigureServiceCollection()<!--]--></code><!--]--></li><!--]--></ol><!--]--></li><li><!--[-->Place phase implementations as nested classes under the layer class<!--]--></li><li><!--[-->Don&#39;t use any suffix for phases and use method-like names, e.g., <code class=""><!--[-->Build<!--]--></code> and
<code class=""><!--[-->Run<!--]--></code><!--]--></li><!--]--></ol><p><!--[-->Please refer to existing layers in <a href="https://github.com/mouseless/do" rel="nofollow" target="_blank" data-v-f8417185><!--[-->github.com/mouseless/do<!--]--><i class="fa-solid fa-arrow-up-right-from-square" data-v-f8417185></i></a> for examples.<!--]--></p><h2 id="creating-a-layer"><!--[-->Creating A Layer<!--]--></h2><p><!--[-->To create a layer, create a class using above conventions and extend
<code class=""><!--[-->LayerBase<!--]--></code>.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">    ...
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="tip" data-v-cab260a3><i class="fa fa-lightbulb" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->You can directly implement provided interface <code class=""><!--[-->ILayer<!--]--></code>, however we&#39;ve created
some base classes to make it easier for you to create layers. All examples
demonstrate usage of these base classes.<!--]--></p><!--]--></div></blockquote><h3 id="id-of-a-layer"><!--[--><code class=""><!--[-->Id<!--]--></code> of a Layer<!--]--></h3><p><!--[--><code class=""><!--[-->ILayer<!--]--></code> has an <code class=""><!--[-->Id<!--]--></code> property which should be a unique per <code class=""><!--[-->Application<!--]--></code>
instance. <code class=""><!--[-->LayerBase<!--]--></code> sets the <code class=""><!--[-->Id<!--]--></code> as name of the concrete class e.g.,
<code class=""><!--[-->LayerX<!--]--></code> at above example.<!--]--></p><p><!--[-->You can override its value in layer implementation class as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> string</span><span style="--shiki-default:#9CDCFE"> Id</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#CE9178"> &quot;CustomUniqueId&quot;
</span></span><span class="line" line="4"><span style="--shiki-default:#D4D4D4">    ..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><h2 id="adding-phases"><!--[-->Adding Phases<!--]--></h2><p><!--[-->By default <code class=""><!--[-->LayerBase<!--]--></code> returns no phases. To add one or more phases into the
application, you need to override <code class=""><!--[-->GetPhases()<!--]--></code> method as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> SampleLayer</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> IEnumerable</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">IPhase</span><span style="--shiki-default:#E6E6E6">&gt; </span><span style="--shiki-default:#DCDCAA">GetPhases</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="5"><span style="--shiki-default:#C586C0">        yield</span><span style="--shiki-default:#C586C0"> return</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#4EC9B0"> DoA</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span style="--shiki-default:#C586C0">        yield</span><span style="--shiki-default:#C586C0"> return</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#4EC9B0"> DoB</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#569CD6">    public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> DoA</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6"> { ... }
</span></span><span class="line" line="10"><span style="--shiki-default:#569CD6">    public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> DoB</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6"> { ... }
</span></span><span class="line" line="11"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->Here <code class=""><!--[-->SampleLayer<!--]--></code> adds two phases, <code class=""><!--[-->DoA<!--]--></code> and <code class=""><!--[-->DoB<!--]--></code>, to the application.<!--]--></p><blockquote class="tip" data-v-cab260a3><i class="fa fa-lightbulb" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->By convention place the phase implementations as a nested class in the layer
it is added.<!--]--></p><!--]--></div></blockquote><h3 id="initializing-a-phase"><!--[-->Initializing a Phase<!--]--></h3><p><!--[--><code class=""><!--[-->PhaseBase<!--]--></code> class has <code class=""><!--[-->Initialize()<!--]--></code> method to override so that it can add an
object to the application context via <code class=""><!--[-->Context<!--]--></code> property. Base <code class=""><!--[-->Initialize()<!--]--></code>
method does not add any objects to the application. Below, you can see how
<code class=""><!--[-->CreateBuilder<!--]--></code> phase adds <code class=""><!--[-->WebApplicationBuilder<!--]--></code> to the context;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> CreateBuilder</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Initialize</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">        var</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#9CDCFE"> WebApplication</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateBuilder</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">build</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="tip" data-v-cab260a3><i class="fa fa-lightbulb" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->You can directly implement provided interface <code class=""><!--[-->IPhase<!--]--></code>, however we&#39;ve created
some base classes to make it easier for you to create phases. All examples
demonstrate usage of these base classes.<!--]--></p><!--]--></div></blockquote><h3 id="readiness-via-dependencies"><!--[-->Readiness via Dependencies<!--]--></h3><p><!--[-->You can define context dependencies via generic <code class=""><!--[-->PhaseBase&lt;&gt;<!--]--></code> classes to make
the phase wait until context is ready to provide that dependency. For example,
<code class=""><!--[-->Build<!--]--></code> depends on the <code class=""><!--[-->WebApplicationBuilder<!--]--></code> instance as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> Build</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">WebApplicationBuilder</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Initialize</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">WebApplicationBuilder</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">        var</span><span style="--shiki-default:#9CDCFE"> app</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Build</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">app</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[--><code class=""><!--[-->PhaseBase&lt;T&gt;<!--]--></code> class requires <code class=""><!--[-->Initialize(T t)<!--]--></code> method to be implemented.<!--]--></p><blockquote class="info" data-v-cab260a3><i class="fa fa-circle-info" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->You can provide more than one dependency for a phase. E.g., <code class=""><!--[-->Phase&lt;X, Y&gt;<!--]--></code>
will require <code class=""><!--[-->Initialize(X x, Y y)<!--]--></code> method to be implemented.<!--]--></p><!--]--></div></blockquote><blockquote class="warning" data-v-cab260a3><i class="fa fa-warning" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->Type of the dependency provided, must be exactly the same as the type of
dependency in <code class=""><!--[-->ApplicationContext<!--]--></code>. For more information
<a href="/architecture/application#running-an-application" class="" data-v-f8417185><!--[-->Running an Application<!--]--><!----></a><!--]--></p><!--]--></div></blockquote><h3 id="order-of-a-phase"><!--[-->Order of a Phase<!--]--></h3><p><!--[--><code class=""><!--[-->PhaseBase<!--]--></code> classes has <code class=""><!--[-->order<!--]--></code> parameter in their constructors. Default order
is <code class=""><!--[-->PhaseOrder.Normal<!--]--></code>. If you need to change the order, pass the desired order
to this parameter as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> DoThisEarlyOn</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">    : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">PhaseOrder</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#4EC9B0">Early</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">{ }
</span></span></code><!--]--></pre><!--]--><h2 id="providing-configuration"><!--[-->Providing Configuration<!--]--></h2><p><!--[-->Layers provide configuration objects phase by phase. This means a layer can
provide two different configuration objects for two different phases. For this
reason, a layer returns <code class=""><!--[-->PhaseContext<!--]--></code> instance per phase to which it provides
configuration.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> LayerXConfiguration</span><span style="--shiki-default:#9CDCFE"> _configuration</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="6"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->In this example, you see a layer named <code class=""><!--[-->LayerX<!--]--></code> providing a
<code class=""><!--[-->LayerXConfiguration<!--]--></code> instance during <code class=""><!--[-->AddServices<!--]--></code> phase.<!--]--></p><blockquote class="info" data-v-cab260a3><i class="fa fa-circle-info" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->By default, a layer returns <code class=""><!--[-->PhaseContext.Empty<!--]--></code> instance for the phases it
does not provide a configuration. This means <code class=""><!--[-->Application<!--]--></code> skips that layer
for the phases it doesn&#39;t have anything to configure.<!--]--></p><!--]--></div></blockquote><h3 id="using-non-generic-layerbase"><!--[-->Using non-generic <code class=""><!--[-->LayerBase<!--]--></code><!--]--></h3><p><!--[--><code class=""><!--[-->LayerBase&lt;&gt;<!--]--></code> classes allow up to three generic arguments. If you need to
implement a layer that has things to configure during more than three phases,
use non-generic <code class=""><!--[-->LayerBase<!--]--></code> class, override <code class=""><!--[-->GetContext(IPhase phase)<!--]--></code> method
and switch given phase according to its type;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> MyLayer</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">IPhase</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#C586C0"> switch
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">        {
</span></span><span class="line" line="6"><span style="--shiki-default:#4EC9B0">            PhaseA</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.),
</span></span><span class="line" line="7"><span style="--shiki-default:#4EC9B0">            PhaseB</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.),
</span></span><span class="line" line="8"><span style="--shiki-default:#569CD6">            _</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#569CD6"> base</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">phase</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">        };
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><h3 id="before-and-after-a-phase"><!--[-->Before and After a Phase<!--]--></h3><p><!--[-->Layers might need to do some standard stuff before and after a phase is applied
to all features for all layers. Use <code class=""><!--[-->GetContext()<!--]--></code> method to do stuff before,
and <code class=""><!--[-->onDispose:<!--]--></code> delegate to do stuff after.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> LayerXConfiguration</span><span style="--shiki-default:#9CDCFE"> _configuration</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="6"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="7"><span style="--shiki-default:#569CD6">        var</span><span style="--shiki-default:#9CDCFE"> services</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#9CDCFE"> Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Get</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">IServiceCollection</span><span style="--shiki-default:#E6E6E6">&gt;();
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#9CDCFE">        services</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddStandardStuffBefore</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration</span><span style="--shiki-default:#E6E6E6">,
</span></span><span class="line" line="12"><span style="--shiki-default:#9CDCFE">            onDispose</span><span style="--shiki-default:#E6E6E6">: () </span><span style="--shiki-default:#D4D4D4">=&gt;</span><span style="--shiki-default:#9CDCFE"> services</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddStandardStuffAfter</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">        );
</span></span><span class="line" line="14"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="15"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="info" data-v-cab260a3><i class="fa fa-circle-info" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->Notice that a layer has access to the <code class=""><!--[-->ApplicationContext<!--]--></code> instance through
<code class=""><!--[-->Context<!--]--></code> property provided in <code class=""><!--[-->LayerBase<!--]--></code> base class.<!--]--></p><!--]--></div></blockquote><blockquote class="warning" data-v-cab260a3><i class="fa fa-warning" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[--><code class=""><!--[-->GetContext()<!--]--></code> method is called for every layer before applying any of them
to features. And <code class=""><!--[-->onDispose:<!--]--></code> actions are called after applying these
contexts to all features.<!--]--></p><!--]--></div></blockquote><h3 id="providing-multiple-targets"><!--[-->Providing Multiple Targets<!--]--></h3><p><!--[-->It is possible to provide up to three configuration objects for the same phase.
There are two ways of providing multiple targets; at once or one by one.<!--]--></p><h4 id="at-once"><!--[-->At Once<!--]--></h4><p><!--[-->Below code demonstrates providing two configuration objects at once;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration1</span><span style="--shiki-default:#9CDCFE"> _configuration1</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration2</span><span style="--shiki-default:#9CDCFE"> _configuration2</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration1</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#9CDCFE">_configuration2</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->This phase context will require an action with two parameter in a feature;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="2"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Configure</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">LayerConfigurator</span><span style="--shiki-default:#9CDCFE"> configurator</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">    configurator</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Configure</span><span style="--shiki-default:#E6E6E6">((</span><span style="--shiki-default:#4EC9B0">Configuration1</span><span style="--shiki-default:#9CDCFE"> configuration1</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#4EC9B0">Configuration2</span><span style="--shiki-default:#9CDCFE"> configuration2</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="6"><span style="--shiki-default:#6A9955">        // use both objects to configure
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">    });
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">}
</span></span><span class="line" line="9"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span></code><!--]--></pre><!--]--><p><!--[-->See <a href="/architecture/feature" class="" data-v-f8417185><!--[-->Feature<!--]--><!----></a> for more information on using layer configurators
for features.<!--]--></p><h4 id="one-by-one"><!--[-->One by One<!--]--></h4><p><!--[-->Below code demonstrates providing configuration objects one by one;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration1</span><span style="--shiki-default:#9CDCFE"> _configuration1</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration2</span><span style="--shiki-default:#9CDCFE"> _configuration2</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContextBuilder</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration1</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration2</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Build</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="11"><span style="--shiki-default:#E6E6E6">        ;
</span></span><span class="line" line="12"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->This phase context will require two different actions in a feature;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="2"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Configure</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">LayerConfigurator</span><span style="--shiki-default:#9CDCFE"> configurator</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">    configurator</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Configure</span><span style="--shiki-default:#E6E6E6">((</span><span style="--shiki-default:#4EC9B0">Configuration1</span><span style="--shiki-default:#9CDCFE"> configuration1</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="6"><span style="--shiki-default:#6A9955">        // configure one by one
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">    });
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#9CDCFE">    configurator</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Configure</span><span style="--shiki-default:#E6E6E6">((</span><span style="--shiki-default:#4EC9B0">Configuration2</span><span style="--shiki-default:#9CDCFE"> configuration2</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="11"><span style="--shiki-default:#6A9955">        // configure one by one
</span></span><span class="line" line="12"><span style="--shiki-default:#E6E6E6">    });
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">}
</span></span><span class="line" line="14"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span></code><!--]--></pre><!--]--><blockquote class="tip" data-v-cab260a3><i class="fa fa-lightbulb" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[--><code class=""><!--[-->phase.CreateContext()<!--]--></code> is a helper method that utilizes
<code class=""><!--[-->phase.CreateContextBuilder()<!--]--></code> behind the scenes.<!--]--></p><!--]--></div></blockquote><h4 id="using-in-combination"><!--[-->Using in Combination<!--]--></h4><p><!--[-->You may combine these two ways to provide configuration;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration1</span><span style="--shiki-default:#9CDCFE"> _configuration1</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration2</span><span style="--shiki-default:#9CDCFE"> _configuration2</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration3</span><span style="--shiki-default:#9CDCFE"> _configuration3</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="8"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContextBuilder</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration1</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#9CDCFE">_configuration2</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration3</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="11"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Build</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="12"><span style="--shiki-default:#E6E6E6">        ;
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->This phase context will require two different actions;<!--]--></p><ol><!--[--><li><!--[-->For the first two configuration objects: <code class=""><!--[-->(Configuration1 configuration1, Configuration2 configuration2)<!--]--></code><!--]--></li><li><!--[-->For the last configuration object: <code class=""><!--[-->(Configuration3 configuration3)<!--]--></code>.<!--]--></li><!--]--></ol><style>html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></div><div class="navigation-buttons-container" data-v-b90ae7fa data-v-6a000fc9><div class="button left" data-v-6a000fc9><a href="/architecture/application" class="" data-v-6a000fc9><div class="link-text" data-v-6a000fc9><i class="fa-solid fa-caret-left" data-v-6a000fc9></i> Previous <h3 data-v-6a000fc9>Application</h3></div></a></div><div class="button right" data-v-6a000fc9><a href="/architecture/feature" class="" data-v-6a000fc9><div class="link-text" data-v-6a000fc9> Next <i class="fa-solid fa-caret-right" data-v-6a000fc9></i><h3 data-v-6a000fc9>Feature</h3></div></a></div></div></div><nav data-v-b90ae7fa data-v-4f8affad><h4 data-v-4f8affad><a data-v-4f8affad>On This Page</a></h4><ul class="" data-v-4f8affad><!--[--><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#conventions" class="router-link-active router-link-exact-active" data-v-4f8affad>Conventions</a><ul data-v-4f8affad><!--[--><!--]--></ul></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#creating-a-layer" class="router-link-active router-link-exact-active" data-v-4f8affad>Creating A Layer</a><ul data-v-4f8affad><!--[--><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#id-of-a-layer" class="router-link-active router-link-exact-active" data-v-4f8affad>Id of a Layer</a></li><!--]--></ul></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#adding-phases" class="router-link-active router-link-exact-active" data-v-4f8affad>Adding Phases</a><ul data-v-4f8affad><!--[--><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#initializing-a-phase" class="router-link-active router-link-exact-active" data-v-4f8affad>Initializing a Phase</a></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#readiness-via-dependencies" class="router-link-active router-link-exact-active" data-v-4f8affad>Readiness via Dependencies</a></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#order-of-a-phase" class="router-link-active router-link-exact-active" data-v-4f8affad>Order of a Phase</a></li><!--]--></ul></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#providing-configuration" class="router-link-active router-link-exact-active" data-v-4f8affad>Providing Configuration</a><ul data-v-4f8affad><!--[--><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#using-non-generic-layerbase" class="router-link-active router-link-exact-active" data-v-4f8affad>Using non-generic LayerBase</a></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#before-and-after-a-phase" class="router-link-active router-link-exact-active" data-v-4f8affad>Before and After a Phase</a></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#providing-multiple-targets" class="router-link-active router-link-exact-active" data-v-4f8affad>Providing Multiple Targets</a></li><!--]--></ul></li><!--]--><li data-v-4f8affad><a class="return-to-top" href="#" data-v-4f8affad>Return to top</a></li></ul></nav></div><!--]--><!--]--></article></div><div class="bottom" data-v-5e897649 data-v-82c0088f><footer data-v-82c0088f><div class="logo" data-v-82c0088f><a href="/" class="" data-v-82c0088f><img class="do logo mono" data-v-82c0088f></a><span data-v-82c0088f>Copyright (c) 2024 Mouseless - MIT License</span></div><nav data-v-82c0088f><!--[--><a href="/blueprints/" class="" data-v-82c0088f>Blueprints</a><a href="/features/" class="" data-v-82c0088f>Features</a><a href="/layers/" class="" data-v-82c0088f>Layers</a><a href="/architecture/" class="" data-v-82c0088f>Architecture</a><a href="/release-notes/" class="" data-v-82c0088f>Release Notes</a><!--]--><a href="https://github.com/mouseless/do" rel="noopener noreferrer" target="_blank" data-v-82c0088f><i class="fa-brands fa-github" data-v-82c0088f></i> /mouseless/do</a></nav></footer></div></div></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true">[["Reactive",1],{"data":2,"state":3558,"once":3559,"_errors":3560,"serverRendered":729,"path":4,"prerenderedAt":3562,"pinia":3563},{"content-query-hBLt6OxXWy":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"body":10,"_type":3553,"_id":3554,"_source":3555,"_file":3556,"_extension":3557},"/architecture/layer","architecture",false,"","Layer","Each ILayer implementation represents an internal system component of the\nsoftware you develop. A layer provides application features with configuration\nof this system component so that the features can bind domain objects and\nsystem components together.",{"type":11,"children":12,"toc":3535},"root",[13,21,36,49,87,94,99,262,277,283,296,367,388,401,447,452,546,552,572,800,829,841,847,896,1054,1072,1078,1105,1280,1299,1327,1353,1359,1385,1454,1460,1473,1641,1668,1695,1706,1732,1957,1963,1984,2276,2309,2333,2339,2344,2351,2356,2553,2558,2711,2724,2730,2735,2981,2986,3180,3206,3212,3217,3498,3503,3529],{"type":14,"tag":15,"props":16,"children":18},"element","h1",{"id":17},"layer",[19],{"type":20,"value":8},"text",{"type":14,"tag":22,"props":23,"children":24},"p",{},[25,27,34],{"type":20,"value":26},"Each ",{"type":14,"tag":28,"props":29,"children":31},"code",{"className":30},[],[32],{"type":20,"value":33},"ILayer",{"type":20,"value":35}," implementation represents an internal system component of the\nsoftware you develop. A layer provides application features with configuration\nof this system component so that the features can bind domain objects and\nsystem components together.",{"type":14,"tag":22,"props":37,"children":38},{},[39,41,47],{"type":20,"value":40},"Let's take relational database as an example. A relational database is treated\nas an internal system component and is introduced by the ",{"type":14,"tag":28,"props":42,"children":44},{"className":43},[],[45],{"type":20,"value":46},"DataAccessLayer",{"type":20,"value":48}," along\nwith a configuration API. This API enables a feature to map your domain entities\nto database tables.",{"type":14,"tag":22,"props":50,"children":51},{},[52,54,60,62,69,71,77,79,85],{"type":20,"value":53},"Another good example is the ",{"type":14,"tag":28,"props":55,"children":57},{"className":56},[],[58],{"type":20,"value":59},"HttpServerLayer",{"type":20,"value":61},". This layer introduces the ASP.NET\nCore framework into your application. It provides three phases, as mentioned in\n",{"type":14,"tag":63,"props":64,"children":66},"a",{"href":65},"./application",[67],{"type":20,"value":68},"Application",{"type":20,"value":70},", along with ",{"type":14,"tag":28,"props":72,"children":74},{"className":73},[],[75],{"type":20,"value":76},"IMiddlewareCollection",{"type":20,"value":78}," and\n",{"type":14,"tag":28,"props":80,"children":82},{"className":81},[],[83],{"type":20,"value":84},"IEndpointRouteBuilder",{"type":20,"value":86}," objects as its configuration API. This way, any feature\nhas the ability to use a middleware or add routes to the application.",{"type":14,"tag":88,"props":89,"children":91},"h2",{"id":90},"conventions",[92],{"type":20,"value":93},"Conventions",{"type":14,"tag":22,"props":95,"children":96},{},[97],{"type":20,"value":98},"For a consistent developer experience, follow below conventions when\nimplementing a new layer;",{"type":14,"tag":100,"props":101,"children":102},"ol",{},[103,115,133,239,244],{"type":14,"tag":104,"props":105,"children":106},"li",{},[107,109],{"type":20,"value":108},"Place all layer related classes under the same folder named after layer,\ne.g., ",{"type":14,"tag":28,"props":110,"children":112},{"className":111},[],[113],{"type":20,"value":114},"DependencyInjection/",{"type":14,"tag":104,"props":116,"children":117},{},[118,120,125,127],{"type":20,"value":119},"Use ",{"type":14,"tag":28,"props":121,"children":123},{"className":122},[],[124],{"type":20,"value":8},{"type":20,"value":126}," suffix in layer class name, e.g.,\n",{"type":14,"tag":28,"props":128,"children":130},{"className":129},[],[131],{"type":20,"value":132},"DependencyInjection/DependencyInjectionLayer.cs",{"type":14,"tag":104,"props":134,"children":135},{},[136,138,144,146,152,154],{"type":20,"value":137},"Provide extension methods in ",{"type":14,"tag":28,"props":139,"children":141},{"className":140},[],[142],{"type":20,"value":143},"Do",{"type":20,"value":145}," namespace, e.g.,\n",{"type":14,"tag":28,"props":147,"children":149},{"className":148},[],[150],{"type":20,"value":151},"DependencyInjection/DependencyInjectionExtensions.cs",{"type":20,"value":153},";\n",{"type":14,"tag":100,"props":155,"children":156},{},[157,182,215],{"type":14,"tag":104,"props":158,"children":159},{},[160,166,168,174,176],{"type":14,"tag":28,"props":161,"children":163},{"className":162},[],[164],{"type":20,"value":165},"Add",{"type":20,"value":167}," extension to ",{"type":14,"tag":28,"props":169,"children":171},{"className":170},[],[172],{"type":20,"value":173},"List\u003CILayer>",{"type":20,"value":175},", e.g., ",{"type":14,"tag":28,"props":177,"children":179},{"className":178},[],[180],{"type":20,"value":181},"AddDependencyInjection()",{"type":14,"tag":104,"props":183,"children":184},{},[185,191,193,199,201,207,209],{"type":14,"tag":28,"props":186,"children":188},{"className":187},[],[189],{"type":20,"value":190},"Get",{"type":20,"value":192}," extensions to ",{"type":14,"tag":28,"props":194,"children":196},{"className":195},[],[197],{"type":20,"value":198},"ApplicationContext",{"type":20,"value":200},", e.g.,\n",{"type":14,"tag":28,"props":202,"children":204},{"className":203},[],[205],{"type":20,"value":206},"GetWebApplicationBuilder()",{"type":20,"value":208},", ",{"type":14,"tag":28,"props":210,"children":212},{"className":211},[],[213],{"type":20,"value":214},"GetWebApplication()",{"type":14,"tag":104,"props":216,"children":217},{},[218,224,225,231,233],{"type":14,"tag":28,"props":219,"children":221},{"className":220},[],[222],{"type":20,"value":223},"Configure",{"type":20,"value":192},{"type":14,"tag":28,"props":226,"children":228},{"className":227},[],[229],{"type":20,"value":230},"LayerConfigurator",{"type":20,"value":232}," per configuration\ntarget(s), e.g., ",{"type":14,"tag":28,"props":234,"children":236},{"className":235},[],[237],{"type":20,"value":238},"ConfigureServiceCollection()",{"type":14,"tag":104,"props":240,"children":241},{},[242],{"type":20,"value":243},"Place phase implementations as nested classes under the layer class",{"type":14,"tag":104,"props":245,"children":246},{},[247,249,255,256],{"type":20,"value":248},"Don't use any suffix for phases and use method-like names, e.g., ",{"type":14,"tag":28,"props":250,"children":252},{"className":251},[],[253],{"type":20,"value":254},"Build",{"type":20,"value":78},{"type":14,"tag":28,"props":257,"children":259},{"className":258},[],[260],{"type":20,"value":261},"Run",{"type":14,"tag":22,"props":263,"children":264},{},[265,267,275],{"type":20,"value":266},"Please refer to existing layers in ",{"type":14,"tag":63,"props":268,"children":272},{"href":269,"rel":270},"https://github.com/mouseless/do",[271],"nofollow",[273],{"type":20,"value":274},"github.com/mouseless/do",{"type":20,"value":276}," for examples.",{"type":14,"tag":88,"props":278,"children":280},{"id":279},"creating-a-layer",[281],{"type":20,"value":282},"Creating A Layer",{"type":14,"tag":22,"props":284,"children":285},{},[286,288,294],{"type":20,"value":287},"To create a layer, create a class using above conventions and extend\n",{"type":14,"tag":28,"props":289,"children":291},{"className":290},[],[292],{"type":20,"value":293},"LayerBase",{"type":20,"value":295},".",{"type":14,"tag":297,"props":298,"children":302},"pre",{"className":299,"code":300,"language":301,"meta":7,"style":7},"language-csharp shiki shiki-themes slack-dark","public class LayerX : LayerBase\n{\n    ...\n}\n","csharp",[303],{"type":14,"tag":28,"props":304,"children":305},{"__ignoreMap":7},[306,340,349,358],{"type":14,"tag":307,"props":308,"children":311},"span",{"class":309,"line":310},"line",1,[312,318,323,329,335],{"type":14,"tag":307,"props":313,"children":315},{"style":314},"--shiki-default:#569CD6",[316],{"type":20,"value":317},"public",{"type":14,"tag":307,"props":319,"children":320},{"style":314},[321],{"type":20,"value":322}," class",{"type":14,"tag":307,"props":324,"children":326},{"style":325},"--shiki-default:#4EC9B0",[327],{"type":20,"value":328}," LayerX",{"type":14,"tag":307,"props":330,"children":332},{"style":331},"--shiki-default:#E6E6E6",[333],{"type":20,"value":334}," : ",{"type":14,"tag":307,"props":336,"children":337},{"style":325},[338],{"type":20,"value":339},"LayerBase\n",{"type":14,"tag":307,"props":341,"children":343},{"class":309,"line":342},2,[344],{"type":14,"tag":307,"props":345,"children":346},{"style":331},[347],{"type":20,"value":348},"{\n",{"type":14,"tag":307,"props":350,"children":352},{"class":309,"line":351},3,[353],{"type":14,"tag":307,"props":354,"children":355},{"style":331},[356],{"type":20,"value":357},"    ...\n",{"type":14,"tag":307,"props":359,"children":361},{"class":309,"line":360},4,[362],{"type":14,"tag":307,"props":363,"children":364},{"style":331},[365],{"type":20,"value":366},"}\n",{"type":14,"tag":368,"props":369,"children":370},"blockquote",{},[371,376],{"type":14,"tag":22,"props":372,"children":373},{},[374],{"type":20,"value":375},":bulb:",{"type":14,"tag":22,"props":377,"children":378},{},[379,381,386],{"type":20,"value":380},"You can directly implement provided interface ",{"type":14,"tag":28,"props":382,"children":384},{"className":383},[],[385],{"type":20,"value":33},{"type":20,"value":387},", however we've created\nsome base classes to make it easier for you to create layers. All examples\ndemonstrate usage of these base classes.",{"type":14,"tag":389,"props":390,"children":392},"h3",{"id":391},"id-of-a-layer",[393,399],{"type":14,"tag":28,"props":394,"children":396},{"className":395},[],[397],{"type":20,"value":398},"Id",{"type":20,"value":400}," of a Layer",{"type":14,"tag":22,"props":402,"children":403},{},[404,409,411,416,418,423,425,430,432,437,439,445],{"type":14,"tag":28,"props":405,"children":407},{"className":406},[],[408],{"type":20,"value":33},{"type":20,"value":410}," has an ",{"type":14,"tag":28,"props":412,"children":414},{"className":413},[],[415],{"type":20,"value":398},{"type":20,"value":417}," property which should be a unique per ",{"type":14,"tag":28,"props":419,"children":421},{"className":420},[],[422],{"type":20,"value":68},{"type":20,"value":424},"\ninstance. ",{"type":14,"tag":28,"props":426,"children":428},{"className":427},[],[429],{"type":20,"value":293},{"type":20,"value":431}," sets the ",{"type":14,"tag":28,"props":433,"children":435},{"className":434},[],[436],{"type":20,"value":398},{"type":20,"value":438}," as name of the concrete class e.g.,\n",{"type":14,"tag":28,"props":440,"children":442},{"className":441},[],[443],{"type":20,"value":444},"LayerX",{"type":20,"value":446}," at above example.",{"type":14,"tag":22,"props":448,"children":449},{},[450],{"type":20,"value":451},"You can override its value in layer implementation class as shown below;",{"type":14,"tag":297,"props":453,"children":455},{"className":299,"code":454,"language":301,"meta":7,"style":7},"public class LayerX : LayerBase\n{\n    protected override string Id => \"CustomUniqueId\"\n    ...\n}\n",[456],{"type":14,"tag":28,"props":457,"children":458},{"__ignoreMap":7},[459,482,489,525,538],{"type":14,"tag":307,"props":460,"children":461},{"class":309,"line":310},[462,466,470,474,478],{"type":14,"tag":307,"props":463,"children":464},{"style":314},[465],{"type":20,"value":317},{"type":14,"tag":307,"props":467,"children":468},{"style":314},[469],{"type":20,"value":322},{"type":14,"tag":307,"props":471,"children":472},{"style":325},[473],{"type":20,"value":328},{"type":14,"tag":307,"props":475,"children":476},{"style":331},[477],{"type":20,"value":334},{"type":14,"tag":307,"props":479,"children":480},{"style":325},[481],{"type":20,"value":339},{"type":14,"tag":307,"props":483,"children":484},{"class":309,"line":342},[485],{"type":14,"tag":307,"props":486,"children":487},{"style":331},[488],{"type":20,"value":348},{"type":14,"tag":307,"props":490,"children":491},{"class":309,"line":351},[492,497,502,507,513,519],{"type":14,"tag":307,"props":493,"children":494},{"style":314},[495],{"type":20,"value":496},"    protected",{"type":14,"tag":307,"props":498,"children":499},{"style":314},[500],{"type":20,"value":501}," override",{"type":14,"tag":307,"props":503,"children":504},{"style":314},[505],{"type":20,"value":506}," string",{"type":14,"tag":307,"props":508,"children":510},{"style":509},"--shiki-default:#9CDCFE",[511],{"type":20,"value":512}," Id",{"type":14,"tag":307,"props":514,"children":516},{"style":515},"--shiki-default:#D4D4D4",[517],{"type":20,"value":518}," =>",{"type":14,"tag":307,"props":520,"children":522},{"style":521},"--shiki-default:#CE9178",[523],{"type":20,"value":524}," \"CustomUniqueId\"\n",{"type":14,"tag":307,"props":526,"children":527},{"class":309,"line":360},[528,533],{"type":14,"tag":307,"props":529,"children":530},{"style":515},[531],{"type":20,"value":532},"    ..",{"type":14,"tag":307,"props":534,"children":535},{"style":331},[536],{"type":20,"value":537},".\n",{"type":14,"tag":307,"props":539,"children":541},{"class":309,"line":540},5,[542],{"type":14,"tag":307,"props":543,"children":544},{"style":331},[545],{"type":20,"value":366},{"type":14,"tag":88,"props":547,"children":549},{"id":548},"adding-phases",[550],{"type":20,"value":551},"Adding Phases",{"type":14,"tag":22,"props":553,"children":554},{},[555,557,562,564,570],{"type":20,"value":556},"By default ",{"type":14,"tag":28,"props":558,"children":560},{"className":559},[],[561],{"type":20,"value":293},{"type":20,"value":563}," returns no phases. To add one or more phases into the\napplication, you need to override ",{"type":14,"tag":28,"props":565,"children":567},{"className":566},[],[568],{"type":20,"value":569},"GetPhases()",{"type":20,"value":571}," method as shown below;",{"type":14,"tag":297,"props":573,"children":575},{"className":299,"code":574,"language":301,"meta":7,"style":7},"public class SampleLayer : LayerBase\n{\n    protected override IEnumerable\u003CIPhase> GetPhases()\n    {\n        yield return new DoA();\n        yield return new DoB();\n    }\n\n    public class DoA : PhaseBase { ... }\n    public class DoB : PhaseBase { ... }\n}\n",[576],{"type":14,"tag":28,"props":577,"children":578},{"__ignoreMap":7},[579,603,610,652,660,689,714,723,733,764,792],{"type":14,"tag":307,"props":580,"children":581},{"class":309,"line":310},[582,586,590,595,599],{"type":14,"tag":307,"props":583,"children":584},{"style":314},[585],{"type":20,"value":317},{"type":14,"tag":307,"props":587,"children":588},{"style":314},[589],{"type":20,"value":322},{"type":14,"tag":307,"props":591,"children":592},{"style":325},[593],{"type":20,"value":594}," SampleLayer",{"type":14,"tag":307,"props":596,"children":597},{"style":331},[598],{"type":20,"value":334},{"type":14,"tag":307,"props":600,"children":601},{"style":325},[602],{"type":20,"value":339},{"type":14,"tag":307,"props":604,"children":605},{"class":309,"line":342},[606],{"type":14,"tag":307,"props":607,"children":608},{"style":331},[609],{"type":20,"value":348},{"type":14,"tag":307,"props":611,"children":612},{"class":309,"line":351},[613,617,621,626,631,636,641,647],{"type":14,"tag":307,"props":614,"children":615},{"style":314},[616],{"type":20,"value":496},{"type":14,"tag":307,"props":618,"children":619},{"style":314},[620],{"type":20,"value":501},{"type":14,"tag":307,"props":622,"children":623},{"style":325},[624],{"type":20,"value":625}," IEnumerable",{"type":14,"tag":307,"props":627,"children":628},{"style":331},[629],{"type":20,"value":630},"\u003C",{"type":14,"tag":307,"props":632,"children":633},{"style":325},[634],{"type":20,"value":635},"IPhase",{"type":14,"tag":307,"props":637,"children":638},{"style":331},[639],{"type":20,"value":640},"> ",{"type":14,"tag":307,"props":642,"children":644},{"style":643},"--shiki-default:#DCDCAA",[645],{"type":20,"value":646},"GetPhases",{"type":14,"tag":307,"props":648,"children":649},{"style":331},[650],{"type":20,"value":651},"()\n",{"type":14,"tag":307,"props":653,"children":654},{"class":309,"line":360},[655],{"type":14,"tag":307,"props":656,"children":657},{"style":331},[658],{"type":20,"value":659},"    {\n",{"type":14,"tag":307,"props":661,"children":662},{"class":309,"line":540},[663,669,674,679,684],{"type":14,"tag":307,"props":664,"children":666},{"style":665},"--shiki-default:#C586C0",[667],{"type":20,"value":668},"        yield",{"type":14,"tag":307,"props":670,"children":671},{"style":665},[672],{"type":20,"value":673}," return",{"type":14,"tag":307,"props":675,"children":676},{"style":314},[677],{"type":20,"value":678}," new",{"type":14,"tag":307,"props":680,"children":681},{"style":325},[682],{"type":20,"value":683}," DoA",{"type":14,"tag":307,"props":685,"children":686},{"style":331},[687],{"type":20,"value":688},"();\n",{"type":14,"tag":307,"props":690,"children":692},{"class":309,"line":691},6,[693,697,701,705,710],{"type":14,"tag":307,"props":694,"children":695},{"style":665},[696],{"type":20,"value":668},{"type":14,"tag":307,"props":698,"children":699},{"style":665},[700],{"type":20,"value":673},{"type":14,"tag":307,"props":702,"children":703},{"style":314},[704],{"type":20,"value":678},{"type":14,"tag":307,"props":706,"children":707},{"style":325},[708],{"type":20,"value":709}," DoB",{"type":14,"tag":307,"props":711,"children":712},{"style":331},[713],{"type":20,"value":688},{"type":14,"tag":307,"props":715,"children":717},{"class":309,"line":716},7,[718],{"type":14,"tag":307,"props":719,"children":720},{"style":331},[721],{"type":20,"value":722},"    }\n",{"type":14,"tag":307,"props":724,"children":726},{"class":309,"line":725},8,[727],{"type":14,"tag":307,"props":728,"children":730},{"emptyLinePlaceholder":729},true,[731],{"type":20,"value":732},"\n",{"type":14,"tag":307,"props":734,"children":736},{"class":309,"line":735},9,[737,742,746,750,754,759],{"type":14,"tag":307,"props":738,"children":739},{"style":314},[740],{"type":20,"value":741},"    public",{"type":14,"tag":307,"props":743,"children":744},{"style":314},[745],{"type":20,"value":322},{"type":14,"tag":307,"props":747,"children":748},{"style":325},[749],{"type":20,"value":683},{"type":14,"tag":307,"props":751,"children":752},{"style":331},[753],{"type":20,"value":334},{"type":14,"tag":307,"props":755,"children":756},{"style":325},[757],{"type":20,"value":758},"PhaseBase",{"type":14,"tag":307,"props":760,"children":761},{"style":331},[762],{"type":20,"value":763}," { ... }\n",{"type":14,"tag":307,"props":765,"children":767},{"class":309,"line":766},10,[768,772,776,780,784,788],{"type":14,"tag":307,"props":769,"children":770},{"style":314},[771],{"type":20,"value":741},{"type":14,"tag":307,"props":773,"children":774},{"style":314},[775],{"type":20,"value":322},{"type":14,"tag":307,"props":777,"children":778},{"style":325},[779],{"type":20,"value":709},{"type":14,"tag":307,"props":781,"children":782},{"style":331},[783],{"type":20,"value":334},{"type":14,"tag":307,"props":785,"children":786},{"style":325},[787],{"type":20,"value":758},{"type":14,"tag":307,"props":789,"children":790},{"style":331},[791],{"type":20,"value":763},{"type":14,"tag":307,"props":793,"children":795},{"class":309,"line":794},11,[796],{"type":14,"tag":307,"props":797,"children":798},{"style":331},[799],{"type":20,"value":366},{"type":14,"tag":22,"props":801,"children":802},{},[803,805,811,813,819,821,827],{"type":20,"value":804},"Here ",{"type":14,"tag":28,"props":806,"children":808},{"className":807},[],[809],{"type":20,"value":810},"SampleLayer",{"type":20,"value":812}," adds two phases, ",{"type":14,"tag":28,"props":814,"children":816},{"className":815},[],[817],{"type":20,"value":818},"DoA",{"type":20,"value":820}," and ",{"type":14,"tag":28,"props":822,"children":824},{"className":823},[],[825],{"type":20,"value":826},"DoB",{"type":20,"value":828},", to the application.",{"type":14,"tag":368,"props":830,"children":831},{},[832,836],{"type":14,"tag":22,"props":833,"children":834},{},[835],{"type":20,"value":375},{"type":14,"tag":22,"props":837,"children":838},{},[839],{"type":20,"value":840},"By convention place the phase implementations as a nested class in the layer\nit is added.",{"type":14,"tag":389,"props":842,"children":844},{"id":843},"initializing-a-phase",[845],{"type":20,"value":846},"Initializing a Phase",{"type":14,"tag":22,"props":848,"children":849},{},[850,855,857,863,865,871,873,878,880,886,888,894],{"type":14,"tag":28,"props":851,"children":853},{"className":852},[],[854],{"type":20,"value":758},{"type":20,"value":856}," class has ",{"type":14,"tag":28,"props":858,"children":860},{"className":859},[],[861],{"type":20,"value":862},"Initialize()",{"type":20,"value":864}," method to override so that it can add an\nobject to the application context via ",{"type":14,"tag":28,"props":866,"children":868},{"className":867},[],[869],{"type":20,"value":870},"Context",{"type":20,"value":872}," property. Base ",{"type":14,"tag":28,"props":874,"children":876},{"className":875},[],[877],{"type":20,"value":862},{"type":20,"value":879},"\nmethod does not add any objects to the application. Below, you can see how\n",{"type":14,"tag":28,"props":881,"children":883},{"className":882},[],[884],{"type":20,"value":885},"CreateBuilder",{"type":20,"value":887}," phase adds ",{"type":14,"tag":28,"props":889,"children":891},{"className":890},[],[892],{"type":20,"value":893},"WebApplicationBuilder",{"type":20,"value":895}," to the context;",{"type":14,"tag":297,"props":897,"children":899},{"className":299,"code":898,"language":301,"meta":7,"style":7},"public class CreateBuilder : PhaseBase\n{\n    protected override void Initialize()\n    {\n        var build = WebApplication.CreateBuilder();\n\n        Context.Add(build);\n    }\n}\n",[900],{"type":14,"tag":28,"props":901,"children":902},{"__ignoreMap":7},[903,928,935,960,967,1002,1009,1040,1047],{"type":14,"tag":307,"props":904,"children":905},{"class":309,"line":310},[906,910,914,919,923],{"type":14,"tag":307,"props":907,"children":908},{"style":314},[909],{"type":20,"value":317},{"type":14,"tag":307,"props":911,"children":912},{"style":314},[913],{"type":20,"value":322},{"type":14,"tag":307,"props":915,"children":916},{"style":325},[917],{"type":20,"value":918}," CreateBuilder",{"type":14,"tag":307,"props":920,"children":921},{"style":331},[922],{"type":20,"value":334},{"type":14,"tag":307,"props":924,"children":925},{"style":325},[926],{"type":20,"value":927},"PhaseBase\n",{"type":14,"tag":307,"props":929,"children":930},{"class":309,"line":342},[931],{"type":14,"tag":307,"props":932,"children":933},{"style":331},[934],{"type":20,"value":348},{"type":14,"tag":307,"props":936,"children":937},{"class":309,"line":351},[938,942,946,951,956],{"type":14,"tag":307,"props":939,"children":940},{"style":314},[941],{"type":20,"value":496},{"type":14,"tag":307,"props":943,"children":944},{"style":314},[945],{"type":20,"value":501},{"type":14,"tag":307,"props":947,"children":948},{"style":314},[949],{"type":20,"value":950}," void",{"type":14,"tag":307,"props":952,"children":953},{"style":643},[954],{"type":20,"value":955}," Initialize",{"type":14,"tag":307,"props":957,"children":958},{"style":331},[959],{"type":20,"value":651},{"type":14,"tag":307,"props":961,"children":962},{"class":309,"line":360},[963],{"type":14,"tag":307,"props":964,"children":965},{"style":331},[966],{"type":20,"value":659},{"type":14,"tag":307,"props":968,"children":969},{"class":309,"line":540},[970,975,980,985,990,994,998],{"type":14,"tag":307,"props":971,"children":972},{"style":314},[973],{"type":20,"value":974},"        var",{"type":14,"tag":307,"props":976,"children":977},{"style":509},[978],{"type":20,"value":979}," build",{"type":14,"tag":307,"props":981,"children":982},{"style":515},[983],{"type":20,"value":984}," =",{"type":14,"tag":307,"props":986,"children":987},{"style":509},[988],{"type":20,"value":989}," WebApplication",{"type":14,"tag":307,"props":991,"children":992},{"style":331},[993],{"type":20,"value":295},{"type":14,"tag":307,"props":995,"children":996},{"style":643},[997],{"type":20,"value":885},{"type":14,"tag":307,"props":999,"children":1000},{"style":331},[1001],{"type":20,"value":688},{"type":14,"tag":307,"props":1003,"children":1004},{"class":309,"line":691},[1005],{"type":14,"tag":307,"props":1006,"children":1007},{"emptyLinePlaceholder":729},[1008],{"type":20,"value":732},{"type":14,"tag":307,"props":1010,"children":1011},{"class":309,"line":716},[1012,1017,1021,1025,1030,1035],{"type":14,"tag":307,"props":1013,"children":1014},{"style":509},[1015],{"type":20,"value":1016},"        Context",{"type":14,"tag":307,"props":1018,"children":1019},{"style":331},[1020],{"type":20,"value":295},{"type":14,"tag":307,"props":1022,"children":1023},{"style":643},[1024],{"type":20,"value":165},{"type":14,"tag":307,"props":1026,"children":1027},{"style":331},[1028],{"type":20,"value":1029},"(",{"type":14,"tag":307,"props":1031,"children":1032},{"style":509},[1033],{"type":20,"value":1034},"build",{"type":14,"tag":307,"props":1036,"children":1037},{"style":331},[1038],{"type":20,"value":1039},");\n",{"type":14,"tag":307,"props":1041,"children":1042},{"class":309,"line":725},[1043],{"type":14,"tag":307,"props":1044,"children":1045},{"style":331},[1046],{"type":20,"value":722},{"type":14,"tag":307,"props":1048,"children":1049},{"class":309,"line":735},[1050],{"type":14,"tag":307,"props":1051,"children":1052},{"style":331},[1053],{"type":20,"value":366},{"type":14,"tag":368,"props":1055,"children":1056},{},[1057,1061],{"type":14,"tag":22,"props":1058,"children":1059},{},[1060],{"type":20,"value":375},{"type":14,"tag":22,"props":1062,"children":1063},{},[1064,1065,1070],{"type":20,"value":380},{"type":14,"tag":28,"props":1066,"children":1068},{"className":1067},[],[1069],{"type":20,"value":635},{"type":20,"value":1071},", however we've created\nsome base classes to make it easier for you to create phases. All examples\ndemonstrate usage of these base classes.",{"type":14,"tag":389,"props":1073,"children":1075},{"id":1074},"readiness-via-dependencies",[1076],{"type":20,"value":1077},"Readiness via Dependencies",{"type":14,"tag":22,"props":1079,"children":1080},{},[1081,1083,1089,1091,1096,1098,1103],{"type":20,"value":1082},"You can define context dependencies via generic ",{"type":14,"tag":28,"props":1084,"children":1086},{"className":1085},[],[1087],{"type":20,"value":1088},"PhaseBase\u003C>",{"type":20,"value":1090}," classes to make\nthe phase wait until context is ready to provide that dependency. For example,\n",{"type":14,"tag":28,"props":1092,"children":1094},{"className":1093},[],[1095],{"type":20,"value":254},{"type":20,"value":1097}," depends on the ",{"type":14,"tag":28,"props":1099,"children":1101},{"className":1100},[],[1102],{"type":20,"value":893},{"type":20,"value":1104}," instance as shown below;",{"type":14,"tag":297,"props":1106,"children":1108},{"className":299,"code":1107,"language":301,"meta":7,"style":7},"public class Build : PhaseBase\u003CWebApplicationBuilder>\n{\n    protected override void Initialize(WebApplicationBuilder build)\n    {\n        var app = build.Build();\n\n        Context.Add(app);\n    }\n}\n",[1109],{"type":14,"tag":28,"props":1110,"children":1111},{"__ignoreMap":7},[1112,1149,1156,1192,1199,1231,1238,1266,1273],{"type":14,"tag":307,"props":1113,"children":1114},{"class":309,"line":310},[1115,1119,1123,1128,1132,1136,1140,1144],{"type":14,"tag":307,"props":1116,"children":1117},{"style":314},[1118],{"type":20,"value":317},{"type":14,"tag":307,"props":1120,"children":1121},{"style":314},[1122],{"type":20,"value":322},{"type":14,"tag":307,"props":1124,"children":1125},{"style":325},[1126],{"type":20,"value":1127}," Build",{"type":14,"tag":307,"props":1129,"children":1130},{"style":331},[1131],{"type":20,"value":334},{"type":14,"tag":307,"props":1133,"children":1134},{"style":325},[1135],{"type":20,"value":758},{"type":14,"tag":307,"props":1137,"children":1138},{"style":331},[1139],{"type":20,"value":630},{"type":14,"tag":307,"props":1141,"children":1142},{"style":325},[1143],{"type":20,"value":893},{"type":14,"tag":307,"props":1145,"children":1146},{"style":331},[1147],{"type":20,"value":1148},">\n",{"type":14,"tag":307,"props":1150,"children":1151},{"class":309,"line":342},[1152],{"type":14,"tag":307,"props":1153,"children":1154},{"style":331},[1155],{"type":20,"value":348},{"type":14,"tag":307,"props":1157,"children":1158},{"class":309,"line":351},[1159,1163,1167,1171,1175,1179,1183,1187],{"type":14,"tag":307,"props":1160,"children":1161},{"style":314},[1162],{"type":20,"value":496},{"type":14,"tag":307,"props":1164,"children":1165},{"style":314},[1166],{"type":20,"value":501},{"type":14,"tag":307,"props":1168,"children":1169},{"style":314},[1170],{"type":20,"value":950},{"type":14,"tag":307,"props":1172,"children":1173},{"style":643},[1174],{"type":20,"value":955},{"type":14,"tag":307,"props":1176,"children":1177},{"style":331},[1178],{"type":20,"value":1029},{"type":14,"tag":307,"props":1180,"children":1181},{"style":325},[1182],{"type":20,"value":893},{"type":14,"tag":307,"props":1184,"children":1185},{"style":509},[1186],{"type":20,"value":979},{"type":14,"tag":307,"props":1188,"children":1189},{"style":331},[1190],{"type":20,"value":1191},")\n",{"type":14,"tag":307,"props":1193,"children":1194},{"class":309,"line":360},[1195],{"type":14,"tag":307,"props":1196,"children":1197},{"style":331},[1198],{"type":20,"value":659},{"type":14,"tag":307,"props":1200,"children":1201},{"class":309,"line":540},[1202,1206,1211,1215,1219,1223,1227],{"type":14,"tag":307,"props":1203,"children":1204},{"style":314},[1205],{"type":20,"value":974},{"type":14,"tag":307,"props":1207,"children":1208},{"style":509},[1209],{"type":20,"value":1210}," app",{"type":14,"tag":307,"props":1212,"children":1213},{"style":515},[1214],{"type":20,"value":984},{"type":14,"tag":307,"props":1216,"children":1217},{"style":509},[1218],{"type":20,"value":979},{"type":14,"tag":307,"props":1220,"children":1221},{"style":331},[1222],{"type":20,"value":295},{"type":14,"tag":307,"props":1224,"children":1225},{"style":643},[1226],{"type":20,"value":254},{"type":14,"tag":307,"props":1228,"children":1229},{"style":331},[1230],{"type":20,"value":688},{"type":14,"tag":307,"props":1232,"children":1233},{"class":309,"line":691},[1234],{"type":14,"tag":307,"props":1235,"children":1236},{"emptyLinePlaceholder":729},[1237],{"type":20,"value":732},{"type":14,"tag":307,"props":1239,"children":1240},{"class":309,"line":716},[1241,1245,1249,1253,1257,1262],{"type":14,"tag":307,"props":1242,"children":1243},{"style":509},[1244],{"type":20,"value":1016},{"type":14,"tag":307,"props":1246,"children":1247},{"style":331},[1248],{"type":20,"value":295},{"type":14,"tag":307,"props":1250,"children":1251},{"style":643},[1252],{"type":20,"value":165},{"type":14,"tag":307,"props":1254,"children":1255},{"style":331},[1256],{"type":20,"value":1029},{"type":14,"tag":307,"props":1258,"children":1259},{"style":509},[1260],{"type":20,"value":1261},"app",{"type":14,"tag":307,"props":1263,"children":1264},{"style":331},[1265],{"type":20,"value":1039},{"type":14,"tag":307,"props":1267,"children":1268},{"class":309,"line":725},[1269],{"type":14,"tag":307,"props":1270,"children":1271},{"style":331},[1272],{"type":20,"value":722},{"type":14,"tag":307,"props":1274,"children":1275},{"class":309,"line":735},[1276],{"type":14,"tag":307,"props":1277,"children":1278},{"style":331},[1279],{"type":20,"value":366},{"type":14,"tag":22,"props":1281,"children":1282},{},[1283,1289,1291,1297],{"type":14,"tag":28,"props":1284,"children":1286},{"className":1285},[],[1287],{"type":20,"value":1288},"PhaseBase\u003CT>",{"type":20,"value":1290}," class requires ",{"type":14,"tag":28,"props":1292,"children":1294},{"className":1293},[],[1295],{"type":20,"value":1296},"Initialize(T t)",{"type":20,"value":1298}," method to be implemented.",{"type":14,"tag":368,"props":1300,"children":1301},{},[1302,1307],{"type":14,"tag":22,"props":1303,"children":1304},{},[1305],{"type":20,"value":1306},":information_source:",{"type":14,"tag":22,"props":1308,"children":1309},{},[1310,1312,1318,1320,1326],{"type":20,"value":1311},"You can provide more than one dependency for a phase. E.g., ",{"type":14,"tag":28,"props":1313,"children":1315},{"className":1314},[],[1316],{"type":20,"value":1317},"Phase\u003CX, Y>",{"type":20,"value":1319},"\nwill require ",{"type":14,"tag":28,"props":1321,"children":1323},{"className":1322},[],[1324],{"type":20,"value":1325},"Initialize(X x, Y y)",{"type":20,"value":1298},{"type":14,"tag":368,"props":1328,"children":1329},{},[1330,1335],{"type":14,"tag":22,"props":1331,"children":1332},{},[1333],{"type":20,"value":1334},":warning:",{"type":14,"tag":22,"props":1336,"children":1337},{},[1338,1340,1345,1347],{"type":20,"value":1339},"Type of the dependency provided, must be exactly the same as the type of\ndependency in ",{"type":14,"tag":28,"props":1341,"children":1343},{"className":1342},[],[1344],{"type":20,"value":198},{"type":20,"value":1346},". For more information\n",{"type":14,"tag":63,"props":1348,"children":1350},{"href":1349},"../architecture/application#running-an-application",[1351],{"type":20,"value":1352},"Running an Application",{"type":14,"tag":389,"props":1354,"children":1356},{"id":1355},"order-of-a-phase",[1357],{"type":20,"value":1358},"Order of a Phase",{"type":14,"tag":22,"props":1360,"children":1361},{},[1362,1367,1369,1375,1377,1383],{"type":14,"tag":28,"props":1363,"children":1365},{"className":1364},[],[1366],{"type":20,"value":758},{"type":20,"value":1368}," classes has ",{"type":14,"tag":28,"props":1370,"children":1372},{"className":1371},[],[1373],{"type":20,"value":1374},"order",{"type":20,"value":1376}," parameter in their constructors. Default order\nis ",{"type":14,"tag":28,"props":1378,"children":1380},{"className":1379},[],[1381],{"type":20,"value":1382},"PhaseOrder.Normal",{"type":20,"value":1384},". If you need to change the order, pass the desired order\nto this parameter as shown below;",{"type":14,"tag":297,"props":1386,"children":1388},{"className":299,"code":1387,"language":301,"meta":7,"style":7},"public class DoThisEarlyOn()\n    : PhaseBase(PhaseOrder.Early)\n{ }\n",[1389],{"type":14,"tag":28,"props":1390,"children":1391},{"__ignoreMap":7},[1392,1412,1446],{"type":14,"tag":307,"props":1393,"children":1394},{"class":309,"line":310},[1395,1399,1403,1408],{"type":14,"tag":307,"props":1396,"children":1397},{"style":314},[1398],{"type":20,"value":317},{"type":14,"tag":307,"props":1400,"children":1401},{"style":314},[1402],{"type":20,"value":322},{"type":14,"tag":307,"props":1404,"children":1405},{"style":325},[1406],{"type":20,"value":1407}," DoThisEarlyOn",{"type":14,"tag":307,"props":1409,"children":1410},{"style":331},[1411],{"type":20,"value":651},{"type":14,"tag":307,"props":1413,"children":1414},{"class":309,"line":342},[1415,1420,1424,1428,1433,1437,1442],{"type":14,"tag":307,"props":1416,"children":1417},{"style":331},[1418],{"type":20,"value":1419},"    : ",{"type":14,"tag":307,"props":1421,"children":1422},{"style":325},[1423],{"type":20,"value":758},{"type":14,"tag":307,"props":1425,"children":1426},{"style":331},[1427],{"type":20,"value":1029},{"type":14,"tag":307,"props":1429,"children":1430},{"style":325},[1431],{"type":20,"value":1432},"PhaseOrder",{"type":14,"tag":307,"props":1434,"children":1435},{"style":331},[1436],{"type":20,"value":295},{"type":14,"tag":307,"props":1438,"children":1439},{"style":325},[1440],{"type":20,"value":1441},"Early",{"type":14,"tag":307,"props":1443,"children":1444},{"style":331},[1445],{"type":20,"value":1191},{"type":14,"tag":307,"props":1447,"children":1448},{"class":309,"line":351},[1449],{"type":14,"tag":307,"props":1450,"children":1451},{"style":331},[1452],{"type":20,"value":1453},"{ }\n",{"type":14,"tag":88,"props":1455,"children":1457},{"id":1456},"providing-configuration",[1458],{"type":20,"value":1459},"Providing Configuration",{"type":14,"tag":22,"props":1461,"children":1462},{},[1463,1465,1471],{"type":20,"value":1464},"Layers provide configuration objects phase by phase. This means a layer can\nprovide two different configuration objects for two different phases. For this\nreason, a layer returns ",{"type":14,"tag":28,"props":1466,"children":1468},{"className":1467},[],[1469],{"type":20,"value":1470},"PhaseContext",{"type":20,"value":1472}," instance per phase to which it provides\nconfiguration.",{"type":14,"tag":297,"props":1474,"children":1476},{"className":299,"code":1475,"language":301,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly LayerXConfiguration _configuration = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContext(_configuration);\n}\n",[1477],{"type":14,"tag":28,"props":1478,"children":1479},{"__ignoreMap":7},[1480,1516,1523,1553,1560,1604,1634],{"type":14,"tag":307,"props":1481,"children":1482},{"class":309,"line":310},[1483,1487,1491,1495,1499,1503,1507,1512],{"type":14,"tag":307,"props":1484,"children":1485},{"style":314},[1486],{"type":20,"value":317},{"type":14,"tag":307,"props":1488,"children":1489},{"style":314},[1490],{"type":20,"value":322},{"type":14,"tag":307,"props":1492,"children":1493},{"style":325},[1494],{"type":20,"value":328},{"type":14,"tag":307,"props":1496,"children":1497},{"style":331},[1498],{"type":20,"value":334},{"type":14,"tag":307,"props":1500,"children":1501},{"style":325},[1502],{"type":20,"value":293},{"type":14,"tag":307,"props":1504,"children":1505},{"style":331},[1506],{"type":20,"value":630},{"type":14,"tag":307,"props":1508,"children":1509},{"style":325},[1510],{"type":20,"value":1511},"AddServices",{"type":14,"tag":307,"props":1513,"children":1514},{"style":331},[1515],{"type":20,"value":1148},{"type":14,"tag":307,"props":1517,"children":1518},{"class":309,"line":342},[1519],{"type":14,"tag":307,"props":1520,"children":1521},{"style":331},[1522],{"type":20,"value":348},{"type":14,"tag":307,"props":1524,"children":1525},{"class":309,"line":351},[1526,1531,1536,1541,1545,1549],{"type":14,"tag":307,"props":1527,"children":1528},{"style":314},[1529],{"type":20,"value":1530},"    readonly",{"type":14,"tag":307,"props":1532,"children":1533},{"style":325},[1534],{"type":20,"value":1535}," LayerXConfiguration",{"type":14,"tag":307,"props":1537,"children":1538},{"style":509},[1539],{"type":20,"value":1540}," _configuration",{"type":14,"tag":307,"props":1542,"children":1543},{"style":515},[1544],{"type":20,"value":984},{"type":14,"tag":307,"props":1546,"children":1547},{"style":314},[1548],{"type":20,"value":678},{"type":14,"tag":307,"props":1550,"children":1551},{"style":331},[1552],{"type":20,"value":688},{"type":14,"tag":307,"props":1554,"children":1555},{"class":309,"line":360},[1556],{"type":14,"tag":307,"props":1557,"children":1558},{"emptyLinePlaceholder":729},[1559],{"type":20,"value":732},{"type":14,"tag":307,"props":1561,"children":1562},{"class":309,"line":540},[1563,1567,1571,1576,1581,1585,1589,1594,1599],{"type":14,"tag":307,"props":1564,"children":1565},{"style":314},[1566],{"type":20,"value":496},{"type":14,"tag":307,"props":1568,"children":1569},{"style":314},[1570],{"type":20,"value":501},{"type":14,"tag":307,"props":1572,"children":1573},{"style":325},[1574],{"type":20,"value":1575}," PhaseContext",{"type":14,"tag":307,"props":1577,"children":1578},{"style":643},[1579],{"type":20,"value":1580}," GetContext",{"type":14,"tag":307,"props":1582,"children":1583},{"style":331},[1584],{"type":20,"value":1029},{"type":14,"tag":307,"props":1586,"children":1587},{"style":325},[1588],{"type":20,"value":1511},{"type":14,"tag":307,"props":1590,"children":1591},{"style":509},[1592],{"type":20,"value":1593}," phase",{"type":14,"tag":307,"props":1595,"children":1596},{"style":331},[1597],{"type":20,"value":1598},") ",{"type":14,"tag":307,"props":1600,"children":1601},{"style":515},[1602],{"type":20,"value":1603},"=>\n",{"type":14,"tag":307,"props":1605,"children":1606},{"class":309,"line":691},[1607,1612,1616,1621,1625,1630],{"type":14,"tag":307,"props":1608,"children":1609},{"style":509},[1610],{"type":20,"value":1611},"        phase",{"type":14,"tag":307,"props":1613,"children":1614},{"style":331},[1615],{"type":20,"value":295},{"type":14,"tag":307,"props":1617,"children":1618},{"style":643},[1619],{"type":20,"value":1620},"CreateContext",{"type":14,"tag":307,"props":1622,"children":1623},{"style":331},[1624],{"type":20,"value":1029},{"type":14,"tag":307,"props":1626,"children":1627},{"style":509},[1628],{"type":20,"value":1629},"_configuration",{"type":14,"tag":307,"props":1631,"children":1632},{"style":331},[1633],{"type":20,"value":1039},{"type":14,"tag":307,"props":1635,"children":1636},{"class":309,"line":716},[1637],{"type":14,"tag":307,"props":1638,"children":1639},{"style":331},[1640],{"type":20,"value":366},{"type":14,"tag":22,"props":1642,"children":1643},{},[1644,1646,1651,1653,1659,1661,1666],{"type":20,"value":1645},"In this example, you see a layer named ",{"type":14,"tag":28,"props":1647,"children":1649},{"className":1648},[],[1650],{"type":20,"value":444},{"type":20,"value":1652}," providing a\n",{"type":14,"tag":28,"props":1654,"children":1656},{"className":1655},[],[1657],{"type":20,"value":1658},"LayerXConfiguration",{"type":20,"value":1660}," instance during ",{"type":14,"tag":28,"props":1662,"children":1664},{"className":1663},[],[1665],{"type":20,"value":1511},{"type":20,"value":1667}," phase.",{"type":14,"tag":368,"props":1669,"children":1670},{},[1671,1675],{"type":14,"tag":22,"props":1672,"children":1673},{},[1674],{"type":20,"value":1306},{"type":14,"tag":22,"props":1676,"children":1677},{},[1678,1680,1686,1688,1693],{"type":20,"value":1679},"By default, a layer returns ",{"type":14,"tag":28,"props":1681,"children":1683},{"className":1682},[],[1684],{"type":20,"value":1685},"PhaseContext.Empty",{"type":20,"value":1687}," instance for the phases it\ndoes not provide a configuration. This means ",{"type":14,"tag":28,"props":1689,"children":1691},{"className":1690},[],[1692],{"type":20,"value":68},{"type":20,"value":1694}," skips that layer\nfor the phases it doesn't have anything to configure.",{"type":14,"tag":389,"props":1696,"children":1698},{"id":1697},"using-non-generic-layerbase",[1699,1701],{"type":20,"value":1700},"Using non-generic ",{"type":14,"tag":28,"props":1702,"children":1704},{"className":1703},[],[1705],{"type":20,"value":293},{"type":14,"tag":22,"props":1707,"children":1708},{},[1709,1715,1717,1722,1724,1730],{"type":14,"tag":28,"props":1710,"children":1712},{"className":1711},[],[1713],{"type":20,"value":1714},"LayerBase\u003C>",{"type":20,"value":1716}," classes allow up to three generic arguments. If you need to\nimplement a layer that has things to configure during more than three phases,\nuse non-generic ",{"type":14,"tag":28,"props":1718,"children":1720},{"className":1719},[],[1721],{"type":20,"value":293},{"type":20,"value":1723}," class, override ",{"type":14,"tag":28,"props":1725,"children":1727},{"className":1726},[],[1728],{"type":20,"value":1729},"GetContext(IPhase phase)",{"type":20,"value":1731}," method\nand switch given phase according to its type;",{"type":14,"tag":297,"props":1733,"children":1735},{"className":299,"code":1734,"language":301,"meta":7,"style":7},"public class MyLayer : LayerBase\n{\n    protected override PhaseContext GetContext(IPhase phase) =>\n        phase switch\n        {\n            PhaseA => phase.CreateContext(...),\n            PhaseB => phase.CreateContext(...),\n            _ => base.GetContext(phase)\n        };\n}\n",[1736],{"type":14,"tag":28,"props":1737,"children":1738},{"__ignoreMap":7},[1739,1763,1770,1809,1821,1829,1867,1903,1942,1950],{"type":14,"tag":307,"props":1740,"children":1741},{"class":309,"line":310},[1742,1746,1750,1755,1759],{"type":14,"tag":307,"props":1743,"children":1744},{"style":314},[1745],{"type":20,"value":317},{"type":14,"tag":307,"props":1747,"children":1748},{"style":314},[1749],{"type":20,"value":322},{"type":14,"tag":307,"props":1751,"children":1752},{"style":325},[1753],{"type":20,"value":1754}," MyLayer",{"type":14,"tag":307,"props":1756,"children":1757},{"style":331},[1758],{"type":20,"value":334},{"type":14,"tag":307,"props":1760,"children":1761},{"style":325},[1762],{"type":20,"value":339},{"type":14,"tag":307,"props":1764,"children":1765},{"class":309,"line":342},[1766],{"type":14,"tag":307,"props":1767,"children":1768},{"style":331},[1769],{"type":20,"value":348},{"type":14,"tag":307,"props":1771,"children":1772},{"class":309,"line":351},[1773,1777,1781,1785,1789,1793,1797,1801,1805],{"type":14,"tag":307,"props":1774,"children":1775},{"style":314},[1776],{"type":20,"value":496},{"type":14,"tag":307,"props":1778,"children":1779},{"style":314},[1780],{"type":20,"value":501},{"type":14,"tag":307,"props":1782,"children":1783},{"style":325},[1784],{"type":20,"value":1575},{"type":14,"tag":307,"props":1786,"children":1787},{"style":643},[1788],{"type":20,"value":1580},{"type":14,"tag":307,"props":1790,"children":1791},{"style":331},[1792],{"type":20,"value":1029},{"type":14,"tag":307,"props":1794,"children":1795},{"style":325},[1796],{"type":20,"value":635},{"type":14,"tag":307,"props":1798,"children":1799},{"style":509},[1800],{"type":20,"value":1593},{"type":14,"tag":307,"props":1802,"children":1803},{"style":331},[1804],{"type":20,"value":1598},{"type":14,"tag":307,"props":1806,"children":1807},{"style":515},[1808],{"type":20,"value":1603},{"type":14,"tag":307,"props":1810,"children":1811},{"class":309,"line":360},[1812,1816],{"type":14,"tag":307,"props":1813,"children":1814},{"style":509},[1815],{"type":20,"value":1611},{"type":14,"tag":307,"props":1817,"children":1818},{"style":665},[1819],{"type":20,"value":1820}," switch\n",{"type":14,"tag":307,"props":1822,"children":1823},{"class":309,"line":540},[1824],{"type":14,"tag":307,"props":1825,"children":1826},{"style":331},[1827],{"type":20,"value":1828},"        {\n",{"type":14,"tag":307,"props":1830,"children":1831},{"class":309,"line":691},[1832,1837,1841,1845,1849,1853,1857,1862],{"type":14,"tag":307,"props":1833,"children":1834},{"style":325},[1835],{"type":20,"value":1836},"            PhaseA",{"type":14,"tag":307,"props":1838,"children":1839},{"style":515},[1840],{"type":20,"value":518},{"type":14,"tag":307,"props":1842,"children":1843},{"style":509},[1844],{"type":20,"value":1593},{"type":14,"tag":307,"props":1846,"children":1847},{"style":331},[1848],{"type":20,"value":295},{"type":14,"tag":307,"props":1850,"children":1851},{"style":643},[1852],{"type":20,"value":1620},{"type":14,"tag":307,"props":1854,"children":1855},{"style":331},[1856],{"type":20,"value":1029},{"type":14,"tag":307,"props":1858,"children":1859},{"style":515},[1860],{"type":20,"value":1861},"..",{"type":14,"tag":307,"props":1863,"children":1864},{"style":331},[1865],{"type":20,"value":1866},".),\n",{"type":14,"tag":307,"props":1868,"children":1869},{"class":309,"line":716},[1870,1875,1879,1883,1887,1891,1895,1899],{"type":14,"tag":307,"props":1871,"children":1872},{"style":325},[1873],{"type":20,"value":1874},"            PhaseB",{"type":14,"tag":307,"props":1876,"children":1877},{"style":515},[1878],{"type":20,"value":518},{"type":14,"tag":307,"props":1880,"children":1881},{"style":509},[1882],{"type":20,"value":1593},{"type":14,"tag":307,"props":1884,"children":1885},{"style":331},[1886],{"type":20,"value":295},{"type":14,"tag":307,"props":1888,"children":1889},{"style":643},[1890],{"type":20,"value":1620},{"type":14,"tag":307,"props":1892,"children":1893},{"style":331},[1894],{"type":20,"value":1029},{"type":14,"tag":307,"props":1896,"children":1897},{"style":515},[1898],{"type":20,"value":1861},{"type":14,"tag":307,"props":1900,"children":1901},{"style":331},[1902],{"type":20,"value":1866},{"type":14,"tag":307,"props":1904,"children":1905},{"class":309,"line":725},[1906,1911,1915,1920,1924,1929,1933,1938],{"type":14,"tag":307,"props":1907,"children":1908},{"style":314},[1909],{"type":20,"value":1910},"            _",{"type":14,"tag":307,"props":1912,"children":1913},{"style":515},[1914],{"type":20,"value":518},{"type":14,"tag":307,"props":1916,"children":1917},{"style":314},[1918],{"type":20,"value":1919}," base",{"type":14,"tag":307,"props":1921,"children":1922},{"style":331},[1923],{"type":20,"value":295},{"type":14,"tag":307,"props":1925,"children":1926},{"style":643},[1927],{"type":20,"value":1928},"GetContext",{"type":14,"tag":307,"props":1930,"children":1931},{"style":331},[1932],{"type":20,"value":1029},{"type":14,"tag":307,"props":1934,"children":1935},{"style":509},[1936],{"type":20,"value":1937},"phase",{"type":14,"tag":307,"props":1939,"children":1940},{"style":331},[1941],{"type":20,"value":1191},{"type":14,"tag":307,"props":1943,"children":1944},{"class":309,"line":735},[1945],{"type":14,"tag":307,"props":1946,"children":1947},{"style":331},[1948],{"type":20,"value":1949},"        };\n",{"type":14,"tag":307,"props":1951,"children":1952},{"class":309,"line":766},[1953],{"type":14,"tag":307,"props":1954,"children":1955},{"style":331},[1956],{"type":20,"value":366},{"type":14,"tag":389,"props":1958,"children":1960},{"id":1959},"before-and-after-a-phase",[1961],{"type":20,"value":1962},"Before and After a Phase",{"type":14,"tag":22,"props":1964,"children":1965},{},[1966,1968,1974,1976,1982],{"type":20,"value":1967},"Layers might need to do some standard stuff before and after a phase is applied\nto all features for all layers. Use ",{"type":14,"tag":28,"props":1969,"children":1971},{"className":1970},[],[1972],{"type":20,"value":1973},"GetContext()",{"type":20,"value":1975}," method to do stuff before,\nand ",{"type":14,"tag":28,"props":1977,"children":1979},{"className":1978},[],[1980],{"type":20,"value":1981},"onDispose:",{"type":20,"value":1983}," delegate to do stuff after.",{"type":14,"tag":297,"props":1985,"children":1987},{"className":299,"code":1986,"language":301,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly LayerXConfiguration _configuration = new();\n\n    protected override PhaseContext GetContext(AddServices phase)\n    {\n        var services = Context.Get\u003CIServiceCollection>();\n\n        services.AddStandardStuffBefore();\n\n        phase.CreateContext(_configuration,\n            onDispose: () => services.AddStandardStuffAfter()\n        );\n    }\n}\n",[1988],{"type":14,"tag":28,"props":1989,"children":1990},{"__ignoreMap":7},[1991,2026,2033,2060,2067,2102,2109,2152,2159,2180,2187,2215,2251,2260,2268],{"type":14,"tag":307,"props":1992,"children":1993},{"class":309,"line":310},[1994,1998,2002,2006,2010,2014,2018,2022],{"type":14,"tag":307,"props":1995,"children":1996},{"style":314},[1997],{"type":20,"value":317},{"type":14,"tag":307,"props":1999,"children":2000},{"style":314},[2001],{"type":20,"value":322},{"type":14,"tag":307,"props":2003,"children":2004},{"style":325},[2005],{"type":20,"value":328},{"type":14,"tag":307,"props":2007,"children":2008},{"style":331},[2009],{"type":20,"value":334},{"type":14,"tag":307,"props":2011,"children":2012},{"style":325},[2013],{"type":20,"value":293},{"type":14,"tag":307,"props":2015,"children":2016},{"style":331},[2017],{"type":20,"value":630},{"type":14,"tag":307,"props":2019,"children":2020},{"style":325},[2021],{"type":20,"value":1511},{"type":14,"tag":307,"props":2023,"children":2024},{"style":331},[2025],{"type":20,"value":1148},{"type":14,"tag":307,"props":2027,"children":2028},{"class":309,"line":342},[2029],{"type":14,"tag":307,"props":2030,"children":2031},{"style":331},[2032],{"type":20,"value":348},{"type":14,"tag":307,"props":2034,"children":2035},{"class":309,"line":351},[2036,2040,2044,2048,2052,2056],{"type":14,"tag":307,"props":2037,"children":2038},{"style":314},[2039],{"type":20,"value":1530},{"type":14,"tag":307,"props":2041,"children":2042},{"style":325},[2043],{"type":20,"value":1535},{"type":14,"tag":307,"props":2045,"children":2046},{"style":509},[2047],{"type":20,"value":1540},{"type":14,"tag":307,"props":2049,"children":2050},{"style":515},[2051],{"type":20,"value":984},{"type":14,"tag":307,"props":2053,"children":2054},{"style":314},[2055],{"type":20,"value":678},{"type":14,"tag":307,"props":2057,"children":2058},{"style":331},[2059],{"type":20,"value":688},{"type":14,"tag":307,"props":2061,"children":2062},{"class":309,"line":360},[2063],{"type":14,"tag":307,"props":2064,"children":2065},{"emptyLinePlaceholder":729},[2066],{"type":20,"value":732},{"type":14,"tag":307,"props":2068,"children":2069},{"class":309,"line":540},[2070,2074,2078,2082,2086,2090,2094,2098],{"type":14,"tag":307,"props":2071,"children":2072},{"style":314},[2073],{"type":20,"value":496},{"type":14,"tag":307,"props":2075,"children":2076},{"style":314},[2077],{"type":20,"value":501},{"type":14,"tag":307,"props":2079,"children":2080},{"style":325},[2081],{"type":20,"value":1575},{"type":14,"tag":307,"props":2083,"children":2084},{"style":643},[2085],{"type":20,"value":1580},{"type":14,"tag":307,"props":2087,"children":2088},{"style":331},[2089],{"type":20,"value":1029},{"type":14,"tag":307,"props":2091,"children":2092},{"style":325},[2093],{"type":20,"value":1511},{"type":14,"tag":307,"props":2095,"children":2096},{"style":509},[2097],{"type":20,"value":1593},{"type":14,"tag":307,"props":2099,"children":2100},{"style":331},[2101],{"type":20,"value":1191},{"type":14,"tag":307,"props":2103,"children":2104},{"class":309,"line":691},[2105],{"type":14,"tag":307,"props":2106,"children":2107},{"style":331},[2108],{"type":20,"value":659},{"type":14,"tag":307,"props":2110,"children":2111},{"class":309,"line":716},[2112,2116,2121,2125,2130,2134,2138,2142,2147],{"type":14,"tag":307,"props":2113,"children":2114},{"style":314},[2115],{"type":20,"value":974},{"type":14,"tag":307,"props":2117,"children":2118},{"style":509},[2119],{"type":20,"value":2120}," services",{"type":14,"tag":307,"props":2122,"children":2123},{"style":515},[2124],{"type":20,"value":984},{"type":14,"tag":307,"props":2126,"children":2127},{"style":509},[2128],{"type":20,"value":2129}," Context",{"type":14,"tag":307,"props":2131,"children":2132},{"style":331},[2133],{"type":20,"value":295},{"type":14,"tag":307,"props":2135,"children":2136},{"style":643},[2137],{"type":20,"value":190},{"type":14,"tag":307,"props":2139,"children":2140},{"style":331},[2141],{"type":20,"value":630},{"type":14,"tag":307,"props":2143,"children":2144},{"style":325},[2145],{"type":20,"value":2146},"IServiceCollection",{"type":14,"tag":307,"props":2148,"children":2149},{"style":331},[2150],{"type":20,"value":2151},">();\n",{"type":14,"tag":307,"props":2153,"children":2154},{"class":309,"line":725},[2155],{"type":14,"tag":307,"props":2156,"children":2157},{"emptyLinePlaceholder":729},[2158],{"type":20,"value":732},{"type":14,"tag":307,"props":2160,"children":2161},{"class":309,"line":735},[2162,2167,2171,2176],{"type":14,"tag":307,"props":2163,"children":2164},{"style":509},[2165],{"type":20,"value":2166},"        services",{"type":14,"tag":307,"props":2168,"children":2169},{"style":331},[2170],{"type":20,"value":295},{"type":14,"tag":307,"props":2172,"children":2173},{"style":643},[2174],{"type":20,"value":2175},"AddStandardStuffBefore",{"type":14,"tag":307,"props":2177,"children":2178},{"style":331},[2179],{"type":20,"value":688},{"type":14,"tag":307,"props":2181,"children":2182},{"class":309,"line":766},[2183],{"type":14,"tag":307,"props":2184,"children":2185},{"emptyLinePlaceholder":729},[2186],{"type":20,"value":732},{"type":14,"tag":307,"props":2188,"children":2189},{"class":309,"line":794},[2190,2194,2198,2202,2206,2210],{"type":14,"tag":307,"props":2191,"children":2192},{"style":509},[2193],{"type":20,"value":1611},{"type":14,"tag":307,"props":2195,"children":2196},{"style":331},[2197],{"type":20,"value":295},{"type":14,"tag":307,"props":2199,"children":2200},{"style":643},[2201],{"type":20,"value":1620},{"type":14,"tag":307,"props":2203,"children":2204},{"style":331},[2205],{"type":20,"value":1029},{"type":14,"tag":307,"props":2207,"children":2208},{"style":509},[2209],{"type":20,"value":1629},{"type":14,"tag":307,"props":2211,"children":2212},{"style":331},[2213],{"type":20,"value":2214},",\n",{"type":14,"tag":307,"props":2216,"children":2218},{"class":309,"line":2217},12,[2219,2224,2229,2234,2238,2242,2247],{"type":14,"tag":307,"props":2220,"children":2221},{"style":509},[2222],{"type":20,"value":2223},"            onDispose",{"type":14,"tag":307,"props":2225,"children":2226},{"style":331},[2227],{"type":20,"value":2228},": () ",{"type":14,"tag":307,"props":2230,"children":2231},{"style":515},[2232],{"type":20,"value":2233},"=>",{"type":14,"tag":307,"props":2235,"children":2236},{"style":509},[2237],{"type":20,"value":2120},{"type":14,"tag":307,"props":2239,"children":2240},{"style":331},[2241],{"type":20,"value":295},{"type":14,"tag":307,"props":2243,"children":2244},{"style":643},[2245],{"type":20,"value":2246},"AddStandardStuffAfter",{"type":14,"tag":307,"props":2248,"children":2249},{"style":331},[2250],{"type":20,"value":651},{"type":14,"tag":307,"props":2252,"children":2254},{"class":309,"line":2253},13,[2255],{"type":14,"tag":307,"props":2256,"children":2257},{"style":331},[2258],{"type":20,"value":2259},"        );\n",{"type":14,"tag":307,"props":2261,"children":2263},{"class":309,"line":2262},14,[2264],{"type":14,"tag":307,"props":2265,"children":2266},{"style":331},[2267],{"type":20,"value":722},{"type":14,"tag":307,"props":2269,"children":2271},{"class":309,"line":2270},15,[2272],{"type":14,"tag":307,"props":2273,"children":2274},{"style":331},[2275],{"type":20,"value":366},{"type":14,"tag":368,"props":2277,"children":2278},{},[2279,2283],{"type":14,"tag":22,"props":2280,"children":2281},{},[2282],{"type":20,"value":1306},{"type":14,"tag":22,"props":2284,"children":2285},{},[2286,2288,2293,2295,2300,2302,2307],{"type":20,"value":2287},"Notice that a layer has access to the ",{"type":14,"tag":28,"props":2289,"children":2291},{"className":2290},[],[2292],{"type":20,"value":198},{"type":20,"value":2294}," instance through\n",{"type":14,"tag":28,"props":2296,"children":2298},{"className":2297},[],[2299],{"type":20,"value":870},{"type":20,"value":2301}," property provided in ",{"type":14,"tag":28,"props":2303,"children":2305},{"className":2304},[],[2306],{"type":20,"value":293},{"type":20,"value":2308}," base class.",{"type":14,"tag":368,"props":2310,"children":2311},{},[2312,2316],{"type":14,"tag":22,"props":2313,"children":2314},{},[2315],{"type":20,"value":1334},{"type":14,"tag":22,"props":2317,"children":2318},{},[2319,2324,2326,2331],{"type":14,"tag":28,"props":2320,"children":2322},{"className":2321},[],[2323],{"type":20,"value":1973},{"type":20,"value":2325}," method is called for every layer before applying any of them\nto features. And ",{"type":14,"tag":28,"props":2327,"children":2329},{"className":2328},[],[2330],{"type":20,"value":1981},{"type":20,"value":2332}," actions are called after applying these\ncontexts to all features.",{"type":14,"tag":389,"props":2334,"children":2336},{"id":2335},"providing-multiple-targets",[2337],{"type":20,"value":2338},"Providing Multiple Targets",{"type":14,"tag":22,"props":2340,"children":2341},{},[2342],{"type":20,"value":2343},"It is possible to provide up to three configuration objects for the same phase.\nThere are two ways of providing multiple targets; at once or one by one.",{"type":14,"tag":2345,"props":2346,"children":2348},"h4",{"id":2347},"at-once",[2349],{"type":20,"value":2350},"At Once",{"type":14,"tag":22,"props":2352,"children":2353},{},[2354],{"type":20,"value":2355},"Below code demonstrates providing two configuration objects at once;",{"type":14,"tag":297,"props":2357,"children":2359},{"className":299,"code":2358,"language":301,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContext(_configuration1, _configuration2);\n}\n",[2360],{"type":14,"tag":28,"props":2361,"children":2362},{"__ignoreMap":7},[2363,2398,2405,2434,2463,2470,2509,2546],{"type":14,"tag":307,"props":2364,"children":2365},{"class":309,"line":310},[2366,2370,2374,2378,2382,2386,2390,2394],{"type":14,"tag":307,"props":2367,"children":2368},{"style":314},[2369],{"type":20,"value":317},{"type":14,"tag":307,"props":2371,"children":2372},{"style":314},[2373],{"type":20,"value":322},{"type":14,"tag":307,"props":2375,"children":2376},{"style":325},[2377],{"type":20,"value":328},{"type":14,"tag":307,"props":2379,"children":2380},{"style":331},[2381],{"type":20,"value":334},{"type":14,"tag":307,"props":2383,"children":2384},{"style":325},[2385],{"type":20,"value":293},{"type":14,"tag":307,"props":2387,"children":2388},{"style":331},[2389],{"type":20,"value":630},{"type":14,"tag":307,"props":2391,"children":2392},{"style":325},[2393],{"type":20,"value":1511},{"type":14,"tag":307,"props":2395,"children":2396},{"style":331},[2397],{"type":20,"value":1148},{"type":14,"tag":307,"props":2399,"children":2400},{"class":309,"line":342},[2401],{"type":14,"tag":307,"props":2402,"children":2403},{"style":331},[2404],{"type":20,"value":348},{"type":14,"tag":307,"props":2406,"children":2407},{"class":309,"line":351},[2408,2412,2417,2422,2426,2430],{"type":14,"tag":307,"props":2409,"children":2410},{"style":314},[2411],{"type":20,"value":1530},{"type":14,"tag":307,"props":2413,"children":2414},{"style":325},[2415],{"type":20,"value":2416}," Configuration1",{"type":14,"tag":307,"props":2418,"children":2419},{"style":509},[2420],{"type":20,"value":2421}," _configuration1",{"type":14,"tag":307,"props":2423,"children":2424},{"style":515},[2425],{"type":20,"value":984},{"type":14,"tag":307,"props":2427,"children":2428},{"style":314},[2429],{"type":20,"value":678},{"type":14,"tag":307,"props":2431,"children":2432},{"style":331},[2433],{"type":20,"value":688},{"type":14,"tag":307,"props":2435,"children":2436},{"class":309,"line":360},[2437,2441,2446,2451,2455,2459],{"type":14,"tag":307,"props":2438,"children":2439},{"style":314},[2440],{"type":20,"value":1530},{"type":14,"tag":307,"props":2442,"children":2443},{"style":325},[2444],{"type":20,"value":2445}," Configuration2",{"type":14,"tag":307,"props":2447,"children":2448},{"style":509},[2449],{"type":20,"value":2450}," _configuration2",{"type":14,"tag":307,"props":2452,"children":2453},{"style":515},[2454],{"type":20,"value":984},{"type":14,"tag":307,"props":2456,"children":2457},{"style":314},[2458],{"type":20,"value":678},{"type":14,"tag":307,"props":2460,"children":2461},{"style":331},[2462],{"type":20,"value":688},{"type":14,"tag":307,"props":2464,"children":2465},{"class":309,"line":540},[2466],{"type":14,"tag":307,"props":2467,"children":2468},{"emptyLinePlaceholder":729},[2469],{"type":20,"value":732},{"type":14,"tag":307,"props":2471,"children":2472},{"class":309,"line":691},[2473,2477,2481,2485,2489,2493,2497,2501,2505],{"type":14,"tag":307,"props":2474,"children":2475},{"style":314},[2476],{"type":20,"value":496},{"type":14,"tag":307,"props":2478,"children":2479},{"style":314},[2480],{"type":20,"value":501},{"type":14,"tag":307,"props":2482,"children":2483},{"style":325},[2484],{"type":20,"value":1575},{"type":14,"tag":307,"props":2486,"children":2487},{"style":643},[2488],{"type":20,"value":1580},{"type":14,"tag":307,"props":2490,"children":2491},{"style":331},[2492],{"type":20,"value":1029},{"type":14,"tag":307,"props":2494,"children":2495},{"style":325},[2496],{"type":20,"value":1511},{"type":14,"tag":307,"props":2498,"children":2499},{"style":509},[2500],{"type":20,"value":1593},{"type":14,"tag":307,"props":2502,"children":2503},{"style":331},[2504],{"type":20,"value":1598},{"type":14,"tag":307,"props":2506,"children":2507},{"style":515},[2508],{"type":20,"value":1603},{"type":14,"tag":307,"props":2510,"children":2511},{"class":309,"line":716},[2512,2516,2520,2524,2528,2533,2537,2542],{"type":14,"tag":307,"props":2513,"children":2514},{"style":509},[2515],{"type":20,"value":1611},{"type":14,"tag":307,"props":2517,"children":2518},{"style":331},[2519],{"type":20,"value":295},{"type":14,"tag":307,"props":2521,"children":2522},{"style":643},[2523],{"type":20,"value":1620},{"type":14,"tag":307,"props":2525,"children":2526},{"style":331},[2527],{"type":20,"value":1029},{"type":14,"tag":307,"props":2529,"children":2530},{"style":509},[2531],{"type":20,"value":2532},"_configuration1",{"type":14,"tag":307,"props":2534,"children":2535},{"style":331},[2536],{"type":20,"value":208},{"type":14,"tag":307,"props":2538,"children":2539},{"style":509},[2540],{"type":20,"value":2541},"_configuration2",{"type":14,"tag":307,"props":2543,"children":2544},{"style":331},[2545],{"type":20,"value":1039},{"type":14,"tag":307,"props":2547,"children":2548},{"class":309,"line":725},[2549],{"type":14,"tag":307,"props":2550,"children":2551},{"style":331},[2552],{"type":20,"value":366},{"type":14,"tag":22,"props":2554,"children":2555},{},[2556],{"type":20,"value":2557},"This phase context will require an action with two parameter in a feature;",{"type":14,"tag":297,"props":2559,"children":2561},{"className":299,"code":2560,"language":301,"meta":7,"style":7},"...\npublic void Configure(LayerConfigurator configurator)\n{\n    configurator.Configure((Configuration1 configuration1, Configuration2 configuration2) =>\n    {\n        // use both objects to configure\n    });\n}\n...\n",[2562],{"type":14,"tag":28,"props":2563,"children":2564},{"__ignoreMap":7},[2565,2576,2609,2616,2669,2676,2685,2693,2700],{"type":14,"tag":307,"props":2566,"children":2567},{"class":309,"line":310},[2568,2572],{"type":14,"tag":307,"props":2569,"children":2570},{"style":515},[2571],{"type":20,"value":1861},{"type":14,"tag":307,"props":2573,"children":2574},{"style":331},[2575],{"type":20,"value":537},{"type":14,"tag":307,"props":2577,"children":2578},{"class":309,"line":342},[2579,2583,2587,2592,2596,2600,2605],{"type":14,"tag":307,"props":2580,"children":2581},{"style":314},[2582],{"type":20,"value":317},{"type":14,"tag":307,"props":2584,"children":2585},{"style":314},[2586],{"type":20,"value":950},{"type":14,"tag":307,"props":2588,"children":2589},{"style":643},[2590],{"type":20,"value":2591}," Configure",{"type":14,"tag":307,"props":2593,"children":2594},{"style":331},[2595],{"type":20,"value":1029},{"type":14,"tag":307,"props":2597,"children":2598},{"style":325},[2599],{"type":20,"value":230},{"type":14,"tag":307,"props":2601,"children":2602},{"style":509},[2603],{"type":20,"value":2604}," configurator",{"type":14,"tag":307,"props":2606,"children":2607},{"style":331},[2608],{"type":20,"value":1191},{"type":14,"tag":307,"props":2610,"children":2611},{"class":309,"line":351},[2612],{"type":14,"tag":307,"props":2613,"children":2614},{"style":331},[2615],{"type":20,"value":348},{"type":14,"tag":307,"props":2617,"children":2618},{"class":309,"line":360},[2619,2624,2628,2632,2637,2642,2647,2651,2656,2661,2665],{"type":14,"tag":307,"props":2620,"children":2621},{"style":509},[2622],{"type":20,"value":2623},"    configurator",{"type":14,"tag":307,"props":2625,"children":2626},{"style":331},[2627],{"type":20,"value":295},{"type":14,"tag":307,"props":2629,"children":2630},{"style":643},[2631],{"type":20,"value":223},{"type":14,"tag":307,"props":2633,"children":2634},{"style":331},[2635],{"type":20,"value":2636},"((",{"type":14,"tag":307,"props":2638,"children":2639},{"style":325},[2640],{"type":20,"value":2641},"Configuration1",{"type":14,"tag":307,"props":2643,"children":2644},{"style":509},[2645],{"type":20,"value":2646}," configuration1",{"type":14,"tag":307,"props":2648,"children":2649},{"style":331},[2650],{"type":20,"value":208},{"type":14,"tag":307,"props":2652,"children":2653},{"style":325},[2654],{"type":20,"value":2655},"Configuration2",{"type":14,"tag":307,"props":2657,"children":2658},{"style":509},[2659],{"type":20,"value":2660}," configuration2",{"type":14,"tag":307,"props":2662,"children":2663},{"style":331},[2664],{"type":20,"value":1598},{"type":14,"tag":307,"props":2666,"children":2667},{"style":515},[2668],{"type":20,"value":1603},{"type":14,"tag":307,"props":2670,"children":2671},{"class":309,"line":540},[2672],{"type":14,"tag":307,"props":2673,"children":2674},{"style":331},[2675],{"type":20,"value":659},{"type":14,"tag":307,"props":2677,"children":2678},{"class":309,"line":691},[2679],{"type":14,"tag":307,"props":2680,"children":2682},{"style":2681},"--shiki-default:#6A9955",[2683],{"type":20,"value":2684},"        // use both objects to configure\n",{"type":14,"tag":307,"props":2686,"children":2687},{"class":309,"line":716},[2688],{"type":14,"tag":307,"props":2689,"children":2690},{"style":331},[2691],{"type":20,"value":2692},"    });\n",{"type":14,"tag":307,"props":2694,"children":2695},{"class":309,"line":725},[2696],{"type":14,"tag":307,"props":2697,"children":2698},{"style":331},[2699],{"type":20,"value":366},{"type":14,"tag":307,"props":2701,"children":2702},{"class":309,"line":735},[2703,2707],{"type":14,"tag":307,"props":2704,"children":2705},{"style":515},[2706],{"type":20,"value":1861},{"type":14,"tag":307,"props":2708,"children":2709},{"style":331},[2710],{"type":20,"value":537},{"type":14,"tag":22,"props":2712,"children":2713},{},[2714,2716,2722],{"type":20,"value":2715},"See ",{"type":14,"tag":63,"props":2717,"children":2719},{"href":2718},"./feature",[2720],{"type":20,"value":2721},"Feature",{"type":20,"value":2723}," for more information on using layer configurators\nfor features.",{"type":14,"tag":2345,"props":2725,"children":2727},{"id":2726},"one-by-one",[2728],{"type":20,"value":2729},"One by One",{"type":14,"tag":22,"props":2731,"children":2732},{},[2733],{"type":20,"value":2734},"Below code demonstrates providing configuration objects one by one;",{"type":14,"tag":297,"props":2736,"children":2738},{"className":299,"code":2737,"language":301,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContextBuilder()\n            .Add(_configuration1)\n            .Add(_configuration2)\n            .Build()\n        ;\n}\n",[2739],{"type":14,"tag":28,"props":2740,"children":2741},{"__ignoreMap":7},[2742,2777,2784,2811,2838,2845,2884,2904,2928,2951,2966,2974],{"type":14,"tag":307,"props":2743,"children":2744},{"class":309,"line":310},[2745,2749,2753,2757,2761,2765,2769,2773],{"type":14,"tag":307,"props":2746,"children":2747},{"style":314},[2748],{"type":20,"value":317},{"type":14,"tag":307,"props":2750,"children":2751},{"style":314},[2752],{"type":20,"value":322},{"type":14,"tag":307,"props":2754,"children":2755},{"style":325},[2756],{"type":20,"value":328},{"type":14,"tag":307,"props":2758,"children":2759},{"style":331},[2760],{"type":20,"value":334},{"type":14,"tag":307,"props":2762,"children":2763},{"style":325},[2764],{"type":20,"value":293},{"type":14,"tag":307,"props":2766,"children":2767},{"style":331},[2768],{"type":20,"value":630},{"type":14,"tag":307,"props":2770,"children":2771},{"style":325},[2772],{"type":20,"value":1511},{"type":14,"tag":307,"props":2774,"children":2775},{"style":331},[2776],{"type":20,"value":1148},{"type":14,"tag":307,"props":2778,"children":2779},{"class":309,"line":342},[2780],{"type":14,"tag":307,"props":2781,"children":2782},{"style":331},[2783],{"type":20,"value":348},{"type":14,"tag":307,"props":2785,"children":2786},{"class":309,"line":351},[2787,2791,2795,2799,2803,2807],{"type":14,"tag":307,"props":2788,"children":2789},{"style":314},[2790],{"type":20,"value":1530},{"type":14,"tag":307,"props":2792,"children":2793},{"style":325},[2794],{"type":20,"value":2416},{"type":14,"tag":307,"props":2796,"children":2797},{"style":509},[2798],{"type":20,"value":2421},{"type":14,"tag":307,"props":2800,"children":2801},{"style":515},[2802],{"type":20,"value":984},{"type":14,"tag":307,"props":2804,"children":2805},{"style":314},[2806],{"type":20,"value":678},{"type":14,"tag":307,"props":2808,"children":2809},{"style":331},[2810],{"type":20,"value":688},{"type":14,"tag":307,"props":2812,"children":2813},{"class":309,"line":360},[2814,2818,2822,2826,2830,2834],{"type":14,"tag":307,"props":2815,"children":2816},{"style":314},[2817],{"type":20,"value":1530},{"type":14,"tag":307,"props":2819,"children":2820},{"style":325},[2821],{"type":20,"value":2445},{"type":14,"tag":307,"props":2823,"children":2824},{"style":509},[2825],{"type":20,"value":2450},{"type":14,"tag":307,"props":2827,"children":2828},{"style":515},[2829],{"type":20,"value":984},{"type":14,"tag":307,"props":2831,"children":2832},{"style":314},[2833],{"type":20,"value":678},{"type":14,"tag":307,"props":2835,"children":2836},{"style":331},[2837],{"type":20,"value":688},{"type":14,"tag":307,"props":2839,"children":2840},{"class":309,"line":540},[2841],{"type":14,"tag":307,"props":2842,"children":2843},{"emptyLinePlaceholder":729},[2844],{"type":20,"value":732},{"type":14,"tag":307,"props":2846,"children":2847},{"class":309,"line":691},[2848,2852,2856,2860,2864,2868,2872,2876,2880],{"type":14,"tag":307,"props":2849,"children":2850},{"style":314},[2851],{"type":20,"value":496},{"type":14,"tag":307,"props":2853,"children":2854},{"style":314},[2855],{"type":20,"value":501},{"type":14,"tag":307,"props":2857,"children":2858},{"style":325},[2859],{"type":20,"value":1575},{"type":14,"tag":307,"props":2861,"children":2862},{"style":643},[2863],{"type":20,"value":1580},{"type":14,"tag":307,"props":2865,"children":2866},{"style":331},[2867],{"type":20,"value":1029},{"type":14,"tag":307,"props":2869,"children":2870},{"style":325},[2871],{"type":20,"value":1511},{"type":14,"tag":307,"props":2873,"children":2874},{"style":509},[2875],{"type":20,"value":1593},{"type":14,"tag":307,"props":2877,"children":2878},{"style":331},[2879],{"type":20,"value":1598},{"type":14,"tag":307,"props":2881,"children":2882},{"style":515},[2883],{"type":20,"value":1603},{"type":14,"tag":307,"props":2885,"children":2886},{"class":309,"line":716},[2887,2891,2895,2900],{"type":14,"tag":307,"props":2888,"children":2889},{"style":509},[2890],{"type":20,"value":1611},{"type":14,"tag":307,"props":2892,"children":2893},{"style":331},[2894],{"type":20,"value":295},{"type":14,"tag":307,"props":2896,"children":2897},{"style":643},[2898],{"type":20,"value":2899},"CreateContextBuilder",{"type":14,"tag":307,"props":2901,"children":2902},{"style":331},[2903],{"type":20,"value":651},{"type":14,"tag":307,"props":2905,"children":2906},{"class":309,"line":725},[2907,2912,2916,2920,2924],{"type":14,"tag":307,"props":2908,"children":2909},{"style":331},[2910],{"type":20,"value":2911},"            .",{"type":14,"tag":307,"props":2913,"children":2914},{"style":643},[2915],{"type":20,"value":165},{"type":14,"tag":307,"props":2917,"children":2918},{"style":331},[2919],{"type":20,"value":1029},{"type":14,"tag":307,"props":2921,"children":2922},{"style":509},[2923],{"type":20,"value":2532},{"type":14,"tag":307,"props":2925,"children":2926},{"style":331},[2927],{"type":20,"value":1191},{"type":14,"tag":307,"props":2929,"children":2930},{"class":309,"line":735},[2931,2935,2939,2943,2947],{"type":14,"tag":307,"props":2932,"children":2933},{"style":331},[2934],{"type":20,"value":2911},{"type":14,"tag":307,"props":2936,"children":2937},{"style":643},[2938],{"type":20,"value":165},{"type":14,"tag":307,"props":2940,"children":2941},{"style":331},[2942],{"type":20,"value":1029},{"type":14,"tag":307,"props":2944,"children":2945},{"style":509},[2946],{"type":20,"value":2541},{"type":14,"tag":307,"props":2948,"children":2949},{"style":331},[2950],{"type":20,"value":1191},{"type":14,"tag":307,"props":2952,"children":2953},{"class":309,"line":766},[2954,2958,2962],{"type":14,"tag":307,"props":2955,"children":2956},{"style":331},[2957],{"type":20,"value":2911},{"type":14,"tag":307,"props":2959,"children":2960},{"style":643},[2961],{"type":20,"value":254},{"type":14,"tag":307,"props":2963,"children":2964},{"style":331},[2965],{"type":20,"value":651},{"type":14,"tag":307,"props":2967,"children":2968},{"class":309,"line":794},[2969],{"type":14,"tag":307,"props":2970,"children":2971},{"style":331},[2972],{"type":20,"value":2973},"        ;\n",{"type":14,"tag":307,"props":2975,"children":2976},{"class":309,"line":2217},[2977],{"type":14,"tag":307,"props":2978,"children":2979},{"style":331},[2980],{"type":20,"value":366},{"type":14,"tag":22,"props":2982,"children":2983},{},[2984],{"type":20,"value":2985},"This phase context will require two different actions in a feature;",{"type":14,"tag":297,"props":2987,"children":2989},{"className":299,"code":2988,"language":301,"meta":7,"style":7},"...\npublic void Configure(LayerConfigurator configurator)\n{\n    configurator.Configure((Configuration1 configuration1) =>\n    {\n        // configure one by one\n    });\n\n    configurator.Configure((Configuration2 configuration2) =>\n    {\n        // configure one by one\n    });\n}\n...\n",[2990],{"type":14,"tag":28,"props":2991,"children":2992},{"__ignoreMap":7},[2993,3004,3035,3042,3077,3084,3092,3099,3106,3141,3148,3155,3162,3169],{"type":14,"tag":307,"props":2994,"children":2995},{"class":309,"line":310},[2996,3000],{"type":14,"tag":307,"props":2997,"children":2998},{"style":515},[2999],{"type":20,"value":1861},{"type":14,"tag":307,"props":3001,"children":3002},{"style":331},[3003],{"type":20,"value":537},{"type":14,"tag":307,"props":3005,"children":3006},{"class":309,"line":342},[3007,3011,3015,3019,3023,3027,3031],{"type":14,"tag":307,"props":3008,"children":3009},{"style":314},[3010],{"type":20,"value":317},{"type":14,"tag":307,"props":3012,"children":3013},{"style":314},[3014],{"type":20,"value":950},{"type":14,"tag":307,"props":3016,"children":3017},{"style":643},[3018],{"type":20,"value":2591},{"type":14,"tag":307,"props":3020,"children":3021},{"style":331},[3022],{"type":20,"value":1029},{"type":14,"tag":307,"props":3024,"children":3025},{"style":325},[3026],{"type":20,"value":230},{"type":14,"tag":307,"props":3028,"children":3029},{"style":509},[3030],{"type":20,"value":2604},{"type":14,"tag":307,"props":3032,"children":3033},{"style":331},[3034],{"type":20,"value":1191},{"type":14,"tag":307,"props":3036,"children":3037},{"class":309,"line":351},[3038],{"type":14,"tag":307,"props":3039,"children":3040},{"style":331},[3041],{"type":20,"value":348},{"type":14,"tag":307,"props":3043,"children":3044},{"class":309,"line":360},[3045,3049,3053,3057,3061,3065,3069,3073],{"type":14,"tag":307,"props":3046,"children":3047},{"style":509},[3048],{"type":20,"value":2623},{"type":14,"tag":307,"props":3050,"children":3051},{"style":331},[3052],{"type":20,"value":295},{"type":14,"tag":307,"props":3054,"children":3055},{"style":643},[3056],{"type":20,"value":223},{"type":14,"tag":307,"props":3058,"children":3059},{"style":331},[3060],{"type":20,"value":2636},{"type":14,"tag":307,"props":3062,"children":3063},{"style":325},[3064],{"type":20,"value":2641},{"type":14,"tag":307,"props":3066,"children":3067},{"style":509},[3068],{"type":20,"value":2646},{"type":14,"tag":307,"props":3070,"children":3071},{"style":331},[3072],{"type":20,"value":1598},{"type":14,"tag":307,"props":3074,"children":3075},{"style":515},[3076],{"type":20,"value":1603},{"type":14,"tag":307,"props":3078,"children":3079},{"class":309,"line":540},[3080],{"type":14,"tag":307,"props":3081,"children":3082},{"style":331},[3083],{"type":20,"value":659},{"type":14,"tag":307,"props":3085,"children":3086},{"class":309,"line":691},[3087],{"type":14,"tag":307,"props":3088,"children":3089},{"style":2681},[3090],{"type":20,"value":3091},"        // configure one by one\n",{"type":14,"tag":307,"props":3093,"children":3094},{"class":309,"line":716},[3095],{"type":14,"tag":307,"props":3096,"children":3097},{"style":331},[3098],{"type":20,"value":2692},{"type":14,"tag":307,"props":3100,"children":3101},{"class":309,"line":725},[3102],{"type":14,"tag":307,"props":3103,"children":3104},{"emptyLinePlaceholder":729},[3105],{"type":20,"value":732},{"type":14,"tag":307,"props":3107,"children":3108},{"class":309,"line":735},[3109,3113,3117,3121,3125,3129,3133,3137],{"type":14,"tag":307,"props":3110,"children":3111},{"style":509},[3112],{"type":20,"value":2623},{"type":14,"tag":307,"props":3114,"children":3115},{"style":331},[3116],{"type":20,"value":295},{"type":14,"tag":307,"props":3118,"children":3119},{"style":643},[3120],{"type":20,"value":223},{"type":14,"tag":307,"props":3122,"children":3123},{"style":331},[3124],{"type":20,"value":2636},{"type":14,"tag":307,"props":3126,"children":3127},{"style":325},[3128],{"type":20,"value":2655},{"type":14,"tag":307,"props":3130,"children":3131},{"style":509},[3132],{"type":20,"value":2660},{"type":14,"tag":307,"props":3134,"children":3135},{"style":331},[3136],{"type":20,"value":1598},{"type":14,"tag":307,"props":3138,"children":3139},{"style":515},[3140],{"type":20,"value":1603},{"type":14,"tag":307,"props":3142,"children":3143},{"class":309,"line":766},[3144],{"type":14,"tag":307,"props":3145,"children":3146},{"style":331},[3147],{"type":20,"value":659},{"type":14,"tag":307,"props":3149,"children":3150},{"class":309,"line":794},[3151],{"type":14,"tag":307,"props":3152,"children":3153},{"style":2681},[3154],{"type":20,"value":3091},{"type":14,"tag":307,"props":3156,"children":3157},{"class":309,"line":2217},[3158],{"type":14,"tag":307,"props":3159,"children":3160},{"style":331},[3161],{"type":20,"value":2692},{"type":14,"tag":307,"props":3163,"children":3164},{"class":309,"line":2253},[3165],{"type":14,"tag":307,"props":3166,"children":3167},{"style":331},[3168],{"type":20,"value":366},{"type":14,"tag":307,"props":3170,"children":3171},{"class":309,"line":2262},[3172,3176],{"type":14,"tag":307,"props":3173,"children":3174},{"style":515},[3175],{"type":20,"value":1861},{"type":14,"tag":307,"props":3177,"children":3178},{"style":331},[3179],{"type":20,"value":537},{"type":14,"tag":368,"props":3181,"children":3182},{},[3183,3187],{"type":14,"tag":22,"props":3184,"children":3185},{},[3186],{"type":20,"value":375},{"type":14,"tag":22,"props":3188,"children":3189},{},[3190,3196,3198,3204],{"type":14,"tag":28,"props":3191,"children":3193},{"className":3192},[],[3194],{"type":20,"value":3195},"phase.CreateContext()",{"type":20,"value":3197}," is a helper method that utilizes\n",{"type":14,"tag":28,"props":3199,"children":3201},{"className":3200},[],[3202],{"type":20,"value":3203},"phase.CreateContextBuilder()",{"type":20,"value":3205}," behind the scenes.",{"type":14,"tag":2345,"props":3207,"children":3209},{"id":3208},"using-in-combination",[3210],{"type":20,"value":3211},"Using in Combination",{"type":14,"tag":22,"props":3213,"children":3214},{},[3215],{"type":20,"value":3216},"You may combine these two ways to provide configuration;",{"type":14,"tag":297,"props":3218,"children":3220},{"className":299,"code":3219,"language":301,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n    readonly Configuration3 _configuration3 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContextBuilder()\n            .Add(_configuration1, _configuration2)\n            .Add(_configuration3)\n            .Build()\n        ;\n}\n",[3221],{"type":14,"tag":28,"props":3222,"children":3223},{"__ignoreMap":7},[3224,3259,3266,3293,3320,3349,3356,3395,3414,3445,3469,3484,3491],{"type":14,"tag":307,"props":3225,"children":3226},{"class":309,"line":310},[3227,3231,3235,3239,3243,3247,3251,3255],{"type":14,"tag":307,"props":3228,"children":3229},{"style":314},[3230],{"type":20,"value":317},{"type":14,"tag":307,"props":3232,"children":3233},{"style":314},[3234],{"type":20,"value":322},{"type":14,"tag":307,"props":3236,"children":3237},{"style":325},[3238],{"type":20,"value":328},{"type":14,"tag":307,"props":3240,"children":3241},{"style":331},[3242],{"type":20,"value":334},{"type":14,"tag":307,"props":3244,"children":3245},{"style":325},[3246],{"type":20,"value":293},{"type":14,"tag":307,"props":3248,"children":3249},{"style":331},[3250],{"type":20,"value":630},{"type":14,"tag":307,"props":3252,"children":3253},{"style":325},[3254],{"type":20,"value":1511},{"type":14,"tag":307,"props":3256,"children":3257},{"style":331},[3258],{"type":20,"value":1148},{"type":14,"tag":307,"props":3260,"children":3261},{"class":309,"line":342},[3262],{"type":14,"tag":307,"props":3263,"children":3264},{"style":331},[3265],{"type":20,"value":348},{"type":14,"tag":307,"props":3267,"children":3268},{"class":309,"line":351},[3269,3273,3277,3281,3285,3289],{"type":14,"tag":307,"props":3270,"children":3271},{"style":314},[3272],{"type":20,"value":1530},{"type":14,"tag":307,"props":3274,"children":3275},{"style":325},[3276],{"type":20,"value":2416},{"type":14,"tag":307,"props":3278,"children":3279},{"style":509},[3280],{"type":20,"value":2421},{"type":14,"tag":307,"props":3282,"children":3283},{"style":515},[3284],{"type":20,"value":984},{"type":14,"tag":307,"props":3286,"children":3287},{"style":314},[3288],{"type":20,"value":678},{"type":14,"tag":307,"props":3290,"children":3291},{"style":331},[3292],{"type":20,"value":688},{"type":14,"tag":307,"props":3294,"children":3295},{"class":309,"line":360},[3296,3300,3304,3308,3312,3316],{"type":14,"tag":307,"props":3297,"children":3298},{"style":314},[3299],{"type":20,"value":1530},{"type":14,"tag":307,"props":3301,"children":3302},{"style":325},[3303],{"type":20,"value":2445},{"type":14,"tag":307,"props":3305,"children":3306},{"style":509},[3307],{"type":20,"value":2450},{"type":14,"tag":307,"props":3309,"children":3310},{"style":515},[3311],{"type":20,"value":984},{"type":14,"tag":307,"props":3313,"children":3314},{"style":314},[3315],{"type":20,"value":678},{"type":14,"tag":307,"props":3317,"children":3318},{"style":331},[3319],{"type":20,"value":688},{"type":14,"tag":307,"props":3321,"children":3322},{"class":309,"line":540},[3323,3327,3332,3337,3341,3345],{"type":14,"tag":307,"props":3324,"children":3325},{"style":314},[3326],{"type":20,"value":1530},{"type":14,"tag":307,"props":3328,"children":3329},{"style":325},[3330],{"type":20,"value":3331}," Configuration3",{"type":14,"tag":307,"props":3333,"children":3334},{"style":509},[3335],{"type":20,"value":3336}," _configuration3",{"type":14,"tag":307,"props":3338,"children":3339},{"style":515},[3340],{"type":20,"value":984},{"type":14,"tag":307,"props":3342,"children":3343},{"style":314},[3344],{"type":20,"value":678},{"type":14,"tag":307,"props":3346,"children":3347},{"style":331},[3348],{"type":20,"value":688},{"type":14,"tag":307,"props":3350,"children":3351},{"class":309,"line":691},[3352],{"type":14,"tag":307,"props":3353,"children":3354},{"emptyLinePlaceholder":729},[3355],{"type":20,"value":732},{"type":14,"tag":307,"props":3357,"children":3358},{"class":309,"line":716},[3359,3363,3367,3371,3375,3379,3383,3387,3391],{"type":14,"tag":307,"props":3360,"children":3361},{"style":314},[3362],{"type":20,"value":496},{"type":14,"tag":307,"props":3364,"children":3365},{"style":314},[3366],{"type":20,"value":501},{"type":14,"tag":307,"props":3368,"children":3369},{"style":325},[3370],{"type":20,"value":1575},{"type":14,"tag":307,"props":3372,"children":3373},{"style":643},[3374],{"type":20,"value":1580},{"type":14,"tag":307,"props":3376,"children":3377},{"style":331},[3378],{"type":20,"value":1029},{"type":14,"tag":307,"props":3380,"children":3381},{"style":325},[3382],{"type":20,"value":1511},{"type":14,"tag":307,"props":3384,"children":3385},{"style":509},[3386],{"type":20,"value":1593},{"type":14,"tag":307,"props":3388,"children":3389},{"style":331},[3390],{"type":20,"value":1598},{"type":14,"tag":307,"props":3392,"children":3393},{"style":515},[3394],{"type":20,"value":1603},{"type":14,"tag":307,"props":3396,"children":3397},{"class":309,"line":725},[3398,3402,3406,3410],{"type":14,"tag":307,"props":3399,"children":3400},{"style":509},[3401],{"type":20,"value":1611},{"type":14,"tag":307,"props":3403,"children":3404},{"style":331},[3405],{"type":20,"value":295},{"type":14,"tag":307,"props":3407,"children":3408},{"style":643},[3409],{"type":20,"value":2899},{"type":14,"tag":307,"props":3411,"children":3412},{"style":331},[3413],{"type":20,"value":651},{"type":14,"tag":307,"props":3415,"children":3416},{"class":309,"line":735},[3417,3421,3425,3429,3433,3437,3441],{"type":14,"tag":307,"props":3418,"children":3419},{"style":331},[3420],{"type":20,"value":2911},{"type":14,"tag":307,"props":3422,"children":3423},{"style":643},[3424],{"type":20,"value":165},{"type":14,"tag":307,"props":3426,"children":3427},{"style":331},[3428],{"type":20,"value":1029},{"type":14,"tag":307,"props":3430,"children":3431},{"style":509},[3432],{"type":20,"value":2532},{"type":14,"tag":307,"props":3434,"children":3435},{"style":331},[3436],{"type":20,"value":208},{"type":14,"tag":307,"props":3438,"children":3439},{"style":509},[3440],{"type":20,"value":2541},{"type":14,"tag":307,"props":3442,"children":3443},{"style":331},[3444],{"type":20,"value":1191},{"type":14,"tag":307,"props":3446,"children":3447},{"class":309,"line":766},[3448,3452,3456,3460,3465],{"type":14,"tag":307,"props":3449,"children":3450},{"style":331},[3451],{"type":20,"value":2911},{"type":14,"tag":307,"props":3453,"children":3454},{"style":643},[3455],{"type":20,"value":165},{"type":14,"tag":307,"props":3457,"children":3458},{"style":331},[3459],{"type":20,"value":1029},{"type":14,"tag":307,"props":3461,"children":3462},{"style":509},[3463],{"type":20,"value":3464},"_configuration3",{"type":14,"tag":307,"props":3466,"children":3467},{"style":331},[3468],{"type":20,"value":1191},{"type":14,"tag":307,"props":3470,"children":3471},{"class":309,"line":794},[3472,3476,3480],{"type":14,"tag":307,"props":3473,"children":3474},{"style":331},[3475],{"type":20,"value":2911},{"type":14,"tag":307,"props":3477,"children":3478},{"style":643},[3479],{"type":20,"value":254},{"type":14,"tag":307,"props":3481,"children":3482},{"style":331},[3483],{"type":20,"value":651},{"type":14,"tag":307,"props":3485,"children":3486},{"class":309,"line":2217},[3487],{"type":14,"tag":307,"props":3488,"children":3489},{"style":331},[3490],{"type":20,"value":2973},{"type":14,"tag":307,"props":3492,"children":3493},{"class":309,"line":2253},[3494],{"type":14,"tag":307,"props":3495,"children":3496},{"style":331},[3497],{"type":20,"value":366},{"type":14,"tag":22,"props":3499,"children":3500},{},[3501],{"type":20,"value":3502},"This phase context will require two different actions;",{"type":14,"tag":100,"props":3504,"children":3505},{},[3506,3517],{"type":14,"tag":104,"props":3507,"children":3508},{},[3509,3511],{"type":20,"value":3510},"For the first two configuration objects: ",{"type":14,"tag":28,"props":3512,"children":3514},{"className":3513},[],[3515],{"type":20,"value":3516},"(Configuration1 configuration1, Configuration2 configuration2)",{"type":14,"tag":104,"props":3518,"children":3519},{},[3520,3522,3528],{"type":20,"value":3521},"For the last configuration object: ",{"type":14,"tag":28,"props":3523,"children":3525},{"className":3524},[],[3526],{"type":20,"value":3527},"(Configuration3 configuration3)",{"type":20,"value":295},{"type":14,"tag":3530,"props":3531,"children":3532},"style",{},[3533],{"type":20,"value":3534},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":342,"depth":342,"links":3536},[3537,3538,3542,3547],{"id":90,"depth":342,"text":93},{"id":279,"depth":342,"text":282,"children":3539},[3540],{"id":391,"depth":351,"text":3541},"Id of a Layer",{"id":548,"depth":342,"text":551,"children":3543},[3544,3545,3546],{"id":843,"depth":351,"text":846},{"id":1074,"depth":351,"text":1077},{"id":1355,"depth":351,"text":1358},{"id":1456,"depth":342,"text":1459,"children":3548},[3549,3551,3552],{"id":1697,"depth":351,"text":3550},"Using non-generic LayerBase",{"id":1959,"depth":351,"text":1962},{"id":2335,"depth":351,"text":2338},"markdown","content:architecture:layer.md","content","architecture/layer.md","md",{},["Set"],{"content-query-hBLt6OxXWy":3561},null,1710405394161,{"sectionStore":3564,"pageStore":3581},{"sections":3565},[3566,3569,3572,3575,3578],{"_path":3567,"_dir":7,"title":3568},"/blueprints/","Blueprints",{"_path":3570,"_dir":7,"title":3571},"/features/","Features",{"_path":3573,"_dir":7,"title":3574},"/layers/","Layers",{"_path":3576,"_dir":7,"title":3577},"/architecture/","Architecture",{"_path":3579,"_dir":7,"title":3580},"/release-notes/","Release Notes",{"pages":3582},[3583,3587,3589,3590],{"_path":3576,"title":3577,"pages":3584},[3585,17,3586],"application","feature",{"_path":3588,"title":68},"/architecture/application",{"_path":4,"title":8},{"_path":3591,"title":2721},"/architecture/feature"]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:false,h3:false,h4:false,h5:false,h6:false}}},baseURL:"/",githubURL:"/mouseless/do",content:{locales:[],defaultLocale:"",integrity:1710405385001,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"slack-dark",preload:["diff","ts","js","css","java","markdown","sql","xml","json","csharp","md","bash"],highlighter:"shiki",langs:["js","jsx","json","ts","tsx","vue","css","html","vue","bash","md","mdc","yaml","diff","ts","js","css","java","markdown","sql","xml","json","csharp","md","bash"]},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>