<!DOCTYPE html><html  data-capo=""><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Layer</title>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
<link rel="stylesheet" type="text/css" href="https://brand.mouseless.codes/assets/css/default.css">
<link rel="stylesheet" href="/_nuxt/entry.r1NiT3Uo.css">
<link rel="stylesheet" href="/_nuxt/default.SuHowHi9.css">
<link rel="stylesheet" href="/_nuxt/Header.qFpqKbR9.css">
<link rel="stylesheet" href="/_nuxt/Side.CbCxvN1i.css">
<link rel="stylesheet" href="/_nuxt/Footer.ByNwmIyK.css">
<link rel="stylesheet" href="/_nuxt/_...DiHJ39y2.css">
<link rel="stylesheet" href="/_nuxt/BottomNavigation.CyL946Hp.css">
<link rel="stylesheet" href="/_nuxt/Toc.B7vAo0td.css">
<link rel="stylesheet" href="/_nuxt/ProseA.KOdrHyG9.css">
<link rel="stylesheet" href="/_nuxt/ProsePre.CchFRBtv.css">
<link rel="stylesheet" href="/_nuxt/ProseBlockquote.2WWftxDf.css">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DzrA8n9g.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BUwbsJr9.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CYY4qJMM.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CAazOjMi.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C733S48k.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DdX3FCiP.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BQ3ik6J_.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DoM0BCl-.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cssf7Bth.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BjwVFlzZ.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/of5sZTY8.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/8C0gRsju.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BnSrTpji.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BRMiWS4o.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C-v3KzvZ.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dnd51l0P.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/KM33hoV9.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ChcB7ooW.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/YYn7Ya4b.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/KKHKEYCI.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DGVYgHC_.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Bek45OQR.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/-drcbVX0.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/b04_jGjw.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BcE-jZix.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/B81ravb_.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C7rah1zz.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/LDcTujKZ.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BJv4EaOD.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C8qq0qvm.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CEwwskIr.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CBZ1kYh9.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BawjjFhV.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Djc2VM6r.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/RNkxj6d7.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BD9sP00h.js">
<link rel="prefetch" as="style" href="/_nuxt/error-404.CjGVuf6H.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Cu1S24y-.js">
<link rel="prefetch" as="style" href="/_nuxt/error-500.DFBAsgKS.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/DvPEfW8Q.js">
<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Baked (Objects)">
<meta property="og:description" content="An opinionated framework for .NET">
<meta property="og:image" content="https://baked.mouseless.codes/favicon.ico">
<meta property="og:image:width" content="50">
<meta property="og:image:height" content="50">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<meta property="og:title" content="Layer">
<meta name="description" content="Each ILayer implementation represents an internal system component of the
software you develop. A layer provides application features with configuration
of this system component so that the features can bind domain objects and
system components together.">
<meta property="og:description" content="Each ILayer implementation represents an internal system component of the
software you develop. A layer provides application features with configuration
of this system component so that the features can bind domain objects and
system components together.">
<script type="module" src="/_nuxt/DzrA8n9g.js" crossorigin></script></head><body><div id="__nuxt"><!--[--><div class="top" data-v-43e4ab6d data-v-eb8c13b1><header data-v-eb8c13b1><div class="logo" data-v-eb8c13b1><a href="/" class="" data-v-eb8c13b1><img class="baked logo" data-v-eb8c13b1></a></div><!----><a class="bars" data-v-eb8c13b1><i class="fa-solid fa-bars" data-v-eb8c13b1></i></a><nav class="" data-v-eb8c13b1><a class="close" data-v-eb8c13b1><i class="fa-solid fa-close" data-v-eb8c13b1></i></a><!--[--><a href="/recipes/" class="" data-v-eb8c13b1>Recipes</a><a href="/features/" class="" data-v-eb8c13b1>Features</a><a href="/layers/" class="" data-v-eb8c13b1>Layers</a><a href="/architecture/" class="active" data-v-eb8c13b1>Architecture</a><a href="/release-notes/" class="" data-v-eb8c13b1>Release Notes</a><!--]--><a href="https://github.com/mouseless/baked" rel="noopener noreferrer" target="_blank" data-v-eb8c13b1><i class="fa-brands fa-github" data-v-eb8c13b1></i></a></nav></header></div><div class="content" data-v-43e4ab6d><nav class="side" data-v-43e4ab6d data-v-3a8dc5b3><h4 data-v-3a8dc5b3><a data-v-3a8dc5b3>Pages</a></h4><ul class="" data-v-3a8dc5b3><li data-v-3a8dc5b3><!--[--><!--]--></li></ul></nav><article data-v-43e4ab6d><!--[--><!--[--><div class="container" data-v-162c8372><div class="content" data-v-162c8372><div class="toc-root" data-v-162c8372><h1 id="layer"><!--[-->Layer<!--]--></h1><p><!--[-->Each <code class=""><!--[-->ILayer<!--]--></code> implementation represents an internal system component of the
software you develop. A layer provides application features with configuration
of this system component so that the features can bind domain objects and
system components together.<!--]--></p><p><!--[-->Let&#39;s take relational database as an example. A relational database is treated
as an internal system component and is introduced by the <code class=""><!--[-->DataAccessLayer<!--]--></code> along
with a configuration API. This API enables a feature to map your domain entities
to database tables.<!--]--></p><p><!--[-->Another good example is the <code class=""><!--[-->HttpServerLayer<!--]--></code>. This layer introduces the ASP.NET
Core framework into your application. It provides three phases, as mentioned in
<a href="/architecture/application" class="" data-v-af122455><!--[-->Application<!--]--><!----></a>, along with <code class=""><!--[-->IMiddlewareCollection<!--]--></code> and
<code class=""><!--[-->IEndpointRouteBuilder<!--]--></code> objects as its configuration API. This way, any feature
has the ability to use a middleware or add routes to the application.<!--]--></p><h2 id="conventions"><!--[-->Conventions<!--]--></h2><p><!--[-->For a consistent developer experience, follow below conventions when
implementing a new layer;<!--]--></p><ol><!--[--><li><!--[-->Place all layer related classes under the same folder named after layer,
e.g., <code class=""><!--[-->DependencyInjection/<!--]--></code><!--]--></li><li><!--[-->Use <code class=""><!--[-->Layer<!--]--></code> suffix in layer class name, e.g.,
<code class=""><!--[-->DependencyInjection/DependencyInjectionLayer.cs<!--]--></code><!--]--></li><li><!--[-->Provide extension methods in <code class=""><!--[-->Baked<!--]--></code> namespace, e.g.,
<code class=""><!--[-->DependencyInjection/DependencyInjectionExtensions.cs<!--]--></code>;
<ol><!--[--><li><!--[--><code class=""><!--[-->Add<!--]--></code> extension to <code class=""><!--[-->List&lt;ILayer&gt;<!--]--></code>, e.g., <code class=""><!--[-->AddDependencyInjection()<!--]--></code><!--]--></li><li><!--[--><code class=""><!--[-->Get<!--]--></code> extensions to <code class=""><!--[-->ApplicationContext<!--]--></code>, e.g.,
<code class=""><!--[-->GetWebApplicationBuilder()<!--]--></code>, <code class=""><!--[-->GetWebApplication()<!--]--></code><!--]--></li><li><!--[--><code class=""><!--[-->Configure<!--]--></code> extensions to <code class=""><!--[-->LayerConfigurator<!--]--></code> per configuration
target(s), e.g., <code class=""><!--[-->ConfigureServiceCollection()<!--]--></code><!--]--></li><!--]--></ol><!--]--></li><li><!--[-->Place phase implementations as nested classes under the layer class<!--]--></li><li><!--[-->Don&#39;t use any suffix for phases and use method-like names, e.g., <code class=""><!--[-->Build<!--]--></code> and
<code class=""><!--[-->Run<!--]--></code><!--]--></li><!--]--></ol><p><!--[-->Please refer to existing layers in <a href="https://github.com/mouseless/baked" rel="nofollow" target="_blank" class="external" data-v-af122455><!--[-->github.com/mouseless/baked<!--]--><i class="fa-solid fa-arrow-up-right-from-square" data-v-af122455></i></a> for examples.<!--]--></p><h2 id="creating-a-layer"><!--[-->Creating A Layer<!--]--></h2><p><!--[-->To create a layer, create a class using above conventions and extend
<code class=""><!--[-->LayerBase<!--]--></code>.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">    ...
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="tip" data-v-52748c37><i class="fa fa-lightbulb" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->You can directly implement provided interface <code class=""><!--[-->ILayer<!--]--></code>, however we&#39;ve created
some base classes to make it easier for you to create layers. All examples
demonstrate usage of these base classes.<!--]--></p><!--]--></div></blockquote><h3 id="id-of-a-layer"><!--[--><code class=""><!--[-->Id<!--]--></code> of a Layer<!--]--></h3><p><!--[--><code class=""><!--[-->ILayer<!--]--></code> has an <code class=""><!--[-->Id<!--]--></code> property which should be a unique per <code class=""><!--[-->Application<!--]--></code>
instance. <code class=""><!--[-->LayerBase<!--]--></code> sets the <code class=""><!--[-->Id<!--]--></code> as name of the concrete class e.g.,
<code class=""><!--[-->LayerX<!--]--></code> at above example.<!--]--></p><p><!--[-->You can override its value in layer implementation class as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> string</span><span style="--shiki-default:#9CDCFE"> Id</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#CE9178"> &quot;CustomUniqueId&quot;
</span></span><span class="line" line="4"><span style="--shiki-default:#D4D4D4">    ..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><h2 id="adding-phases"><!--[-->Adding Phases<!--]--></h2><p><!--[-->By default <code class=""><!--[-->LayerBase<!--]--></code> returns no phases. To add one or more phases into the
application, you need to override <code class=""><!--[-->GetPhases()<!--]--></code> method as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> SampleLayer</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> IEnumerable</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">IPhase</span><span style="--shiki-default:#E6E6E6">&gt; </span><span style="--shiki-default:#DCDCAA">GetPhases</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="5"><span style="--shiki-default:#C586C0">        yield</span><span style="--shiki-default:#C586C0"> return</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#4EC9B0"> DoA</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span style="--shiki-default:#C586C0">        yield</span><span style="--shiki-default:#C586C0"> return</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#4EC9B0"> DoB</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#569CD6">    public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> DoA</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6"> { ... }
</span></span><span class="line" line="10"><span style="--shiki-default:#569CD6">    public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> DoB</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6"> { ... }
</span></span><span class="line" line="11"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->Here <code class=""><!--[-->SampleLayer<!--]--></code> adds two phases, <code class=""><!--[-->DoA<!--]--></code> and <code class=""><!--[-->DoB<!--]--></code>, to the application.<!--]--></p><blockquote class="tip" data-v-52748c37><i class="fa fa-lightbulb" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->By convention place the phase implementations as a nested class in the layer
it is added.<!--]--></p><!--]--></div></blockquote><h3 id="initializing-a-phase"><!--[-->Initializing a Phase<!--]--></h3><p><!--[--><code class=""><!--[-->PhaseBase<!--]--></code> class has <code class=""><!--[-->Initialize()<!--]--></code> method to override so that it can add an
object to the application context via <code class=""><!--[-->Context<!--]--></code> property. Base <code class=""><!--[-->Initialize()<!--]--></code>
method does not add any objects to the application. Below, you can see how
<code class=""><!--[-->CreateBuilder<!--]--></code> phase adds <code class=""><!--[-->WebApplicationBuilder<!--]--></code> to the context;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> CreateBuilder</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Initialize</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">        var</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#9CDCFE"> WebApplication</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateBuilder</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">build</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="tip" data-v-52748c37><i class="fa fa-lightbulb" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->You can directly implement provided interface <code class=""><!--[-->IPhase<!--]--></code>, however we&#39;ve created
some base classes to make it easier for you to create phases. All examples
demonstrate usage of these base classes.<!--]--></p><!--]--></div></blockquote><h3 id="readiness-via-dependencies"><!--[-->Readiness via Dependencies<!--]--></h3><p><!--[-->You can define context dependencies via generic <code class=""><!--[-->PhaseBase&lt;&gt;<!--]--></code> classes to make
the phase wait until context is ready to provide that dependency. For example,
<code class=""><!--[-->Build<!--]--></code> depends on the <code class=""><!--[-->WebApplicationBuilder<!--]--></code> instance as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> Build</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">WebApplicationBuilder</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Initialize</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">WebApplicationBuilder</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">        var</span><span style="--shiki-default:#9CDCFE"> app</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Build</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">app</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[--><code class=""><!--[-->PhaseBase&lt;T&gt;<!--]--></code> class requires <code class=""><!--[-->Initialize(T t)<!--]--></code> method to be implemented.<!--]--></p><blockquote class="info" data-v-52748c37><i class="fa fa-circle-info" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->You can provide more than one dependency for a phase. E.g., <code class=""><!--[-->Phase&lt;X, Y&gt;<!--]--></code>
will require <code class=""><!--[-->Initialize(X x, Y y)<!--]--></code> method to be implemented.<!--]--></p><!--]--></div></blockquote><blockquote class="warning" data-v-52748c37><i class="fa fa-warning" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->Type of the dependency provided, must be exactly the same as the type of
dependency in <code class=""><!--[-->ApplicationContext<!--]--></code>. For more information
<a href="/architecture/application#running-an-application" class="" data-v-af122455><!--[-->Running an Application<!--]--><!----></a><!--]--></p><!--]--></div></blockquote><p><!--[-->Phases can also define context dependencies from other phase artifacts. For
example <code class=""><!--[-->HttpServerLayer.Build<!--]--></code> phase can require <code class=""><!--[-->IServiceCollection<!--]--></code> which
will be provided during <code class=""><!--[-->DependencyInjectionLayer.AddServices<!--]--></code> phase.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6A9955">// DependencyInjectionLayer
</span></span><span class="line" line="2"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> AddServices</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">IServiceCollection</span><span style="--shiki-default:#9CDCFE"> _services</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">    : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">PhaseOrder</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#4EC9B0">Early</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Initialize</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="6"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_services</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">}
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#6A9955">// HttpServerLayer
</span></span><span class="line" line="12"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> Build</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">    : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">WebApplicationBuilder</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#4EC9B0">IServiceCollection</span><span style="--shiki-default:#E6E6E6">&gt;(</span><span style="--shiki-default:#4EC9B0">PhaseOrder</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#4EC9B0">Latest</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="14"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="15"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Initialize</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">WebApplicationBuilder</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#4EC9B0">IServiceCollection</span><span style="--shiki-default:#9CDCFE"> services</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="16"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="17"><span style="--shiki-default:#D4D4D4">        ..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="18"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="19"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="default" data-v-52748c37><i class="fa fa-angle-right" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->⚠️<!--]--></p><p><!--[-->This type of artifact requirement will create a dependency between phases
which results to a layer to layer dependency. In the above example <code class=""><!--[-->Build<!--]--></code>
phase will never execute unless <code class=""><!--[-->DependencyLayer<!--]--></code> is added to the application<!--]--></p><!--]--></div></blockquote><h3 id="order-of-a-phase"><!--[-->Order of a Phase<!--]--></h3><p><!--[--><code class=""><!--[-->PhaseBase<!--]--></code> classes has <code class=""><!--[-->order<!--]--></code> parameter in their constructors. Default order
is <code class=""><!--[-->PhaseOrder.Normal<!--]--></code>. If you need to change the order, pass the desired order
to this parameter as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> DoThisEarlyOn</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">    : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">PhaseOrder</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#4EC9B0">Early</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">{ }
</span></span></code><!--]--></pre><!--]--><h2 id="providing-configuration"><!--[-->Providing Configuration<!--]--></h2><p><!--[-->Layers provide configuration objects phase by phase. This means a layer can
provide two different configuration objects for two different phases. For this
reason, a layer returns <code class=""><!--[-->PhaseContext<!--]--></code> instance per phase to which it provides
configuration.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> LayerXConfiguration</span><span style="--shiki-default:#9CDCFE"> _configuration</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="6"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->In this example, you see a layer named <code class=""><!--[-->LayerX<!--]--></code> providing a
<code class=""><!--[-->LayerXConfiguration<!--]--></code> instance during <code class=""><!--[-->AddServices<!--]--></code> phase.<!--]--></p><blockquote class="info" data-v-52748c37><i class="fa fa-circle-info" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->By default, a layer returns <code class=""><!--[-->PhaseContext.Empty<!--]--></code> instance for the phases it
does not provide a configuration. This means <code class=""><!--[-->Application<!--]--></code> skips that layer
for the phases it doesn&#39;t have anything to configure.<!--]--></p><!--]--></div></blockquote><h3 id="using-non-generic-layerbase"><!--[-->Using non-generic <code class=""><!--[-->LayerBase<!--]--></code><!--]--></h3><p><!--[--><code class=""><!--[-->LayerBase&lt;&gt;<!--]--></code> classes allow up to three generic arguments. If you need to
implement a layer that has things to configure during more than three phases,
use non-generic <code class=""><!--[-->LayerBase<!--]--></code> class, override <code class=""><!--[-->GetContext(IPhase phase)<!--]--></code> method
and switch given phase according to its type;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> MyLayer</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">IPhase</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#C586C0"> switch
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">        {
</span></span><span class="line" line="6"><span style="--shiki-default:#4EC9B0">            PhaseA</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.),
</span></span><span class="line" line="7"><span style="--shiki-default:#4EC9B0">            PhaseB</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.),
</span></span><span class="line" line="8"><span style="--shiki-default:#569CD6">            _</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#569CD6"> base</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">phase</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">        };
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><h3 id="before-and-after-a-phase"><!--[-->Before and After a Phase<!--]--></h3><p><!--[-->Layers might need to do some standard stuff before and after a phase is applied
to all features for all layers. Use <code class=""><!--[-->GetContext()<!--]--></code> method to do stuff before,
and <code class=""><!--[-->onDispose:<!--]--></code> delegate to do stuff after.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> LayerXConfiguration</span><span style="--shiki-default:#9CDCFE"> _configuration</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="6"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="7"><span style="--shiki-default:#569CD6">        var</span><span style="--shiki-default:#9CDCFE"> services</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#9CDCFE"> Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Get</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">IServiceCollection</span><span style="--shiki-default:#E6E6E6">&gt;();
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#9CDCFE">        services</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddStandardStuffBefore</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration</span><span style="--shiki-default:#E6E6E6">,
</span></span><span class="line" line="12"><span style="--shiki-default:#9CDCFE">            onDispose</span><span style="--shiki-default:#E6E6E6">: () </span><span style="--shiki-default:#D4D4D4">=&gt;</span><span style="--shiki-default:#9CDCFE"> services</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddStandardStuffAfter</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">        );
</span></span><span class="line" line="14"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="15"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="info" data-v-52748c37><i class="fa fa-circle-info" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->Notice that a layer has access to the <code class=""><!--[-->ApplicationContext<!--]--></code> instance through
<code class=""><!--[-->Context<!--]--></code> property provided in <code class=""><!--[-->LayerBase<!--]--></code> base class.<!--]--></p><!--]--></div></blockquote><blockquote class="warning" data-v-52748c37><i class="fa fa-warning" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[--><code class=""><!--[-->GetContext()<!--]--></code> method is called for every layer before applying any of them
to features. And <code class=""><!--[-->onDispose:<!--]--></code> actions are called after applying these
contexts to all features.<!--]--></p><!--]--></div></blockquote><h3 id="providing-multiple-targets"><!--[-->Providing Multiple Targets<!--]--></h3><p><!--[-->It is possible to provide up to three configuration objects for the same phase.
There are two ways of providing multiple targets; at once or one by one.<!--]--></p><h4 id="at-once"><!--[-->At Once<!--]--></h4><p><!--[-->Below code demonstrates providing two configuration objects at once;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration1</span><span style="--shiki-default:#9CDCFE"> _configuration1</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration2</span><span style="--shiki-default:#9CDCFE"> _configuration2</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration1</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#9CDCFE">_configuration2</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->This phase context will require an action with two parameter in a feature;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="2"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Configure</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">LayerConfigurator</span><span style="--shiki-default:#9CDCFE"> configurator</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">    configurator</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Configure</span><span style="--shiki-default:#E6E6E6">((</span><span style="--shiki-default:#4EC9B0">Configuration1</span><span style="--shiki-default:#9CDCFE"> configuration1</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#4EC9B0">Configuration2</span><span style="--shiki-default:#9CDCFE"> configuration2</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="6"><span style="--shiki-default:#6A9955">        // use both objects to configure
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">    });
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">}
</span></span><span class="line" line="9"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span></code><!--]--></pre><!--]--><p><!--[-->See <a href="/architecture/feature" class="" data-v-af122455><!--[-->Feature<!--]--><!----></a> for more information on using layer configurators
for features.<!--]--></p><h4 id="one-by-one"><!--[-->One by One<!--]--></h4><p><!--[-->Below code demonstrates providing configuration objects one by one;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration1</span><span style="--shiki-default:#9CDCFE"> _configuration1</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration2</span><span style="--shiki-default:#9CDCFE"> _configuration2</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContextBuilder</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration1</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration2</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Build</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="11"><span style="--shiki-default:#E6E6E6">        ;
</span></span><span class="line" line="12"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->This phase context will require two different actions in a feature;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="2"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Configure</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">LayerConfigurator</span><span style="--shiki-default:#9CDCFE"> configurator</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">    configurator</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Configure</span><span style="--shiki-default:#E6E6E6">((</span><span style="--shiki-default:#4EC9B0">Configuration1</span><span style="--shiki-default:#9CDCFE"> configuration1</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="6"><span style="--shiki-default:#6A9955">        // configure one by one
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">    });
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#9CDCFE">    configurator</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Configure</span><span style="--shiki-default:#E6E6E6">((</span><span style="--shiki-default:#4EC9B0">Configuration2</span><span style="--shiki-default:#9CDCFE"> configuration2</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="11"><span style="--shiki-default:#6A9955">        // configure one by one
</span></span><span class="line" line="12"><span style="--shiki-default:#E6E6E6">    });
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">}
</span></span><span class="line" line="14"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span></code><!--]--></pre><!--]--><blockquote class="tip" data-v-52748c37><i class="fa fa-lightbulb" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[--><code class=""><!--[-->phase.CreateContext()<!--]--></code> is a helper method that utilizes
<code class=""><!--[-->phase.CreateContextBuilder()<!--]--></code> behind the scenes.<!--]--></p><!--]--></div></blockquote><h4 id="using-in-combination"><!--[-->Using in Combination<!--]--></h4><p><!--[-->You may combine these two ways to provide configuration;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration1</span><span style="--shiki-default:#9CDCFE"> _configuration1</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration2</span><span style="--shiki-default:#9CDCFE"> _configuration2</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration3</span><span style="--shiki-default:#9CDCFE"> _configuration3</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="8"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContextBuilder</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration1</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#9CDCFE">_configuration2</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration3</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="11"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Build</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="12"><span style="--shiki-default:#E6E6E6">        ;
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->This phase context will require two different actions;<!--]--></p><ol><!--[--><li><!--[-->For the first two configuration objects: <code class=""><!--[-->(Configuration1 configuration1, Configuration2 configuration2)<!--]--></code><!--]--></li><li><!--[-->For the last configuration object: <code class=""><!--[-->(Configuration3 configuration3)<!--]--></code>.<!--]--></li><!--]--></ol><style>html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></div><div class="navigation-buttons-container" data-v-162c8372 data-v-cb256488><div class="button left" data-v-cb256488><a href="/architecture/application" class="" data-v-cb256488><div class="link-text" data-v-cb256488><i class="fa-solid fa-caret-left" data-v-cb256488></i> Previous <h3 data-v-cb256488>Application</h3></div></a></div><div class="button right" data-v-cb256488><a href="/architecture/feature" class="" data-v-cb256488><div class="link-text" data-v-cb256488> Next <i class="fa-solid fa-caret-right" data-v-cb256488></i><h3 data-v-cb256488>Feature</h3></div></a></div></div></div><nav data-v-162c8372 data-v-39cd5078><h4 data-v-39cd5078><a data-v-39cd5078>On This Page</a></h4><ul class="" data-v-39cd5078><!--[--><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#conventions" class="router-link-active router-link-exact-active" data-v-39cd5078>Conventions</a><ul data-v-39cd5078><!--[--><!--]--></ul></li><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#creating-a-layer" class="router-link-active router-link-exact-active" data-v-39cd5078>Creating A Layer</a><ul data-v-39cd5078><!--[--><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#id-of-a-layer" class="router-link-active router-link-exact-active" data-v-39cd5078>Id of a Layer</a></li><!--]--></ul></li><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#adding-phases" class="router-link-active router-link-exact-active" data-v-39cd5078>Adding Phases</a><ul data-v-39cd5078><!--[--><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#initializing-a-phase" class="router-link-active router-link-exact-active" data-v-39cd5078>Initializing a Phase</a></li><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#readiness-via-dependencies" class="router-link-active router-link-exact-active" data-v-39cd5078>Readiness via Dependencies</a></li><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#order-of-a-phase" class="router-link-active router-link-exact-active" data-v-39cd5078>Order of a Phase</a></li><!--]--></ul></li><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#providing-configuration" class="router-link-active router-link-exact-active" data-v-39cd5078>Providing Configuration</a><ul data-v-39cd5078><!--[--><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#using-non-generic-layerbase" class="router-link-active router-link-exact-active" data-v-39cd5078>Using non-generic LayerBase</a></li><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#before-and-after-a-phase" class="router-link-active router-link-exact-active" data-v-39cd5078>Before and After a Phase</a></li><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#providing-multiple-targets" class="router-link-active router-link-exact-active" data-v-39cd5078>Providing Multiple Targets</a></li><!--]--></ul></li><!--]--><li data-v-39cd5078><a class="return-to-top" href="#" data-v-39cd5078>Return to top</a></li></ul></nav></div><!--]--><!--]--></article></div><div class="bottom" data-v-43e4ab6d data-v-090171b9><footer data-v-090171b9><div class="logo" data-v-090171b9><a href="/" class="" data-v-090171b9><img class="baked logo mono" data-v-090171b9></a><span data-v-090171b9>Copyright (c) 2024 Mouseless - MIT License</span></div><nav data-v-090171b9><!--[--><a href="/recipes/" class="" data-v-090171b9>Recipes</a><a href="/features/" class="" data-v-090171b9>Features</a><a href="/layers/" class="" data-v-090171b9>Layers</a><a href="/architecture/" class="" data-v-090171b9>Architecture</a><a href="/release-notes/" class="" data-v-090171b9>Release Notes</a><!--]--><a href="https://github.com/mouseless/baked" rel="noopener noreferrer" target="_blank" data-v-090171b9><i class="fa-brands fa-github" data-v-090171b9></i> /mouseless/baked</a></nav></footer></div><!--]--></div><div id="teleports"></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true">[["ShallowReactive",1],{"data":2,"state":3974,"once":3976,"_errors":3977,"serverRendered":733,"path":5,"prerenderedAt":3980,"pinia":3981},["ShallowReactive",3],{"content-query-hBLt6OxXWy":4},{"_path":5,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":9,"description":10,"body":11,"_type":3968,"_id":3969,"_source":3970,"_file":3971,"_stem":3972,"_extension":3973},"/architecture/layer","architecture",false,"","Layer","Each ILayer implementation represents an internal system component of the\nsoftware you develop. A layer provides application features with configuration\nof this system component so that the features can bind domain objects and\nsystem components together.",{"type":12,"children":13,"toc":3950},"root",[14,22,37,50,88,95,100,263,278,284,297,368,392,405,451,456,550,556,576,804,833,848,854,903,1061,1082,1088,1115,1290,1309,1340,1369,1398,1739,1767,1773,1799,1865,1871,1884,2052,2078,2108,2119,2145,2370,2376,2397,2683,2719,2746,2752,2757,2764,2769,2966,2971,3123,3136,3142,3147,3393,3398,3592,3621,3627,3632,3913,3918,3944],{"type":15,"tag":16,"props":17,"children":19},"element","h1",{"id":18},"layer",[20],{"type":21,"value":9},"text",{"type":15,"tag":23,"props":24,"children":25},"p",{},[26,28,35],{"type":21,"value":27},"Each ",{"type":15,"tag":29,"props":30,"children":32},"code",{"className":31},[],[33],{"type":21,"value":34},"ILayer",{"type":21,"value":36}," implementation represents an internal system component of the\nsoftware you develop. A layer provides application features with configuration\nof this system component so that the features can bind domain objects and\nsystem components together.",{"type":15,"tag":23,"props":38,"children":39},{},[40,42,48],{"type":21,"value":41},"Let's take relational database as an example. A relational database is treated\nas an internal system component and is introduced by the ",{"type":15,"tag":29,"props":43,"children":45},{"className":44},[],[46],{"type":21,"value":47},"DataAccessLayer",{"type":21,"value":49}," along\nwith a configuration API. This API enables a feature to map your domain entities\nto database tables.",{"type":15,"tag":23,"props":51,"children":52},{},[53,55,61,63,70,72,78,80,86],{"type":21,"value":54},"Another good example is the ",{"type":15,"tag":29,"props":56,"children":58},{"className":57},[],[59],{"type":21,"value":60},"HttpServerLayer",{"type":21,"value":62},". This layer introduces the ASP.NET\nCore framework into your application. It provides three phases, as mentioned in\n",{"type":15,"tag":64,"props":65,"children":67},"a",{"href":66},"./application",[68],{"type":21,"value":69},"Application",{"type":21,"value":71},", along with ",{"type":15,"tag":29,"props":73,"children":75},{"className":74},[],[76],{"type":21,"value":77},"IMiddlewareCollection",{"type":21,"value":79}," and\n",{"type":15,"tag":29,"props":81,"children":83},{"className":82},[],[84],{"type":21,"value":85},"IEndpointRouteBuilder",{"type":21,"value":87}," objects as its configuration API. This way, any feature\nhas the ability to use a middleware or add routes to the application.",{"type":15,"tag":89,"props":90,"children":92},"h2",{"id":91},"conventions",[93],{"type":21,"value":94},"Conventions",{"type":15,"tag":23,"props":96,"children":97},{},[98],{"type":21,"value":99},"For a consistent developer experience, follow below conventions when\nimplementing a new layer;",{"type":15,"tag":101,"props":102,"children":103},"ol",{},[104,116,134,240,245],{"type":15,"tag":105,"props":106,"children":107},"li",{},[108,110],{"type":21,"value":109},"Place all layer related classes under the same folder named after layer,\ne.g., ",{"type":15,"tag":29,"props":111,"children":113},{"className":112},[],[114],{"type":21,"value":115},"DependencyInjection/",{"type":15,"tag":105,"props":117,"children":118},{},[119,121,126,128],{"type":21,"value":120},"Use ",{"type":15,"tag":29,"props":122,"children":124},{"className":123},[],[125],{"type":21,"value":9},{"type":21,"value":127}," suffix in layer class name, e.g.,\n",{"type":15,"tag":29,"props":129,"children":131},{"className":130},[],[132],{"type":21,"value":133},"DependencyInjection/DependencyInjectionLayer.cs",{"type":15,"tag":105,"props":135,"children":136},{},[137,139,145,147,153,155],{"type":21,"value":138},"Provide extension methods in ",{"type":15,"tag":29,"props":140,"children":142},{"className":141},[],[143],{"type":21,"value":144},"Baked",{"type":21,"value":146}," namespace, e.g.,\n",{"type":15,"tag":29,"props":148,"children":150},{"className":149},[],[151],{"type":21,"value":152},"DependencyInjection/DependencyInjectionExtensions.cs",{"type":21,"value":154},";\n",{"type":15,"tag":101,"props":156,"children":157},{},[158,183,216],{"type":15,"tag":105,"props":159,"children":160},{},[161,167,169,175,177],{"type":15,"tag":29,"props":162,"children":164},{"className":163},[],[165],{"type":21,"value":166},"Add",{"type":21,"value":168}," extension to ",{"type":15,"tag":29,"props":170,"children":172},{"className":171},[],[173],{"type":21,"value":174},"List\u003CILayer>",{"type":21,"value":176},", e.g., ",{"type":15,"tag":29,"props":178,"children":180},{"className":179},[],[181],{"type":21,"value":182},"AddDependencyInjection()",{"type":15,"tag":105,"props":184,"children":185},{},[186,192,194,200,202,208,210],{"type":15,"tag":29,"props":187,"children":189},{"className":188},[],[190],{"type":21,"value":191},"Get",{"type":21,"value":193}," extensions to ",{"type":15,"tag":29,"props":195,"children":197},{"className":196},[],[198],{"type":21,"value":199},"ApplicationContext",{"type":21,"value":201},", e.g.,\n",{"type":15,"tag":29,"props":203,"children":205},{"className":204},[],[206],{"type":21,"value":207},"GetWebApplicationBuilder()",{"type":21,"value":209},", ",{"type":15,"tag":29,"props":211,"children":213},{"className":212},[],[214],{"type":21,"value":215},"GetWebApplication()",{"type":15,"tag":105,"props":217,"children":218},{},[219,225,226,232,234],{"type":15,"tag":29,"props":220,"children":222},{"className":221},[],[223],{"type":21,"value":224},"Configure",{"type":21,"value":193},{"type":15,"tag":29,"props":227,"children":229},{"className":228},[],[230],{"type":21,"value":231},"LayerConfigurator",{"type":21,"value":233}," per configuration\ntarget(s), e.g., ",{"type":15,"tag":29,"props":235,"children":237},{"className":236},[],[238],{"type":21,"value":239},"ConfigureServiceCollection()",{"type":15,"tag":105,"props":241,"children":242},{},[243],{"type":21,"value":244},"Place phase implementations as nested classes under the layer class",{"type":15,"tag":105,"props":246,"children":247},{},[248,250,256,257],{"type":21,"value":249},"Don't use any suffix for phases and use method-like names, e.g., ",{"type":15,"tag":29,"props":251,"children":253},{"className":252},[],[254],{"type":21,"value":255},"Build",{"type":21,"value":79},{"type":15,"tag":29,"props":258,"children":260},{"className":259},[],[261],{"type":21,"value":262},"Run",{"type":15,"tag":23,"props":264,"children":265},{},[266,268,276],{"type":21,"value":267},"Please refer to existing layers in ",{"type":15,"tag":64,"props":269,"children":273},{"href":270,"rel":271},"https://github.com/mouseless/baked",[272],"nofollow",[274],{"type":21,"value":275},"github.com/mouseless/baked",{"type":21,"value":277}," for examples.",{"type":15,"tag":89,"props":279,"children":281},{"id":280},"creating-a-layer",[282],{"type":21,"value":283},"Creating A Layer",{"type":15,"tag":23,"props":285,"children":286},{},[287,289,295],{"type":21,"value":288},"To create a layer, create a class using above conventions and extend\n",{"type":15,"tag":29,"props":290,"children":292},{"className":291},[],[293],{"type":21,"value":294},"LayerBase",{"type":21,"value":296},".",{"type":15,"tag":298,"props":299,"children":303},"pre",{"className":300,"code":301,"language":302,"meta":8,"style":8},"language-csharp shiki shiki-themes slack-dark","public class LayerX : LayerBase\n{\n    ...\n}\n","csharp",[304],{"type":15,"tag":29,"props":305,"children":306},{"__ignoreMap":8},[307,341,350,359],{"type":15,"tag":308,"props":309,"children":312},"span",{"class":310,"line":311},"line",1,[313,319,324,330,336],{"type":15,"tag":308,"props":314,"children":316},{"style":315},"--shiki-default:#569CD6",[317],{"type":21,"value":318},"public",{"type":15,"tag":308,"props":320,"children":321},{"style":315},[322],{"type":21,"value":323}," class",{"type":15,"tag":308,"props":325,"children":327},{"style":326},"--shiki-default:#4EC9B0",[328],{"type":21,"value":329}," LayerX",{"type":15,"tag":308,"props":331,"children":333},{"style":332},"--shiki-default:#E6E6E6",[334],{"type":21,"value":335}," : ",{"type":15,"tag":308,"props":337,"children":338},{"style":326},[339],{"type":21,"value":340},"LayerBase\n",{"type":15,"tag":308,"props":342,"children":344},{"class":310,"line":343},2,[345],{"type":15,"tag":308,"props":346,"children":347},{"style":332},[348],{"type":21,"value":349},"{\n",{"type":15,"tag":308,"props":351,"children":353},{"class":310,"line":352},3,[354],{"type":15,"tag":308,"props":355,"children":356},{"style":332},[357],{"type":21,"value":358},"    ...\n",{"type":15,"tag":308,"props":360,"children":362},{"class":310,"line":361},4,[363],{"type":15,"tag":308,"props":364,"children":365},{"style":332},[366],{"type":21,"value":367},"}\n",{"type":15,"tag":369,"props":370,"children":371},"blockquote",{},[372,380],{"type":15,"tag":23,"props":373,"children":374},{},[375],{"type":15,"tag":308,"props":376,"children":377},{},[378],{"type":21,"value":379},"!TIP",{"type":15,"tag":23,"props":381,"children":382},{},[383,385,390],{"type":21,"value":384},"You can directly implement provided interface ",{"type":15,"tag":29,"props":386,"children":388},{"className":387},[],[389],{"type":21,"value":34},{"type":21,"value":391},", however we've created\nsome base classes to make it easier for you to create layers. All examples\ndemonstrate usage of these base classes.",{"type":15,"tag":393,"props":394,"children":396},"h3",{"id":395},"id-of-a-layer",[397,403],{"type":15,"tag":29,"props":398,"children":400},{"className":399},[],[401],{"type":21,"value":402},"Id",{"type":21,"value":404}," of a Layer",{"type":15,"tag":23,"props":406,"children":407},{},[408,413,415,420,422,427,429,434,436,441,443,449],{"type":15,"tag":29,"props":409,"children":411},{"className":410},[],[412],{"type":21,"value":34},{"type":21,"value":414}," has an ",{"type":15,"tag":29,"props":416,"children":418},{"className":417},[],[419],{"type":21,"value":402},{"type":21,"value":421}," property which should be a unique per ",{"type":15,"tag":29,"props":423,"children":425},{"className":424},[],[426],{"type":21,"value":69},{"type":21,"value":428},"\ninstance. ",{"type":15,"tag":29,"props":430,"children":432},{"className":431},[],[433],{"type":21,"value":294},{"type":21,"value":435}," sets the ",{"type":15,"tag":29,"props":437,"children":439},{"className":438},[],[440],{"type":21,"value":402},{"type":21,"value":442}," as name of the concrete class e.g.,\n",{"type":15,"tag":29,"props":444,"children":446},{"className":445},[],[447],{"type":21,"value":448},"LayerX",{"type":21,"value":450}," at above example.",{"type":15,"tag":23,"props":452,"children":453},{},[454],{"type":21,"value":455},"You can override its value in layer implementation class as shown below;",{"type":15,"tag":298,"props":457,"children":459},{"className":300,"code":458,"language":302,"meta":8,"style":8},"public class LayerX : LayerBase\n{\n    protected override string Id => \"CustomUniqueId\"\n    ...\n}\n",[460],{"type":15,"tag":29,"props":461,"children":462},{"__ignoreMap":8},[463,486,493,529,542],{"type":15,"tag":308,"props":464,"children":465},{"class":310,"line":311},[466,470,474,478,482],{"type":15,"tag":308,"props":467,"children":468},{"style":315},[469],{"type":21,"value":318},{"type":15,"tag":308,"props":471,"children":472},{"style":315},[473],{"type":21,"value":323},{"type":15,"tag":308,"props":475,"children":476},{"style":326},[477],{"type":21,"value":329},{"type":15,"tag":308,"props":479,"children":480},{"style":332},[481],{"type":21,"value":335},{"type":15,"tag":308,"props":483,"children":484},{"style":326},[485],{"type":21,"value":340},{"type":15,"tag":308,"props":487,"children":488},{"class":310,"line":343},[489],{"type":15,"tag":308,"props":490,"children":491},{"style":332},[492],{"type":21,"value":349},{"type":15,"tag":308,"props":494,"children":495},{"class":310,"line":352},[496,501,506,511,517,523],{"type":15,"tag":308,"props":497,"children":498},{"style":315},[499],{"type":21,"value":500},"    protected",{"type":15,"tag":308,"props":502,"children":503},{"style":315},[504],{"type":21,"value":505}," override",{"type":15,"tag":308,"props":507,"children":508},{"style":315},[509],{"type":21,"value":510}," string",{"type":15,"tag":308,"props":512,"children":514},{"style":513},"--shiki-default:#9CDCFE",[515],{"type":21,"value":516}," Id",{"type":15,"tag":308,"props":518,"children":520},{"style":519},"--shiki-default:#D4D4D4",[521],{"type":21,"value":522}," =>",{"type":15,"tag":308,"props":524,"children":526},{"style":525},"--shiki-default:#CE9178",[527],{"type":21,"value":528}," \"CustomUniqueId\"\n",{"type":15,"tag":308,"props":530,"children":531},{"class":310,"line":361},[532,537],{"type":15,"tag":308,"props":533,"children":534},{"style":519},[535],{"type":21,"value":536},"    ..",{"type":15,"tag":308,"props":538,"children":539},{"style":332},[540],{"type":21,"value":541},".\n",{"type":15,"tag":308,"props":543,"children":545},{"class":310,"line":544},5,[546],{"type":15,"tag":308,"props":547,"children":548},{"style":332},[549],{"type":21,"value":367},{"type":15,"tag":89,"props":551,"children":553},{"id":552},"adding-phases",[554],{"type":21,"value":555},"Adding Phases",{"type":15,"tag":23,"props":557,"children":558},{},[559,561,566,568,574],{"type":21,"value":560},"By default ",{"type":15,"tag":29,"props":562,"children":564},{"className":563},[],[565],{"type":21,"value":294},{"type":21,"value":567}," returns no phases. To add one or more phases into the\napplication, you need to override ",{"type":15,"tag":29,"props":569,"children":571},{"className":570},[],[572],{"type":21,"value":573},"GetPhases()",{"type":21,"value":575}," method as shown below;",{"type":15,"tag":298,"props":577,"children":579},{"className":300,"code":578,"language":302,"meta":8,"style":8},"public class SampleLayer : LayerBase\n{\n    protected override IEnumerable\u003CIPhase> GetPhases()\n    {\n        yield return new DoA();\n        yield return new DoB();\n    }\n\n    public class DoA : PhaseBase { ... }\n    public class DoB : PhaseBase { ... }\n}\n",[580],{"type":15,"tag":29,"props":581,"children":582},{"__ignoreMap":8},[583,607,614,656,664,693,718,727,737,768,796],{"type":15,"tag":308,"props":584,"children":585},{"class":310,"line":311},[586,590,594,599,603],{"type":15,"tag":308,"props":587,"children":588},{"style":315},[589],{"type":21,"value":318},{"type":15,"tag":308,"props":591,"children":592},{"style":315},[593],{"type":21,"value":323},{"type":15,"tag":308,"props":595,"children":596},{"style":326},[597],{"type":21,"value":598}," SampleLayer",{"type":15,"tag":308,"props":600,"children":601},{"style":332},[602],{"type":21,"value":335},{"type":15,"tag":308,"props":604,"children":605},{"style":326},[606],{"type":21,"value":340},{"type":15,"tag":308,"props":608,"children":609},{"class":310,"line":343},[610],{"type":15,"tag":308,"props":611,"children":612},{"style":332},[613],{"type":21,"value":349},{"type":15,"tag":308,"props":615,"children":616},{"class":310,"line":352},[617,621,625,630,635,640,645,651],{"type":15,"tag":308,"props":618,"children":619},{"style":315},[620],{"type":21,"value":500},{"type":15,"tag":308,"props":622,"children":623},{"style":315},[624],{"type":21,"value":505},{"type":15,"tag":308,"props":626,"children":627},{"style":326},[628],{"type":21,"value":629}," IEnumerable",{"type":15,"tag":308,"props":631,"children":632},{"style":332},[633],{"type":21,"value":634},"\u003C",{"type":15,"tag":308,"props":636,"children":637},{"style":326},[638],{"type":21,"value":639},"IPhase",{"type":15,"tag":308,"props":641,"children":642},{"style":332},[643],{"type":21,"value":644},"> ",{"type":15,"tag":308,"props":646,"children":648},{"style":647},"--shiki-default:#DCDCAA",[649],{"type":21,"value":650},"GetPhases",{"type":15,"tag":308,"props":652,"children":653},{"style":332},[654],{"type":21,"value":655},"()\n",{"type":15,"tag":308,"props":657,"children":658},{"class":310,"line":361},[659],{"type":15,"tag":308,"props":660,"children":661},{"style":332},[662],{"type":21,"value":663},"    {\n",{"type":15,"tag":308,"props":665,"children":666},{"class":310,"line":544},[667,673,678,683,688],{"type":15,"tag":308,"props":668,"children":670},{"style":669},"--shiki-default:#C586C0",[671],{"type":21,"value":672},"        yield",{"type":15,"tag":308,"props":674,"children":675},{"style":669},[676],{"type":21,"value":677}," return",{"type":15,"tag":308,"props":679,"children":680},{"style":315},[681],{"type":21,"value":682}," new",{"type":15,"tag":308,"props":684,"children":685},{"style":326},[686],{"type":21,"value":687}," DoA",{"type":15,"tag":308,"props":689,"children":690},{"style":332},[691],{"type":21,"value":692},"();\n",{"type":15,"tag":308,"props":694,"children":696},{"class":310,"line":695},6,[697,701,705,709,714],{"type":15,"tag":308,"props":698,"children":699},{"style":669},[700],{"type":21,"value":672},{"type":15,"tag":308,"props":702,"children":703},{"style":669},[704],{"type":21,"value":677},{"type":15,"tag":308,"props":706,"children":707},{"style":315},[708],{"type":21,"value":682},{"type":15,"tag":308,"props":710,"children":711},{"style":326},[712],{"type":21,"value":713}," DoB",{"type":15,"tag":308,"props":715,"children":716},{"style":332},[717],{"type":21,"value":692},{"type":15,"tag":308,"props":719,"children":721},{"class":310,"line":720},7,[722],{"type":15,"tag":308,"props":723,"children":724},{"style":332},[725],{"type":21,"value":726},"    }\n",{"type":15,"tag":308,"props":728,"children":730},{"class":310,"line":729},8,[731],{"type":15,"tag":308,"props":732,"children":734},{"emptyLinePlaceholder":733},true,[735],{"type":21,"value":736},"\n",{"type":15,"tag":308,"props":738,"children":740},{"class":310,"line":739},9,[741,746,750,754,758,763],{"type":15,"tag":308,"props":742,"children":743},{"style":315},[744],{"type":21,"value":745},"    public",{"type":15,"tag":308,"props":747,"children":748},{"style":315},[749],{"type":21,"value":323},{"type":15,"tag":308,"props":751,"children":752},{"style":326},[753],{"type":21,"value":687},{"type":15,"tag":308,"props":755,"children":756},{"style":332},[757],{"type":21,"value":335},{"type":15,"tag":308,"props":759,"children":760},{"style":326},[761],{"type":21,"value":762},"PhaseBase",{"type":15,"tag":308,"props":764,"children":765},{"style":332},[766],{"type":21,"value":767}," { ... }\n",{"type":15,"tag":308,"props":769,"children":771},{"class":310,"line":770},10,[772,776,780,784,788,792],{"type":15,"tag":308,"props":773,"children":774},{"style":315},[775],{"type":21,"value":745},{"type":15,"tag":308,"props":777,"children":778},{"style":315},[779],{"type":21,"value":323},{"type":15,"tag":308,"props":781,"children":782},{"style":326},[783],{"type":21,"value":713},{"type":15,"tag":308,"props":785,"children":786},{"style":332},[787],{"type":21,"value":335},{"type":15,"tag":308,"props":789,"children":790},{"style":326},[791],{"type":21,"value":762},{"type":15,"tag":308,"props":793,"children":794},{"style":332},[795],{"type":21,"value":767},{"type":15,"tag":308,"props":797,"children":799},{"class":310,"line":798},11,[800],{"type":15,"tag":308,"props":801,"children":802},{"style":332},[803],{"type":21,"value":367},{"type":15,"tag":23,"props":805,"children":806},{},[807,809,815,817,823,825,831],{"type":21,"value":808},"Here ",{"type":15,"tag":29,"props":810,"children":812},{"className":811},[],[813],{"type":21,"value":814},"SampleLayer",{"type":21,"value":816}," adds two phases, ",{"type":15,"tag":29,"props":818,"children":820},{"className":819},[],[821],{"type":21,"value":822},"DoA",{"type":21,"value":824}," and ",{"type":15,"tag":29,"props":826,"children":828},{"className":827},[],[829],{"type":21,"value":830},"DoB",{"type":21,"value":832},", to the application.",{"type":15,"tag":369,"props":834,"children":835},{},[836,843],{"type":15,"tag":23,"props":837,"children":838},{},[839],{"type":15,"tag":308,"props":840,"children":841},{},[842],{"type":21,"value":379},{"type":15,"tag":23,"props":844,"children":845},{},[846],{"type":21,"value":847},"By convention place the phase implementations as a nested class in the layer\nit is added.",{"type":15,"tag":393,"props":849,"children":851},{"id":850},"initializing-a-phase",[852],{"type":21,"value":853},"Initializing a Phase",{"type":15,"tag":23,"props":855,"children":856},{},[857,862,864,870,872,878,880,885,887,893,895,901],{"type":15,"tag":29,"props":858,"children":860},{"className":859},[],[861],{"type":21,"value":762},{"type":21,"value":863}," class has ",{"type":15,"tag":29,"props":865,"children":867},{"className":866},[],[868],{"type":21,"value":869},"Initialize()",{"type":21,"value":871}," method to override so that it can add an\nobject to the application context via ",{"type":15,"tag":29,"props":873,"children":875},{"className":874},[],[876],{"type":21,"value":877},"Context",{"type":21,"value":879}," property. Base ",{"type":15,"tag":29,"props":881,"children":883},{"className":882},[],[884],{"type":21,"value":869},{"type":21,"value":886},"\nmethod does not add any objects to the application. Below, you can see how\n",{"type":15,"tag":29,"props":888,"children":890},{"className":889},[],[891],{"type":21,"value":892},"CreateBuilder",{"type":21,"value":894}," phase adds ",{"type":15,"tag":29,"props":896,"children":898},{"className":897},[],[899],{"type":21,"value":900},"WebApplicationBuilder",{"type":21,"value":902}," to the context;",{"type":15,"tag":298,"props":904,"children":906},{"className":300,"code":905,"language":302,"meta":8,"style":8},"public class CreateBuilder : PhaseBase\n{\n    protected override void Initialize()\n    {\n        var build = WebApplication.CreateBuilder();\n\n        Context.Add(build);\n    }\n}\n",[907],{"type":15,"tag":29,"props":908,"children":909},{"__ignoreMap":8},[910,935,942,967,974,1009,1016,1047,1054],{"type":15,"tag":308,"props":911,"children":912},{"class":310,"line":311},[913,917,921,926,930],{"type":15,"tag":308,"props":914,"children":915},{"style":315},[916],{"type":21,"value":318},{"type":15,"tag":308,"props":918,"children":919},{"style":315},[920],{"type":21,"value":323},{"type":15,"tag":308,"props":922,"children":923},{"style":326},[924],{"type":21,"value":925}," CreateBuilder",{"type":15,"tag":308,"props":927,"children":928},{"style":332},[929],{"type":21,"value":335},{"type":15,"tag":308,"props":931,"children":932},{"style":326},[933],{"type":21,"value":934},"PhaseBase\n",{"type":15,"tag":308,"props":936,"children":937},{"class":310,"line":343},[938],{"type":15,"tag":308,"props":939,"children":940},{"style":332},[941],{"type":21,"value":349},{"type":15,"tag":308,"props":943,"children":944},{"class":310,"line":352},[945,949,953,958,963],{"type":15,"tag":308,"props":946,"children":947},{"style":315},[948],{"type":21,"value":500},{"type":15,"tag":308,"props":950,"children":951},{"style":315},[952],{"type":21,"value":505},{"type":15,"tag":308,"props":954,"children":955},{"style":315},[956],{"type":21,"value":957}," void",{"type":15,"tag":308,"props":959,"children":960},{"style":647},[961],{"type":21,"value":962}," Initialize",{"type":15,"tag":308,"props":964,"children":965},{"style":332},[966],{"type":21,"value":655},{"type":15,"tag":308,"props":968,"children":969},{"class":310,"line":361},[970],{"type":15,"tag":308,"props":971,"children":972},{"style":332},[973],{"type":21,"value":663},{"type":15,"tag":308,"props":975,"children":976},{"class":310,"line":544},[977,982,987,992,997,1001,1005],{"type":15,"tag":308,"props":978,"children":979},{"style":315},[980],{"type":21,"value":981},"        var",{"type":15,"tag":308,"props":983,"children":984},{"style":513},[985],{"type":21,"value":986}," build",{"type":15,"tag":308,"props":988,"children":989},{"style":519},[990],{"type":21,"value":991}," =",{"type":15,"tag":308,"props":993,"children":994},{"style":513},[995],{"type":21,"value":996}," WebApplication",{"type":15,"tag":308,"props":998,"children":999},{"style":332},[1000],{"type":21,"value":296},{"type":15,"tag":308,"props":1002,"children":1003},{"style":647},[1004],{"type":21,"value":892},{"type":15,"tag":308,"props":1006,"children":1007},{"style":332},[1008],{"type":21,"value":692},{"type":15,"tag":308,"props":1010,"children":1011},{"class":310,"line":695},[1012],{"type":15,"tag":308,"props":1013,"children":1014},{"emptyLinePlaceholder":733},[1015],{"type":21,"value":736},{"type":15,"tag":308,"props":1017,"children":1018},{"class":310,"line":720},[1019,1024,1028,1032,1037,1042],{"type":15,"tag":308,"props":1020,"children":1021},{"style":513},[1022],{"type":21,"value":1023},"        Context",{"type":15,"tag":308,"props":1025,"children":1026},{"style":332},[1027],{"type":21,"value":296},{"type":15,"tag":308,"props":1029,"children":1030},{"style":647},[1031],{"type":21,"value":166},{"type":15,"tag":308,"props":1033,"children":1034},{"style":332},[1035],{"type":21,"value":1036},"(",{"type":15,"tag":308,"props":1038,"children":1039},{"style":513},[1040],{"type":21,"value":1041},"build",{"type":15,"tag":308,"props":1043,"children":1044},{"style":332},[1045],{"type":21,"value":1046},");\n",{"type":15,"tag":308,"props":1048,"children":1049},{"class":310,"line":729},[1050],{"type":15,"tag":308,"props":1051,"children":1052},{"style":332},[1053],{"type":21,"value":726},{"type":15,"tag":308,"props":1055,"children":1056},{"class":310,"line":739},[1057],{"type":15,"tag":308,"props":1058,"children":1059},{"style":332},[1060],{"type":21,"value":367},{"type":15,"tag":369,"props":1062,"children":1063},{},[1064,1071],{"type":15,"tag":23,"props":1065,"children":1066},{},[1067],{"type":15,"tag":308,"props":1068,"children":1069},{},[1070],{"type":21,"value":379},{"type":15,"tag":23,"props":1072,"children":1073},{},[1074,1075,1080],{"type":21,"value":384},{"type":15,"tag":29,"props":1076,"children":1078},{"className":1077},[],[1079],{"type":21,"value":639},{"type":21,"value":1081},", however we've created\nsome base classes to make it easier for you to create phases. All examples\ndemonstrate usage of these base classes.",{"type":15,"tag":393,"props":1083,"children":1085},{"id":1084},"readiness-via-dependencies",[1086],{"type":21,"value":1087},"Readiness via Dependencies",{"type":15,"tag":23,"props":1089,"children":1090},{},[1091,1093,1099,1101,1106,1108,1113],{"type":21,"value":1092},"You can define context dependencies via generic ",{"type":15,"tag":29,"props":1094,"children":1096},{"className":1095},[],[1097],{"type":21,"value":1098},"PhaseBase\u003C>",{"type":21,"value":1100}," classes to make\nthe phase wait until context is ready to provide that dependency. For example,\n",{"type":15,"tag":29,"props":1102,"children":1104},{"className":1103},[],[1105],{"type":21,"value":255},{"type":21,"value":1107}," depends on the ",{"type":15,"tag":29,"props":1109,"children":1111},{"className":1110},[],[1112],{"type":21,"value":900},{"type":21,"value":1114}," instance as shown below;",{"type":15,"tag":298,"props":1116,"children":1118},{"className":300,"code":1117,"language":302,"meta":8,"style":8},"public class Build : PhaseBase\u003CWebApplicationBuilder>\n{\n    protected override void Initialize(WebApplicationBuilder build)\n    {\n        var app = build.Build();\n\n        Context.Add(app);\n    }\n}\n",[1119],{"type":15,"tag":29,"props":1120,"children":1121},{"__ignoreMap":8},[1122,1159,1166,1202,1209,1241,1248,1276,1283],{"type":15,"tag":308,"props":1123,"children":1124},{"class":310,"line":311},[1125,1129,1133,1138,1142,1146,1150,1154],{"type":15,"tag":308,"props":1126,"children":1127},{"style":315},[1128],{"type":21,"value":318},{"type":15,"tag":308,"props":1130,"children":1131},{"style":315},[1132],{"type":21,"value":323},{"type":15,"tag":308,"props":1134,"children":1135},{"style":326},[1136],{"type":21,"value":1137}," Build",{"type":15,"tag":308,"props":1139,"children":1140},{"style":332},[1141],{"type":21,"value":335},{"type":15,"tag":308,"props":1143,"children":1144},{"style":326},[1145],{"type":21,"value":762},{"type":15,"tag":308,"props":1147,"children":1148},{"style":332},[1149],{"type":21,"value":634},{"type":15,"tag":308,"props":1151,"children":1152},{"style":326},[1153],{"type":21,"value":900},{"type":15,"tag":308,"props":1155,"children":1156},{"style":332},[1157],{"type":21,"value":1158},">\n",{"type":15,"tag":308,"props":1160,"children":1161},{"class":310,"line":343},[1162],{"type":15,"tag":308,"props":1163,"children":1164},{"style":332},[1165],{"type":21,"value":349},{"type":15,"tag":308,"props":1167,"children":1168},{"class":310,"line":352},[1169,1173,1177,1181,1185,1189,1193,1197],{"type":15,"tag":308,"props":1170,"children":1171},{"style":315},[1172],{"type":21,"value":500},{"type":15,"tag":308,"props":1174,"children":1175},{"style":315},[1176],{"type":21,"value":505},{"type":15,"tag":308,"props":1178,"children":1179},{"style":315},[1180],{"type":21,"value":957},{"type":15,"tag":308,"props":1182,"children":1183},{"style":647},[1184],{"type":21,"value":962},{"type":15,"tag":308,"props":1186,"children":1187},{"style":332},[1188],{"type":21,"value":1036},{"type":15,"tag":308,"props":1190,"children":1191},{"style":326},[1192],{"type":21,"value":900},{"type":15,"tag":308,"props":1194,"children":1195},{"style":513},[1196],{"type":21,"value":986},{"type":15,"tag":308,"props":1198,"children":1199},{"style":332},[1200],{"type":21,"value":1201},")\n",{"type":15,"tag":308,"props":1203,"children":1204},{"class":310,"line":361},[1205],{"type":15,"tag":308,"props":1206,"children":1207},{"style":332},[1208],{"type":21,"value":663},{"type":15,"tag":308,"props":1210,"children":1211},{"class":310,"line":544},[1212,1216,1221,1225,1229,1233,1237],{"type":15,"tag":308,"props":1213,"children":1214},{"style":315},[1215],{"type":21,"value":981},{"type":15,"tag":308,"props":1217,"children":1218},{"style":513},[1219],{"type":21,"value":1220}," app",{"type":15,"tag":308,"props":1222,"children":1223},{"style":519},[1224],{"type":21,"value":991},{"type":15,"tag":308,"props":1226,"children":1227},{"style":513},[1228],{"type":21,"value":986},{"type":15,"tag":308,"props":1230,"children":1231},{"style":332},[1232],{"type":21,"value":296},{"type":15,"tag":308,"props":1234,"children":1235},{"style":647},[1236],{"type":21,"value":255},{"type":15,"tag":308,"props":1238,"children":1239},{"style":332},[1240],{"type":21,"value":692},{"type":15,"tag":308,"props":1242,"children":1243},{"class":310,"line":695},[1244],{"type":15,"tag":308,"props":1245,"children":1246},{"emptyLinePlaceholder":733},[1247],{"type":21,"value":736},{"type":15,"tag":308,"props":1249,"children":1250},{"class":310,"line":720},[1251,1255,1259,1263,1267,1272],{"type":15,"tag":308,"props":1252,"children":1253},{"style":513},[1254],{"type":21,"value":1023},{"type":15,"tag":308,"props":1256,"children":1257},{"style":332},[1258],{"type":21,"value":296},{"type":15,"tag":308,"props":1260,"children":1261},{"style":647},[1262],{"type":21,"value":166},{"type":15,"tag":308,"props":1264,"children":1265},{"style":332},[1266],{"type":21,"value":1036},{"type":15,"tag":308,"props":1268,"children":1269},{"style":513},[1270],{"type":21,"value":1271},"app",{"type":15,"tag":308,"props":1273,"children":1274},{"style":332},[1275],{"type":21,"value":1046},{"type":15,"tag":308,"props":1277,"children":1278},{"class":310,"line":729},[1279],{"type":15,"tag":308,"props":1280,"children":1281},{"style":332},[1282],{"type":21,"value":726},{"type":15,"tag":308,"props":1284,"children":1285},{"class":310,"line":739},[1286],{"type":15,"tag":308,"props":1287,"children":1288},{"style":332},[1289],{"type":21,"value":367},{"type":15,"tag":23,"props":1291,"children":1292},{},[1293,1299,1301,1307],{"type":15,"tag":29,"props":1294,"children":1296},{"className":1295},[],[1297],{"type":21,"value":1298},"PhaseBase\u003CT>",{"type":21,"value":1300}," class requires ",{"type":15,"tag":29,"props":1302,"children":1304},{"className":1303},[],[1305],{"type":21,"value":1306},"Initialize(T t)",{"type":21,"value":1308}," method to be implemented.",{"type":15,"tag":369,"props":1310,"children":1311},{},[1312,1320],{"type":15,"tag":23,"props":1313,"children":1314},{},[1315],{"type":15,"tag":308,"props":1316,"children":1317},{},[1318],{"type":21,"value":1319},"!NOTE",{"type":15,"tag":23,"props":1321,"children":1322},{},[1323,1325,1331,1333,1339],{"type":21,"value":1324},"You can provide more than one dependency for a phase. E.g., ",{"type":15,"tag":29,"props":1326,"children":1328},{"className":1327},[],[1329],{"type":21,"value":1330},"Phase\u003CX, Y>",{"type":21,"value":1332},"\nwill require ",{"type":15,"tag":29,"props":1334,"children":1336},{"className":1335},[],[1337],{"type":21,"value":1338},"Initialize(X x, Y y)",{"type":21,"value":1308},{"type":15,"tag":369,"props":1341,"children":1342},{},[1343,1351],{"type":15,"tag":23,"props":1344,"children":1345},{},[1346],{"type":15,"tag":308,"props":1347,"children":1348},{},[1349],{"type":21,"value":1350},"!WARNING",{"type":15,"tag":23,"props":1352,"children":1353},{},[1354,1356,1361,1363],{"type":21,"value":1355},"Type of the dependency provided, must be exactly the same as the type of\ndependency in ",{"type":15,"tag":29,"props":1357,"children":1359},{"className":1358},[],[1360],{"type":21,"value":199},{"type":21,"value":1362},". For more information\n",{"type":15,"tag":64,"props":1364,"children":1366},{"href":1365},"../architecture/application#running-an-application",[1367],{"type":21,"value":1368},"Running an Application",{"type":15,"tag":23,"props":1370,"children":1371},{},[1372,1374,1380,1382,1388,1390,1396],{"type":21,"value":1373},"Phases can also define context dependencies from other phase artifacts. For\nexample ",{"type":15,"tag":29,"props":1375,"children":1377},{"className":1376},[],[1378],{"type":21,"value":1379},"HttpServerLayer.Build",{"type":21,"value":1381}," phase can require ",{"type":15,"tag":29,"props":1383,"children":1385},{"className":1384},[],[1386],{"type":21,"value":1387},"IServiceCollection",{"type":21,"value":1389}," which\nwill be provided during ",{"type":15,"tag":29,"props":1391,"children":1393},{"className":1392},[],[1394],{"type":21,"value":1395},"DependencyInjectionLayer.AddServices",{"type":21,"value":1397}," phase.",{"type":15,"tag":298,"props":1399,"children":1401},{"className":300,"code":1400,"language":302,"meta":8,"style":8},"// DependencyInjectionLayer\npublic class AddServices(IServiceCollection _services)\n    : PhaseBase(PhaseOrder.Early)\n{\n    protected override void Initialize()\n    {\n        Context.Add(_services);\n    }\n}\n\n// HttpServerLayer\npublic class Build()\n    : PhaseBase\u003CWebApplicationBuilder, IServiceCollection>(PhaseOrder.Latest)\n{\n    protected override void Initialize(WebApplicationBuilder build, IServiceCollection services)\n    {\n        ...\n    }\n}\n",[1402],{"type":15,"tag":29,"props":1403,"children":1404},{"__ignoreMap":8},[1405,1414,1447,1481,1488,1511,1518,1546,1553,1560,1567,1575,1595,1645,1653,1702,1710,1723,1731],{"type":15,"tag":308,"props":1406,"children":1407},{"class":310,"line":311},[1408],{"type":15,"tag":308,"props":1409,"children":1411},{"style":1410},"--shiki-default:#6A9955",[1412],{"type":21,"value":1413},"// DependencyInjectionLayer\n",{"type":15,"tag":308,"props":1415,"children":1416},{"class":310,"line":343},[1417,1421,1425,1430,1434,1438,1443],{"type":15,"tag":308,"props":1418,"children":1419},{"style":315},[1420],{"type":21,"value":318},{"type":15,"tag":308,"props":1422,"children":1423},{"style":315},[1424],{"type":21,"value":323},{"type":15,"tag":308,"props":1426,"children":1427},{"style":326},[1428],{"type":21,"value":1429}," AddServices",{"type":15,"tag":308,"props":1431,"children":1432},{"style":332},[1433],{"type":21,"value":1036},{"type":15,"tag":308,"props":1435,"children":1436},{"style":326},[1437],{"type":21,"value":1387},{"type":15,"tag":308,"props":1439,"children":1440},{"style":513},[1441],{"type":21,"value":1442}," _services",{"type":15,"tag":308,"props":1444,"children":1445},{"style":332},[1446],{"type":21,"value":1201},{"type":15,"tag":308,"props":1448,"children":1449},{"class":310,"line":352},[1450,1455,1459,1463,1468,1472,1477],{"type":15,"tag":308,"props":1451,"children":1452},{"style":332},[1453],{"type":21,"value":1454},"    : ",{"type":15,"tag":308,"props":1456,"children":1457},{"style":326},[1458],{"type":21,"value":762},{"type":15,"tag":308,"props":1460,"children":1461},{"style":332},[1462],{"type":21,"value":1036},{"type":15,"tag":308,"props":1464,"children":1465},{"style":326},[1466],{"type":21,"value":1467},"PhaseOrder",{"type":15,"tag":308,"props":1469,"children":1470},{"style":332},[1471],{"type":21,"value":296},{"type":15,"tag":308,"props":1473,"children":1474},{"style":326},[1475],{"type":21,"value":1476},"Early",{"type":15,"tag":308,"props":1478,"children":1479},{"style":332},[1480],{"type":21,"value":1201},{"type":15,"tag":308,"props":1482,"children":1483},{"class":310,"line":361},[1484],{"type":15,"tag":308,"props":1485,"children":1486},{"style":332},[1487],{"type":21,"value":349},{"type":15,"tag":308,"props":1489,"children":1490},{"class":310,"line":544},[1491,1495,1499,1503,1507],{"type":15,"tag":308,"props":1492,"children":1493},{"style":315},[1494],{"type":21,"value":500},{"type":15,"tag":308,"props":1496,"children":1497},{"style":315},[1498],{"type":21,"value":505},{"type":15,"tag":308,"props":1500,"children":1501},{"style":315},[1502],{"type":21,"value":957},{"type":15,"tag":308,"props":1504,"children":1505},{"style":647},[1506],{"type":21,"value":962},{"type":15,"tag":308,"props":1508,"children":1509},{"style":332},[1510],{"type":21,"value":655},{"type":15,"tag":308,"props":1512,"children":1513},{"class":310,"line":695},[1514],{"type":15,"tag":308,"props":1515,"children":1516},{"style":332},[1517],{"type":21,"value":663},{"type":15,"tag":308,"props":1519,"children":1520},{"class":310,"line":720},[1521,1525,1529,1533,1537,1542],{"type":15,"tag":308,"props":1522,"children":1523},{"style":513},[1524],{"type":21,"value":1023},{"type":15,"tag":308,"props":1526,"children":1527},{"style":332},[1528],{"type":21,"value":296},{"type":15,"tag":308,"props":1530,"children":1531},{"style":647},[1532],{"type":21,"value":166},{"type":15,"tag":308,"props":1534,"children":1535},{"style":332},[1536],{"type":21,"value":1036},{"type":15,"tag":308,"props":1538,"children":1539},{"style":513},[1540],{"type":21,"value":1541},"_services",{"type":15,"tag":308,"props":1543,"children":1544},{"style":332},[1545],{"type":21,"value":1046},{"type":15,"tag":308,"props":1547,"children":1548},{"class":310,"line":729},[1549],{"type":15,"tag":308,"props":1550,"children":1551},{"style":332},[1552],{"type":21,"value":726},{"type":15,"tag":308,"props":1554,"children":1555},{"class":310,"line":739},[1556],{"type":15,"tag":308,"props":1557,"children":1558},{"style":332},[1559],{"type":21,"value":367},{"type":15,"tag":308,"props":1561,"children":1562},{"class":310,"line":770},[1563],{"type":15,"tag":308,"props":1564,"children":1565},{"emptyLinePlaceholder":733},[1566],{"type":21,"value":736},{"type":15,"tag":308,"props":1568,"children":1569},{"class":310,"line":798},[1570],{"type":15,"tag":308,"props":1571,"children":1572},{"style":1410},[1573],{"type":21,"value":1574},"// HttpServerLayer\n",{"type":15,"tag":308,"props":1576,"children":1578},{"class":310,"line":1577},12,[1579,1583,1587,1591],{"type":15,"tag":308,"props":1580,"children":1581},{"style":315},[1582],{"type":21,"value":318},{"type":15,"tag":308,"props":1584,"children":1585},{"style":315},[1586],{"type":21,"value":323},{"type":15,"tag":308,"props":1588,"children":1589},{"style":326},[1590],{"type":21,"value":1137},{"type":15,"tag":308,"props":1592,"children":1593},{"style":332},[1594],{"type":21,"value":655},{"type":15,"tag":308,"props":1596,"children":1598},{"class":310,"line":1597},13,[1599,1603,1607,1611,1615,1619,1623,1628,1632,1636,1641],{"type":15,"tag":308,"props":1600,"children":1601},{"style":332},[1602],{"type":21,"value":1454},{"type":15,"tag":308,"props":1604,"children":1605},{"style":326},[1606],{"type":21,"value":762},{"type":15,"tag":308,"props":1608,"children":1609},{"style":332},[1610],{"type":21,"value":634},{"type":15,"tag":308,"props":1612,"children":1613},{"style":326},[1614],{"type":21,"value":900},{"type":15,"tag":308,"props":1616,"children":1617},{"style":332},[1618],{"type":21,"value":209},{"type":15,"tag":308,"props":1620,"children":1621},{"style":326},[1622],{"type":21,"value":1387},{"type":15,"tag":308,"props":1624,"children":1625},{"style":332},[1626],{"type":21,"value":1627},">(",{"type":15,"tag":308,"props":1629,"children":1630},{"style":326},[1631],{"type":21,"value":1467},{"type":15,"tag":308,"props":1633,"children":1634},{"style":332},[1635],{"type":21,"value":296},{"type":15,"tag":308,"props":1637,"children":1638},{"style":326},[1639],{"type":21,"value":1640},"Latest",{"type":15,"tag":308,"props":1642,"children":1643},{"style":332},[1644],{"type":21,"value":1201},{"type":15,"tag":308,"props":1646,"children":1648},{"class":310,"line":1647},14,[1649],{"type":15,"tag":308,"props":1650,"children":1651},{"style":332},[1652],{"type":21,"value":349},{"type":15,"tag":308,"props":1654,"children":1656},{"class":310,"line":1655},15,[1657,1661,1665,1669,1673,1677,1681,1685,1689,1693,1698],{"type":15,"tag":308,"props":1658,"children":1659},{"style":315},[1660],{"type":21,"value":500},{"type":15,"tag":308,"props":1662,"children":1663},{"style":315},[1664],{"type":21,"value":505},{"type":15,"tag":308,"props":1666,"children":1667},{"style":315},[1668],{"type":21,"value":957},{"type":15,"tag":308,"props":1670,"children":1671},{"style":647},[1672],{"type":21,"value":962},{"type":15,"tag":308,"props":1674,"children":1675},{"style":332},[1676],{"type":21,"value":1036},{"type":15,"tag":308,"props":1678,"children":1679},{"style":326},[1680],{"type":21,"value":900},{"type":15,"tag":308,"props":1682,"children":1683},{"style":513},[1684],{"type":21,"value":986},{"type":15,"tag":308,"props":1686,"children":1687},{"style":332},[1688],{"type":21,"value":209},{"type":15,"tag":308,"props":1690,"children":1691},{"style":326},[1692],{"type":21,"value":1387},{"type":15,"tag":308,"props":1694,"children":1695},{"style":513},[1696],{"type":21,"value":1697}," services",{"type":15,"tag":308,"props":1699,"children":1700},{"style":332},[1701],{"type":21,"value":1201},{"type":15,"tag":308,"props":1703,"children":1705},{"class":310,"line":1704},16,[1706],{"type":15,"tag":308,"props":1707,"children":1708},{"style":332},[1709],{"type":21,"value":663},{"type":15,"tag":308,"props":1711,"children":1713},{"class":310,"line":1712},17,[1714,1719],{"type":15,"tag":308,"props":1715,"children":1716},{"style":519},[1717],{"type":21,"value":1718},"        ..",{"type":15,"tag":308,"props":1720,"children":1721},{"style":332},[1722],{"type":21,"value":541},{"type":15,"tag":308,"props":1724,"children":1726},{"class":310,"line":1725},18,[1727],{"type":15,"tag":308,"props":1728,"children":1729},{"style":332},[1730],{"type":21,"value":726},{"type":15,"tag":308,"props":1732,"children":1734},{"class":310,"line":1733},19,[1735],{"type":15,"tag":308,"props":1736,"children":1737},{"style":332},[1738],{"type":21,"value":367},{"type":15,"tag":369,"props":1740,"children":1741},{},[1742,1747],{"type":15,"tag":23,"props":1743,"children":1744},{},[1745],{"type":21,"value":1746},"⚠️",{"type":15,"tag":23,"props":1748,"children":1749},{},[1750,1752,1757,1759,1765],{"type":21,"value":1751},"This type of artifact requirement will create a dependency between phases\nwhich results to a layer to layer dependency. In the above example ",{"type":15,"tag":29,"props":1753,"children":1755},{"className":1754},[],[1756],{"type":21,"value":255},{"type":21,"value":1758},"\nphase will never execute unless ",{"type":15,"tag":29,"props":1760,"children":1762},{"className":1761},[],[1763],{"type":21,"value":1764},"DependencyLayer",{"type":21,"value":1766}," is added to the application",{"type":15,"tag":393,"props":1768,"children":1770},{"id":1769},"order-of-a-phase",[1771],{"type":21,"value":1772},"Order of a Phase",{"type":15,"tag":23,"props":1774,"children":1775},{},[1776,1781,1783,1789,1791,1797],{"type":15,"tag":29,"props":1777,"children":1779},{"className":1778},[],[1780],{"type":21,"value":762},{"type":21,"value":1782}," classes has ",{"type":15,"tag":29,"props":1784,"children":1786},{"className":1785},[],[1787],{"type":21,"value":1788},"order",{"type":21,"value":1790}," parameter in their constructors. Default order\nis ",{"type":15,"tag":29,"props":1792,"children":1794},{"className":1793},[],[1795],{"type":21,"value":1796},"PhaseOrder.Normal",{"type":21,"value":1798},". If you need to change the order, pass the desired order\nto this parameter as shown below;",{"type":15,"tag":298,"props":1800,"children":1802},{"className":300,"code":1801,"language":302,"meta":8,"style":8},"public class DoThisEarlyOn()\n    : PhaseBase(PhaseOrder.Early)\n{ }\n",[1803],{"type":15,"tag":29,"props":1804,"children":1805},{"__ignoreMap":8},[1806,1826,1857],{"type":15,"tag":308,"props":1807,"children":1808},{"class":310,"line":311},[1809,1813,1817,1822],{"type":15,"tag":308,"props":1810,"children":1811},{"style":315},[1812],{"type":21,"value":318},{"type":15,"tag":308,"props":1814,"children":1815},{"style":315},[1816],{"type":21,"value":323},{"type":15,"tag":308,"props":1818,"children":1819},{"style":326},[1820],{"type":21,"value":1821}," DoThisEarlyOn",{"type":15,"tag":308,"props":1823,"children":1824},{"style":332},[1825],{"type":21,"value":655},{"type":15,"tag":308,"props":1827,"children":1828},{"class":310,"line":343},[1829,1833,1837,1841,1845,1849,1853],{"type":15,"tag":308,"props":1830,"children":1831},{"style":332},[1832],{"type":21,"value":1454},{"type":15,"tag":308,"props":1834,"children":1835},{"style":326},[1836],{"type":21,"value":762},{"type":15,"tag":308,"props":1838,"children":1839},{"style":332},[1840],{"type":21,"value":1036},{"type":15,"tag":308,"props":1842,"children":1843},{"style":326},[1844],{"type":21,"value":1467},{"type":15,"tag":308,"props":1846,"children":1847},{"style":332},[1848],{"type":21,"value":296},{"type":15,"tag":308,"props":1850,"children":1851},{"style":326},[1852],{"type":21,"value":1476},{"type":15,"tag":308,"props":1854,"children":1855},{"style":332},[1856],{"type":21,"value":1201},{"type":15,"tag":308,"props":1858,"children":1859},{"class":310,"line":352},[1860],{"type":15,"tag":308,"props":1861,"children":1862},{"style":332},[1863],{"type":21,"value":1864},"{ }\n",{"type":15,"tag":89,"props":1866,"children":1868},{"id":1867},"providing-configuration",[1869],{"type":21,"value":1870},"Providing Configuration",{"type":15,"tag":23,"props":1872,"children":1873},{},[1874,1876,1882],{"type":21,"value":1875},"Layers provide configuration objects phase by phase. This means a layer can\nprovide two different configuration objects for two different phases. For this\nreason, a layer returns ",{"type":15,"tag":29,"props":1877,"children":1879},{"className":1878},[],[1880],{"type":21,"value":1881},"PhaseContext",{"type":21,"value":1883}," instance per phase to which it provides\nconfiguration.",{"type":15,"tag":298,"props":1885,"children":1887},{"className":300,"code":1886,"language":302,"meta":8,"style":8},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly LayerXConfiguration _configuration = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContext(_configuration);\n}\n",[1888],{"type":15,"tag":29,"props":1889,"children":1890},{"__ignoreMap":8},[1891,1927,1934,1964,1971,2015,2045],{"type":15,"tag":308,"props":1892,"children":1893},{"class":310,"line":311},[1894,1898,1902,1906,1910,1914,1918,1923],{"type":15,"tag":308,"props":1895,"children":1896},{"style":315},[1897],{"type":21,"value":318},{"type":15,"tag":308,"props":1899,"children":1900},{"style":315},[1901],{"type":21,"value":323},{"type":15,"tag":308,"props":1903,"children":1904},{"style":326},[1905],{"type":21,"value":329},{"type":15,"tag":308,"props":1907,"children":1908},{"style":332},[1909],{"type":21,"value":335},{"type":15,"tag":308,"props":1911,"children":1912},{"style":326},[1913],{"type":21,"value":294},{"type":15,"tag":308,"props":1915,"children":1916},{"style":332},[1917],{"type":21,"value":634},{"type":15,"tag":308,"props":1919,"children":1920},{"style":326},[1921],{"type":21,"value":1922},"AddServices",{"type":15,"tag":308,"props":1924,"children":1925},{"style":332},[1926],{"type":21,"value":1158},{"type":15,"tag":308,"props":1928,"children":1929},{"class":310,"line":343},[1930],{"type":15,"tag":308,"props":1931,"children":1932},{"style":332},[1933],{"type":21,"value":349},{"type":15,"tag":308,"props":1935,"children":1936},{"class":310,"line":352},[1937,1942,1947,1952,1956,1960],{"type":15,"tag":308,"props":1938,"children":1939},{"style":315},[1940],{"type":21,"value":1941},"    readonly",{"type":15,"tag":308,"props":1943,"children":1944},{"style":326},[1945],{"type":21,"value":1946}," LayerXConfiguration",{"type":15,"tag":308,"props":1948,"children":1949},{"style":513},[1950],{"type":21,"value":1951}," _configuration",{"type":15,"tag":308,"props":1953,"children":1954},{"style":519},[1955],{"type":21,"value":991},{"type":15,"tag":308,"props":1957,"children":1958},{"style":315},[1959],{"type":21,"value":682},{"type":15,"tag":308,"props":1961,"children":1962},{"style":332},[1963],{"type":21,"value":692},{"type":15,"tag":308,"props":1965,"children":1966},{"class":310,"line":361},[1967],{"type":15,"tag":308,"props":1968,"children":1969},{"emptyLinePlaceholder":733},[1970],{"type":21,"value":736},{"type":15,"tag":308,"props":1972,"children":1973},{"class":310,"line":544},[1974,1978,1982,1987,1992,1996,2000,2005,2010],{"type":15,"tag":308,"props":1975,"children":1976},{"style":315},[1977],{"type":21,"value":500},{"type":15,"tag":308,"props":1979,"children":1980},{"style":315},[1981],{"type":21,"value":505},{"type":15,"tag":308,"props":1983,"children":1984},{"style":326},[1985],{"type":21,"value":1986}," PhaseContext",{"type":15,"tag":308,"props":1988,"children":1989},{"style":647},[1990],{"type":21,"value":1991}," GetContext",{"type":15,"tag":308,"props":1993,"children":1994},{"style":332},[1995],{"type":21,"value":1036},{"type":15,"tag":308,"props":1997,"children":1998},{"style":326},[1999],{"type":21,"value":1922},{"type":15,"tag":308,"props":2001,"children":2002},{"style":513},[2003],{"type":21,"value":2004}," phase",{"type":15,"tag":308,"props":2006,"children":2007},{"style":332},[2008],{"type":21,"value":2009},") ",{"type":15,"tag":308,"props":2011,"children":2012},{"style":519},[2013],{"type":21,"value":2014},"=>\n",{"type":15,"tag":308,"props":2016,"children":2017},{"class":310,"line":695},[2018,2023,2027,2032,2036,2041],{"type":15,"tag":308,"props":2019,"children":2020},{"style":513},[2021],{"type":21,"value":2022},"        phase",{"type":15,"tag":308,"props":2024,"children":2025},{"style":332},[2026],{"type":21,"value":296},{"type":15,"tag":308,"props":2028,"children":2029},{"style":647},[2030],{"type":21,"value":2031},"CreateContext",{"type":15,"tag":308,"props":2033,"children":2034},{"style":332},[2035],{"type":21,"value":1036},{"type":15,"tag":308,"props":2037,"children":2038},{"style":513},[2039],{"type":21,"value":2040},"_configuration",{"type":15,"tag":308,"props":2042,"children":2043},{"style":332},[2044],{"type":21,"value":1046},{"type":15,"tag":308,"props":2046,"children":2047},{"class":310,"line":720},[2048],{"type":15,"tag":308,"props":2049,"children":2050},{"style":332},[2051],{"type":21,"value":367},{"type":15,"tag":23,"props":2053,"children":2054},{},[2055,2057,2062,2064,2070,2072,2077],{"type":21,"value":2056},"In this example, you see a layer named ",{"type":15,"tag":29,"props":2058,"children":2060},{"className":2059},[],[2061],{"type":21,"value":448},{"type":21,"value":2063}," providing a\n",{"type":15,"tag":29,"props":2065,"children":2067},{"className":2066},[],[2068],{"type":21,"value":2069},"LayerXConfiguration",{"type":21,"value":2071}," instance during ",{"type":15,"tag":29,"props":2073,"children":2075},{"className":2074},[],[2076],{"type":21,"value":1922},{"type":21,"value":1397},{"type":15,"tag":369,"props":2079,"children":2080},{},[2081,2088],{"type":15,"tag":23,"props":2082,"children":2083},{},[2084],{"type":15,"tag":308,"props":2085,"children":2086},{},[2087],{"type":21,"value":1319},{"type":15,"tag":23,"props":2089,"children":2090},{},[2091,2093,2099,2101,2106],{"type":21,"value":2092},"By default, a layer returns ",{"type":15,"tag":29,"props":2094,"children":2096},{"className":2095},[],[2097],{"type":21,"value":2098},"PhaseContext.Empty",{"type":21,"value":2100}," instance for the phases it\ndoes not provide a configuration. This means ",{"type":15,"tag":29,"props":2102,"children":2104},{"className":2103},[],[2105],{"type":21,"value":69},{"type":21,"value":2107}," skips that layer\nfor the phases it doesn't have anything to configure.",{"type":15,"tag":393,"props":2109,"children":2111},{"id":2110},"using-non-generic-layerbase",[2112,2114],{"type":21,"value":2113},"Using non-generic ",{"type":15,"tag":29,"props":2115,"children":2117},{"className":2116},[],[2118],{"type":21,"value":294},{"type":15,"tag":23,"props":2120,"children":2121},{},[2122,2128,2130,2135,2137,2143],{"type":15,"tag":29,"props":2123,"children":2125},{"className":2124},[],[2126],{"type":21,"value":2127},"LayerBase\u003C>",{"type":21,"value":2129}," classes allow up to three generic arguments. If you need to\nimplement a layer that has things to configure during more than three phases,\nuse non-generic ",{"type":15,"tag":29,"props":2131,"children":2133},{"className":2132},[],[2134],{"type":21,"value":294},{"type":21,"value":2136}," class, override ",{"type":15,"tag":29,"props":2138,"children":2140},{"className":2139},[],[2141],{"type":21,"value":2142},"GetContext(IPhase phase)",{"type":21,"value":2144}," method\nand switch given phase according to its type;",{"type":15,"tag":298,"props":2146,"children":2148},{"className":300,"code":2147,"language":302,"meta":8,"style":8},"public class MyLayer : LayerBase\n{\n    protected override PhaseContext GetContext(IPhase phase) =>\n        phase switch\n        {\n            PhaseA => phase.CreateContext(...),\n            PhaseB => phase.CreateContext(...),\n            _ => base.GetContext(phase)\n        };\n}\n",[2149],{"type":15,"tag":29,"props":2150,"children":2151},{"__ignoreMap":8},[2152,2176,2183,2222,2234,2242,2280,2316,2355,2363],{"type":15,"tag":308,"props":2153,"children":2154},{"class":310,"line":311},[2155,2159,2163,2168,2172],{"type":15,"tag":308,"props":2156,"children":2157},{"style":315},[2158],{"type":21,"value":318},{"type":15,"tag":308,"props":2160,"children":2161},{"style":315},[2162],{"type":21,"value":323},{"type":15,"tag":308,"props":2164,"children":2165},{"style":326},[2166],{"type":21,"value":2167}," MyLayer",{"type":15,"tag":308,"props":2169,"children":2170},{"style":332},[2171],{"type":21,"value":335},{"type":15,"tag":308,"props":2173,"children":2174},{"style":326},[2175],{"type":21,"value":340},{"type":15,"tag":308,"props":2177,"children":2178},{"class":310,"line":343},[2179],{"type":15,"tag":308,"props":2180,"children":2181},{"style":332},[2182],{"type":21,"value":349},{"type":15,"tag":308,"props":2184,"children":2185},{"class":310,"line":352},[2186,2190,2194,2198,2202,2206,2210,2214,2218],{"type":15,"tag":308,"props":2187,"children":2188},{"style":315},[2189],{"type":21,"value":500},{"type":15,"tag":308,"props":2191,"children":2192},{"style":315},[2193],{"type":21,"value":505},{"type":15,"tag":308,"props":2195,"children":2196},{"style":326},[2197],{"type":21,"value":1986},{"type":15,"tag":308,"props":2199,"children":2200},{"style":647},[2201],{"type":21,"value":1991},{"type":15,"tag":308,"props":2203,"children":2204},{"style":332},[2205],{"type":21,"value":1036},{"type":15,"tag":308,"props":2207,"children":2208},{"style":326},[2209],{"type":21,"value":639},{"type":15,"tag":308,"props":2211,"children":2212},{"style":513},[2213],{"type":21,"value":2004},{"type":15,"tag":308,"props":2215,"children":2216},{"style":332},[2217],{"type":21,"value":2009},{"type":15,"tag":308,"props":2219,"children":2220},{"style":519},[2221],{"type":21,"value":2014},{"type":15,"tag":308,"props":2223,"children":2224},{"class":310,"line":361},[2225,2229],{"type":15,"tag":308,"props":2226,"children":2227},{"style":513},[2228],{"type":21,"value":2022},{"type":15,"tag":308,"props":2230,"children":2231},{"style":669},[2232],{"type":21,"value":2233}," switch\n",{"type":15,"tag":308,"props":2235,"children":2236},{"class":310,"line":544},[2237],{"type":15,"tag":308,"props":2238,"children":2239},{"style":332},[2240],{"type":21,"value":2241},"        {\n",{"type":15,"tag":308,"props":2243,"children":2244},{"class":310,"line":695},[2245,2250,2254,2258,2262,2266,2270,2275],{"type":15,"tag":308,"props":2246,"children":2247},{"style":326},[2248],{"type":21,"value":2249},"            PhaseA",{"type":15,"tag":308,"props":2251,"children":2252},{"style":519},[2253],{"type":21,"value":522},{"type":15,"tag":308,"props":2255,"children":2256},{"style":513},[2257],{"type":21,"value":2004},{"type":15,"tag":308,"props":2259,"children":2260},{"style":332},[2261],{"type":21,"value":296},{"type":15,"tag":308,"props":2263,"children":2264},{"style":647},[2265],{"type":21,"value":2031},{"type":15,"tag":308,"props":2267,"children":2268},{"style":332},[2269],{"type":21,"value":1036},{"type":15,"tag":308,"props":2271,"children":2272},{"style":519},[2273],{"type":21,"value":2274},"..",{"type":15,"tag":308,"props":2276,"children":2277},{"style":332},[2278],{"type":21,"value":2279},".),\n",{"type":15,"tag":308,"props":2281,"children":2282},{"class":310,"line":720},[2283,2288,2292,2296,2300,2304,2308,2312],{"type":15,"tag":308,"props":2284,"children":2285},{"style":326},[2286],{"type":21,"value":2287},"            PhaseB",{"type":15,"tag":308,"props":2289,"children":2290},{"style":519},[2291],{"type":21,"value":522},{"type":15,"tag":308,"props":2293,"children":2294},{"style":513},[2295],{"type":21,"value":2004},{"type":15,"tag":308,"props":2297,"children":2298},{"style":332},[2299],{"type":21,"value":296},{"type":15,"tag":308,"props":2301,"children":2302},{"style":647},[2303],{"type":21,"value":2031},{"type":15,"tag":308,"props":2305,"children":2306},{"style":332},[2307],{"type":21,"value":1036},{"type":15,"tag":308,"props":2309,"children":2310},{"style":519},[2311],{"type":21,"value":2274},{"type":15,"tag":308,"props":2313,"children":2314},{"style":332},[2315],{"type":21,"value":2279},{"type":15,"tag":308,"props":2317,"children":2318},{"class":310,"line":729},[2319,2324,2328,2333,2337,2342,2346,2351],{"type":15,"tag":308,"props":2320,"children":2321},{"style":315},[2322],{"type":21,"value":2323},"            _",{"type":15,"tag":308,"props":2325,"children":2326},{"style":519},[2327],{"type":21,"value":522},{"type":15,"tag":308,"props":2329,"children":2330},{"style":315},[2331],{"type":21,"value":2332}," base",{"type":15,"tag":308,"props":2334,"children":2335},{"style":332},[2336],{"type":21,"value":296},{"type":15,"tag":308,"props":2338,"children":2339},{"style":647},[2340],{"type":21,"value":2341},"GetContext",{"type":15,"tag":308,"props":2343,"children":2344},{"style":332},[2345],{"type":21,"value":1036},{"type":15,"tag":308,"props":2347,"children":2348},{"style":513},[2349],{"type":21,"value":2350},"phase",{"type":15,"tag":308,"props":2352,"children":2353},{"style":332},[2354],{"type":21,"value":1201},{"type":15,"tag":308,"props":2356,"children":2357},{"class":310,"line":739},[2358],{"type":15,"tag":308,"props":2359,"children":2360},{"style":332},[2361],{"type":21,"value":2362},"        };\n",{"type":15,"tag":308,"props":2364,"children":2365},{"class":310,"line":770},[2366],{"type":15,"tag":308,"props":2367,"children":2368},{"style":332},[2369],{"type":21,"value":367},{"type":15,"tag":393,"props":2371,"children":2373},{"id":2372},"before-and-after-a-phase",[2374],{"type":21,"value":2375},"Before and After a Phase",{"type":15,"tag":23,"props":2377,"children":2378},{},[2379,2381,2387,2389,2395],{"type":21,"value":2380},"Layers might need to do some standard stuff before and after a phase is applied\nto all features for all layers. Use ",{"type":15,"tag":29,"props":2382,"children":2384},{"className":2383},[],[2385],{"type":21,"value":2386},"GetContext()",{"type":21,"value":2388}," method to do stuff before,\nand ",{"type":15,"tag":29,"props":2390,"children":2392},{"className":2391},[],[2393],{"type":21,"value":2394},"onDispose:",{"type":21,"value":2396}," delegate to do stuff after.",{"type":15,"tag":298,"props":2398,"children":2400},{"className":300,"code":2399,"language":302,"meta":8,"style":8},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly LayerXConfiguration _configuration = new();\n\n    protected override PhaseContext GetContext(AddServices phase)\n    {\n        var services = Context.Get\u003CIServiceCollection>();\n\n        services.AddStandardStuffBefore();\n\n        phase.CreateContext(_configuration,\n            onDispose: () => services.AddStandardStuffAfter()\n        );\n    }\n}\n",[2401],{"type":15,"tag":29,"props":2402,"children":2403},{"__ignoreMap":8},[2404,2439,2446,2473,2480,2515,2522,2563,2570,2591,2598,2626,2661,2669,2676],{"type":15,"tag":308,"props":2405,"children":2406},{"class":310,"line":311},[2407,2411,2415,2419,2423,2427,2431,2435],{"type":15,"tag":308,"props":2408,"children":2409},{"style":315},[2410],{"type":21,"value":318},{"type":15,"tag":308,"props":2412,"children":2413},{"style":315},[2414],{"type":21,"value":323},{"type":15,"tag":308,"props":2416,"children":2417},{"style":326},[2418],{"type":21,"value":329},{"type":15,"tag":308,"props":2420,"children":2421},{"style":332},[2422],{"type":21,"value":335},{"type":15,"tag":308,"props":2424,"children":2425},{"style":326},[2426],{"type":21,"value":294},{"type":15,"tag":308,"props":2428,"children":2429},{"style":332},[2430],{"type":21,"value":634},{"type":15,"tag":308,"props":2432,"children":2433},{"style":326},[2434],{"type":21,"value":1922},{"type":15,"tag":308,"props":2436,"children":2437},{"style":332},[2438],{"type":21,"value":1158},{"type":15,"tag":308,"props":2440,"children":2441},{"class":310,"line":343},[2442],{"type":15,"tag":308,"props":2443,"children":2444},{"style":332},[2445],{"type":21,"value":349},{"type":15,"tag":308,"props":2447,"children":2448},{"class":310,"line":352},[2449,2453,2457,2461,2465,2469],{"type":15,"tag":308,"props":2450,"children":2451},{"style":315},[2452],{"type":21,"value":1941},{"type":15,"tag":308,"props":2454,"children":2455},{"style":326},[2456],{"type":21,"value":1946},{"type":15,"tag":308,"props":2458,"children":2459},{"style":513},[2460],{"type":21,"value":1951},{"type":15,"tag":308,"props":2462,"children":2463},{"style":519},[2464],{"type":21,"value":991},{"type":15,"tag":308,"props":2466,"children":2467},{"style":315},[2468],{"type":21,"value":682},{"type":15,"tag":308,"props":2470,"children":2471},{"style":332},[2472],{"type":21,"value":692},{"type":15,"tag":308,"props":2474,"children":2475},{"class":310,"line":361},[2476],{"type":15,"tag":308,"props":2477,"children":2478},{"emptyLinePlaceholder":733},[2479],{"type":21,"value":736},{"type":15,"tag":308,"props":2481,"children":2482},{"class":310,"line":544},[2483,2487,2491,2495,2499,2503,2507,2511],{"type":15,"tag":308,"props":2484,"children":2485},{"style":315},[2486],{"type":21,"value":500},{"type":15,"tag":308,"props":2488,"children":2489},{"style":315},[2490],{"type":21,"value":505},{"type":15,"tag":308,"props":2492,"children":2493},{"style":326},[2494],{"type":21,"value":1986},{"type":15,"tag":308,"props":2496,"children":2497},{"style":647},[2498],{"type":21,"value":1991},{"type":15,"tag":308,"props":2500,"children":2501},{"style":332},[2502],{"type":21,"value":1036},{"type":15,"tag":308,"props":2504,"children":2505},{"style":326},[2506],{"type":21,"value":1922},{"type":15,"tag":308,"props":2508,"children":2509},{"style":513},[2510],{"type":21,"value":2004},{"type":15,"tag":308,"props":2512,"children":2513},{"style":332},[2514],{"type":21,"value":1201},{"type":15,"tag":308,"props":2516,"children":2517},{"class":310,"line":695},[2518],{"type":15,"tag":308,"props":2519,"children":2520},{"style":332},[2521],{"type":21,"value":663},{"type":15,"tag":308,"props":2523,"children":2524},{"class":310,"line":720},[2525,2529,2533,2537,2542,2546,2550,2554,2558],{"type":15,"tag":308,"props":2526,"children":2527},{"style":315},[2528],{"type":21,"value":981},{"type":15,"tag":308,"props":2530,"children":2531},{"style":513},[2532],{"type":21,"value":1697},{"type":15,"tag":308,"props":2534,"children":2535},{"style":519},[2536],{"type":21,"value":991},{"type":15,"tag":308,"props":2538,"children":2539},{"style":513},[2540],{"type":21,"value":2541}," Context",{"type":15,"tag":308,"props":2543,"children":2544},{"style":332},[2545],{"type":21,"value":296},{"type":15,"tag":308,"props":2547,"children":2548},{"style":647},[2549],{"type":21,"value":191},{"type":15,"tag":308,"props":2551,"children":2552},{"style":332},[2553],{"type":21,"value":634},{"type":15,"tag":308,"props":2555,"children":2556},{"style":326},[2557],{"type":21,"value":1387},{"type":15,"tag":308,"props":2559,"children":2560},{"style":332},[2561],{"type":21,"value":2562},">();\n",{"type":15,"tag":308,"props":2564,"children":2565},{"class":310,"line":729},[2566],{"type":15,"tag":308,"props":2567,"children":2568},{"emptyLinePlaceholder":733},[2569],{"type":21,"value":736},{"type":15,"tag":308,"props":2571,"children":2572},{"class":310,"line":739},[2573,2578,2582,2587],{"type":15,"tag":308,"props":2574,"children":2575},{"style":513},[2576],{"type":21,"value":2577},"        services",{"type":15,"tag":308,"props":2579,"children":2580},{"style":332},[2581],{"type":21,"value":296},{"type":15,"tag":308,"props":2583,"children":2584},{"style":647},[2585],{"type":21,"value":2586},"AddStandardStuffBefore",{"type":15,"tag":308,"props":2588,"children":2589},{"style":332},[2590],{"type":21,"value":692},{"type":15,"tag":308,"props":2592,"children":2593},{"class":310,"line":770},[2594],{"type":15,"tag":308,"props":2595,"children":2596},{"emptyLinePlaceholder":733},[2597],{"type":21,"value":736},{"type":15,"tag":308,"props":2599,"children":2600},{"class":310,"line":798},[2601,2605,2609,2613,2617,2621],{"type":15,"tag":308,"props":2602,"children":2603},{"style":513},[2604],{"type":21,"value":2022},{"type":15,"tag":308,"props":2606,"children":2607},{"style":332},[2608],{"type":21,"value":296},{"type":15,"tag":308,"props":2610,"children":2611},{"style":647},[2612],{"type":21,"value":2031},{"type":15,"tag":308,"props":2614,"children":2615},{"style":332},[2616],{"type":21,"value":1036},{"type":15,"tag":308,"props":2618,"children":2619},{"style":513},[2620],{"type":21,"value":2040},{"type":15,"tag":308,"props":2622,"children":2623},{"style":332},[2624],{"type":21,"value":2625},",\n",{"type":15,"tag":308,"props":2627,"children":2628},{"class":310,"line":1577},[2629,2634,2639,2644,2648,2652,2657],{"type":15,"tag":308,"props":2630,"children":2631},{"style":513},[2632],{"type":21,"value":2633},"            onDispose",{"type":15,"tag":308,"props":2635,"children":2636},{"style":332},[2637],{"type":21,"value":2638},": () ",{"type":15,"tag":308,"props":2640,"children":2641},{"style":519},[2642],{"type":21,"value":2643},"=>",{"type":15,"tag":308,"props":2645,"children":2646},{"style":513},[2647],{"type":21,"value":1697},{"type":15,"tag":308,"props":2649,"children":2650},{"style":332},[2651],{"type":21,"value":296},{"type":15,"tag":308,"props":2653,"children":2654},{"style":647},[2655],{"type":21,"value":2656},"AddStandardStuffAfter",{"type":15,"tag":308,"props":2658,"children":2659},{"style":332},[2660],{"type":21,"value":655},{"type":15,"tag":308,"props":2662,"children":2663},{"class":310,"line":1597},[2664],{"type":15,"tag":308,"props":2665,"children":2666},{"style":332},[2667],{"type":21,"value":2668},"        );\n",{"type":15,"tag":308,"props":2670,"children":2671},{"class":310,"line":1647},[2672],{"type":15,"tag":308,"props":2673,"children":2674},{"style":332},[2675],{"type":21,"value":726},{"type":15,"tag":308,"props":2677,"children":2678},{"class":310,"line":1655},[2679],{"type":15,"tag":308,"props":2680,"children":2681},{"style":332},[2682],{"type":21,"value":367},{"type":15,"tag":369,"props":2684,"children":2685},{},[2686,2693],{"type":15,"tag":23,"props":2687,"children":2688},{},[2689],{"type":15,"tag":308,"props":2690,"children":2691},{},[2692],{"type":21,"value":1319},{"type":15,"tag":23,"props":2694,"children":2695},{},[2696,2698,2703,2705,2710,2712,2717],{"type":21,"value":2697},"Notice that a layer has access to the ",{"type":15,"tag":29,"props":2699,"children":2701},{"className":2700},[],[2702],{"type":21,"value":199},{"type":21,"value":2704}," instance through\n",{"type":15,"tag":29,"props":2706,"children":2708},{"className":2707},[],[2709],{"type":21,"value":877},{"type":21,"value":2711}," property provided in ",{"type":15,"tag":29,"props":2713,"children":2715},{"className":2714},[],[2716],{"type":21,"value":294},{"type":21,"value":2718}," base class.",{"type":15,"tag":369,"props":2720,"children":2721},{},[2722,2729],{"type":15,"tag":23,"props":2723,"children":2724},{},[2725],{"type":15,"tag":308,"props":2726,"children":2727},{},[2728],{"type":21,"value":1350},{"type":15,"tag":23,"props":2730,"children":2731},{},[2732,2737,2739,2744],{"type":15,"tag":29,"props":2733,"children":2735},{"className":2734},[],[2736],{"type":21,"value":2386},{"type":21,"value":2738}," method is called for every layer before applying any of them\nto features. And ",{"type":15,"tag":29,"props":2740,"children":2742},{"className":2741},[],[2743],{"type":21,"value":2394},{"type":21,"value":2745}," actions are called after applying these\ncontexts to all features.",{"type":15,"tag":393,"props":2747,"children":2749},{"id":2748},"providing-multiple-targets",[2750],{"type":21,"value":2751},"Providing Multiple Targets",{"type":15,"tag":23,"props":2753,"children":2754},{},[2755],{"type":21,"value":2756},"It is possible to provide up to three configuration objects for the same phase.\nThere are two ways of providing multiple targets; at once or one by one.",{"type":15,"tag":2758,"props":2759,"children":2761},"h4",{"id":2760},"at-once",[2762],{"type":21,"value":2763},"At Once",{"type":15,"tag":23,"props":2765,"children":2766},{},[2767],{"type":21,"value":2768},"Below code demonstrates providing two configuration objects at once;",{"type":15,"tag":298,"props":2770,"children":2772},{"className":300,"code":2771,"language":302,"meta":8,"style":8},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContext(_configuration1, _configuration2);\n}\n",[2773],{"type":15,"tag":29,"props":2774,"children":2775},{"__ignoreMap":8},[2776,2811,2818,2847,2876,2883,2922,2959],{"type":15,"tag":308,"props":2777,"children":2778},{"class":310,"line":311},[2779,2783,2787,2791,2795,2799,2803,2807],{"type":15,"tag":308,"props":2780,"children":2781},{"style":315},[2782],{"type":21,"value":318},{"type":15,"tag":308,"props":2784,"children":2785},{"style":315},[2786],{"type":21,"value":323},{"type":15,"tag":308,"props":2788,"children":2789},{"style":326},[2790],{"type":21,"value":329},{"type":15,"tag":308,"props":2792,"children":2793},{"style":332},[2794],{"type":21,"value":335},{"type":15,"tag":308,"props":2796,"children":2797},{"style":326},[2798],{"type":21,"value":294},{"type":15,"tag":308,"props":2800,"children":2801},{"style":332},[2802],{"type":21,"value":634},{"type":15,"tag":308,"props":2804,"children":2805},{"style":326},[2806],{"type":21,"value":1922},{"type":15,"tag":308,"props":2808,"children":2809},{"style":332},[2810],{"type":21,"value":1158},{"type":15,"tag":308,"props":2812,"children":2813},{"class":310,"line":343},[2814],{"type":15,"tag":308,"props":2815,"children":2816},{"style":332},[2817],{"type":21,"value":349},{"type":15,"tag":308,"props":2819,"children":2820},{"class":310,"line":352},[2821,2825,2830,2835,2839,2843],{"type":15,"tag":308,"props":2822,"children":2823},{"style":315},[2824],{"type":21,"value":1941},{"type":15,"tag":308,"props":2826,"children":2827},{"style":326},[2828],{"type":21,"value":2829}," Configuration1",{"type":15,"tag":308,"props":2831,"children":2832},{"style":513},[2833],{"type":21,"value":2834}," _configuration1",{"type":15,"tag":308,"props":2836,"children":2837},{"style":519},[2838],{"type":21,"value":991},{"type":15,"tag":308,"props":2840,"children":2841},{"style":315},[2842],{"type":21,"value":682},{"type":15,"tag":308,"props":2844,"children":2845},{"style":332},[2846],{"type":21,"value":692},{"type":15,"tag":308,"props":2848,"children":2849},{"class":310,"line":361},[2850,2854,2859,2864,2868,2872],{"type":15,"tag":308,"props":2851,"children":2852},{"style":315},[2853],{"type":21,"value":1941},{"type":15,"tag":308,"props":2855,"children":2856},{"style":326},[2857],{"type":21,"value":2858}," Configuration2",{"type":15,"tag":308,"props":2860,"children":2861},{"style":513},[2862],{"type":21,"value":2863}," _configuration2",{"type":15,"tag":308,"props":2865,"children":2866},{"style":519},[2867],{"type":21,"value":991},{"type":15,"tag":308,"props":2869,"children":2870},{"style":315},[2871],{"type":21,"value":682},{"type":15,"tag":308,"props":2873,"children":2874},{"style":332},[2875],{"type":21,"value":692},{"type":15,"tag":308,"props":2877,"children":2878},{"class":310,"line":544},[2879],{"type":15,"tag":308,"props":2880,"children":2881},{"emptyLinePlaceholder":733},[2882],{"type":21,"value":736},{"type":15,"tag":308,"props":2884,"children":2885},{"class":310,"line":695},[2886,2890,2894,2898,2902,2906,2910,2914,2918],{"type":15,"tag":308,"props":2887,"children":2888},{"style":315},[2889],{"type":21,"value":500},{"type":15,"tag":308,"props":2891,"children":2892},{"style":315},[2893],{"type":21,"value":505},{"type":15,"tag":308,"props":2895,"children":2896},{"style":326},[2897],{"type":21,"value":1986},{"type":15,"tag":308,"props":2899,"children":2900},{"style":647},[2901],{"type":21,"value":1991},{"type":15,"tag":308,"props":2903,"children":2904},{"style":332},[2905],{"type":21,"value":1036},{"type":15,"tag":308,"props":2907,"children":2908},{"style":326},[2909],{"type":21,"value":1922},{"type":15,"tag":308,"props":2911,"children":2912},{"style":513},[2913],{"type":21,"value":2004},{"type":15,"tag":308,"props":2915,"children":2916},{"style":332},[2917],{"type":21,"value":2009},{"type":15,"tag":308,"props":2919,"children":2920},{"style":519},[2921],{"type":21,"value":2014},{"type":15,"tag":308,"props":2923,"children":2924},{"class":310,"line":720},[2925,2929,2933,2937,2941,2946,2950,2955],{"type":15,"tag":308,"props":2926,"children":2927},{"style":513},[2928],{"type":21,"value":2022},{"type":15,"tag":308,"props":2930,"children":2931},{"style":332},[2932],{"type":21,"value":296},{"type":15,"tag":308,"props":2934,"children":2935},{"style":647},[2936],{"type":21,"value":2031},{"type":15,"tag":308,"props":2938,"children":2939},{"style":332},[2940],{"type":21,"value":1036},{"type":15,"tag":308,"props":2942,"children":2943},{"style":513},[2944],{"type":21,"value":2945},"_configuration1",{"type":15,"tag":308,"props":2947,"children":2948},{"style":332},[2949],{"type":21,"value":209},{"type":15,"tag":308,"props":2951,"children":2952},{"style":513},[2953],{"type":21,"value":2954},"_configuration2",{"type":15,"tag":308,"props":2956,"children":2957},{"style":332},[2958],{"type":21,"value":1046},{"type":15,"tag":308,"props":2960,"children":2961},{"class":310,"line":729},[2962],{"type":15,"tag":308,"props":2963,"children":2964},{"style":332},[2965],{"type":21,"value":367},{"type":15,"tag":23,"props":2967,"children":2968},{},[2969],{"type":21,"value":2970},"This phase context will require an action with two parameter in a feature;",{"type":15,"tag":298,"props":2972,"children":2974},{"className":300,"code":2973,"language":302,"meta":8,"style":8},"...\npublic void Configure(LayerConfigurator configurator)\n{\n    configurator.Configure((Configuration1 configuration1, Configuration2 configuration2) =>\n    {\n        // use both objects to configure\n    });\n}\n...\n",[2975],{"type":15,"tag":29,"props":2976,"children":2977},{"__ignoreMap":8},[2978,2989,3022,3029,3082,3089,3097,3105,3112],{"type":15,"tag":308,"props":2979,"children":2980},{"class":310,"line":311},[2981,2985],{"type":15,"tag":308,"props":2982,"children":2983},{"style":519},[2984],{"type":21,"value":2274},{"type":15,"tag":308,"props":2986,"children":2987},{"style":332},[2988],{"type":21,"value":541},{"type":15,"tag":308,"props":2990,"children":2991},{"class":310,"line":343},[2992,2996,3000,3005,3009,3013,3018],{"type":15,"tag":308,"props":2993,"children":2994},{"style":315},[2995],{"type":21,"value":318},{"type":15,"tag":308,"props":2997,"children":2998},{"style":315},[2999],{"type":21,"value":957},{"type":15,"tag":308,"props":3001,"children":3002},{"style":647},[3003],{"type":21,"value":3004}," Configure",{"type":15,"tag":308,"props":3006,"children":3007},{"style":332},[3008],{"type":21,"value":1036},{"type":15,"tag":308,"props":3010,"children":3011},{"style":326},[3012],{"type":21,"value":231},{"type":15,"tag":308,"props":3014,"children":3015},{"style":513},[3016],{"type":21,"value":3017}," configurator",{"type":15,"tag":308,"props":3019,"children":3020},{"style":332},[3021],{"type":21,"value":1201},{"type":15,"tag":308,"props":3023,"children":3024},{"class":310,"line":352},[3025],{"type":15,"tag":308,"props":3026,"children":3027},{"style":332},[3028],{"type":21,"value":349},{"type":15,"tag":308,"props":3030,"children":3031},{"class":310,"line":361},[3032,3037,3041,3045,3050,3055,3060,3064,3069,3074,3078],{"type":15,"tag":308,"props":3033,"children":3034},{"style":513},[3035],{"type":21,"value":3036},"    configurator",{"type":15,"tag":308,"props":3038,"children":3039},{"style":332},[3040],{"type":21,"value":296},{"type":15,"tag":308,"props":3042,"children":3043},{"style":647},[3044],{"type":21,"value":224},{"type":15,"tag":308,"props":3046,"children":3047},{"style":332},[3048],{"type":21,"value":3049},"((",{"type":15,"tag":308,"props":3051,"children":3052},{"style":326},[3053],{"type":21,"value":3054},"Configuration1",{"type":15,"tag":308,"props":3056,"children":3057},{"style":513},[3058],{"type":21,"value":3059}," configuration1",{"type":15,"tag":308,"props":3061,"children":3062},{"style":332},[3063],{"type":21,"value":209},{"type":15,"tag":308,"props":3065,"children":3066},{"style":326},[3067],{"type":21,"value":3068},"Configuration2",{"type":15,"tag":308,"props":3070,"children":3071},{"style":513},[3072],{"type":21,"value":3073}," configuration2",{"type":15,"tag":308,"props":3075,"children":3076},{"style":332},[3077],{"type":21,"value":2009},{"type":15,"tag":308,"props":3079,"children":3080},{"style":519},[3081],{"type":21,"value":2014},{"type":15,"tag":308,"props":3083,"children":3084},{"class":310,"line":544},[3085],{"type":15,"tag":308,"props":3086,"children":3087},{"style":332},[3088],{"type":21,"value":663},{"type":15,"tag":308,"props":3090,"children":3091},{"class":310,"line":695},[3092],{"type":15,"tag":308,"props":3093,"children":3094},{"style":1410},[3095],{"type":21,"value":3096},"        // use both objects to configure\n",{"type":15,"tag":308,"props":3098,"children":3099},{"class":310,"line":720},[3100],{"type":15,"tag":308,"props":3101,"children":3102},{"style":332},[3103],{"type":21,"value":3104},"    });\n",{"type":15,"tag":308,"props":3106,"children":3107},{"class":310,"line":729},[3108],{"type":15,"tag":308,"props":3109,"children":3110},{"style":332},[3111],{"type":21,"value":367},{"type":15,"tag":308,"props":3113,"children":3114},{"class":310,"line":739},[3115,3119],{"type":15,"tag":308,"props":3116,"children":3117},{"style":519},[3118],{"type":21,"value":2274},{"type":15,"tag":308,"props":3120,"children":3121},{"style":332},[3122],{"type":21,"value":541},{"type":15,"tag":23,"props":3124,"children":3125},{},[3126,3128,3134],{"type":21,"value":3127},"See ",{"type":15,"tag":64,"props":3129,"children":3131},{"href":3130},"./feature",[3132],{"type":21,"value":3133},"Feature",{"type":21,"value":3135}," for more information on using layer configurators\nfor features.",{"type":15,"tag":2758,"props":3137,"children":3139},{"id":3138},"one-by-one",[3140],{"type":21,"value":3141},"One by One",{"type":15,"tag":23,"props":3143,"children":3144},{},[3145],{"type":21,"value":3146},"Below code demonstrates providing configuration objects one by one;",{"type":15,"tag":298,"props":3148,"children":3150},{"className":300,"code":3149,"language":302,"meta":8,"style":8},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContextBuilder()\n            .Add(_configuration1)\n            .Add(_configuration2)\n            .Build()\n        ;\n}\n",[3151],{"type":15,"tag":29,"props":3152,"children":3153},{"__ignoreMap":8},[3154,3189,3196,3223,3250,3257,3296,3316,3340,3363,3378,3386],{"type":15,"tag":308,"props":3155,"children":3156},{"class":310,"line":311},[3157,3161,3165,3169,3173,3177,3181,3185],{"type":15,"tag":308,"props":3158,"children":3159},{"style":315},[3160],{"type":21,"value":318},{"type":15,"tag":308,"props":3162,"children":3163},{"style":315},[3164],{"type":21,"value":323},{"type":15,"tag":308,"props":3166,"children":3167},{"style":326},[3168],{"type":21,"value":329},{"type":15,"tag":308,"props":3170,"children":3171},{"style":332},[3172],{"type":21,"value":335},{"type":15,"tag":308,"props":3174,"children":3175},{"style":326},[3176],{"type":21,"value":294},{"type":15,"tag":308,"props":3178,"children":3179},{"style":332},[3180],{"type":21,"value":634},{"type":15,"tag":308,"props":3182,"children":3183},{"style":326},[3184],{"type":21,"value":1922},{"type":15,"tag":308,"props":3186,"children":3187},{"style":332},[3188],{"type":21,"value":1158},{"type":15,"tag":308,"props":3190,"children":3191},{"class":310,"line":343},[3192],{"type":15,"tag":308,"props":3193,"children":3194},{"style":332},[3195],{"type":21,"value":349},{"type":15,"tag":308,"props":3197,"children":3198},{"class":310,"line":352},[3199,3203,3207,3211,3215,3219],{"type":15,"tag":308,"props":3200,"children":3201},{"style":315},[3202],{"type":21,"value":1941},{"type":15,"tag":308,"props":3204,"children":3205},{"style":326},[3206],{"type":21,"value":2829},{"type":15,"tag":308,"props":3208,"children":3209},{"style":513},[3210],{"type":21,"value":2834},{"type":15,"tag":308,"props":3212,"children":3213},{"style":519},[3214],{"type":21,"value":991},{"type":15,"tag":308,"props":3216,"children":3217},{"style":315},[3218],{"type":21,"value":682},{"type":15,"tag":308,"props":3220,"children":3221},{"style":332},[3222],{"type":21,"value":692},{"type":15,"tag":308,"props":3224,"children":3225},{"class":310,"line":361},[3226,3230,3234,3238,3242,3246],{"type":15,"tag":308,"props":3227,"children":3228},{"style":315},[3229],{"type":21,"value":1941},{"type":15,"tag":308,"props":3231,"children":3232},{"style":326},[3233],{"type":21,"value":2858},{"type":15,"tag":308,"props":3235,"children":3236},{"style":513},[3237],{"type":21,"value":2863},{"type":15,"tag":308,"props":3239,"children":3240},{"style":519},[3241],{"type":21,"value":991},{"type":15,"tag":308,"props":3243,"children":3244},{"style":315},[3245],{"type":21,"value":682},{"type":15,"tag":308,"props":3247,"children":3248},{"style":332},[3249],{"type":21,"value":692},{"type":15,"tag":308,"props":3251,"children":3252},{"class":310,"line":544},[3253],{"type":15,"tag":308,"props":3254,"children":3255},{"emptyLinePlaceholder":733},[3256],{"type":21,"value":736},{"type":15,"tag":308,"props":3258,"children":3259},{"class":310,"line":695},[3260,3264,3268,3272,3276,3280,3284,3288,3292],{"type":15,"tag":308,"props":3261,"children":3262},{"style":315},[3263],{"type":21,"value":500},{"type":15,"tag":308,"props":3265,"children":3266},{"style":315},[3267],{"type":21,"value":505},{"type":15,"tag":308,"props":3269,"children":3270},{"style":326},[3271],{"type":21,"value":1986},{"type":15,"tag":308,"props":3273,"children":3274},{"style":647},[3275],{"type":21,"value":1991},{"type":15,"tag":308,"props":3277,"children":3278},{"style":332},[3279],{"type":21,"value":1036},{"type":15,"tag":308,"props":3281,"children":3282},{"style":326},[3283],{"type":21,"value":1922},{"type":15,"tag":308,"props":3285,"children":3286},{"style":513},[3287],{"type":21,"value":2004},{"type":15,"tag":308,"props":3289,"children":3290},{"style":332},[3291],{"type":21,"value":2009},{"type":15,"tag":308,"props":3293,"children":3294},{"style":519},[3295],{"type":21,"value":2014},{"type":15,"tag":308,"props":3297,"children":3298},{"class":310,"line":720},[3299,3303,3307,3312],{"type":15,"tag":308,"props":3300,"children":3301},{"style":513},[3302],{"type":21,"value":2022},{"type":15,"tag":308,"props":3304,"children":3305},{"style":332},[3306],{"type":21,"value":296},{"type":15,"tag":308,"props":3308,"children":3309},{"style":647},[3310],{"type":21,"value":3311},"CreateContextBuilder",{"type":15,"tag":308,"props":3313,"children":3314},{"style":332},[3315],{"type":21,"value":655},{"type":15,"tag":308,"props":3317,"children":3318},{"class":310,"line":729},[3319,3324,3328,3332,3336],{"type":15,"tag":308,"props":3320,"children":3321},{"style":332},[3322],{"type":21,"value":3323},"            .",{"type":15,"tag":308,"props":3325,"children":3326},{"style":647},[3327],{"type":21,"value":166},{"type":15,"tag":308,"props":3329,"children":3330},{"style":332},[3331],{"type":21,"value":1036},{"type":15,"tag":308,"props":3333,"children":3334},{"style":513},[3335],{"type":21,"value":2945},{"type":15,"tag":308,"props":3337,"children":3338},{"style":332},[3339],{"type":21,"value":1201},{"type":15,"tag":308,"props":3341,"children":3342},{"class":310,"line":739},[3343,3347,3351,3355,3359],{"type":15,"tag":308,"props":3344,"children":3345},{"style":332},[3346],{"type":21,"value":3323},{"type":15,"tag":308,"props":3348,"children":3349},{"style":647},[3350],{"type":21,"value":166},{"type":15,"tag":308,"props":3352,"children":3353},{"style":332},[3354],{"type":21,"value":1036},{"type":15,"tag":308,"props":3356,"children":3357},{"style":513},[3358],{"type":21,"value":2954},{"type":15,"tag":308,"props":3360,"children":3361},{"style":332},[3362],{"type":21,"value":1201},{"type":15,"tag":308,"props":3364,"children":3365},{"class":310,"line":770},[3366,3370,3374],{"type":15,"tag":308,"props":3367,"children":3368},{"style":332},[3369],{"type":21,"value":3323},{"type":15,"tag":308,"props":3371,"children":3372},{"style":647},[3373],{"type":21,"value":255},{"type":15,"tag":308,"props":3375,"children":3376},{"style":332},[3377],{"type":21,"value":655},{"type":15,"tag":308,"props":3379,"children":3380},{"class":310,"line":798},[3381],{"type":15,"tag":308,"props":3382,"children":3383},{"style":332},[3384],{"type":21,"value":3385},"        ;\n",{"type":15,"tag":308,"props":3387,"children":3388},{"class":310,"line":1577},[3389],{"type":15,"tag":308,"props":3390,"children":3391},{"style":332},[3392],{"type":21,"value":367},{"type":15,"tag":23,"props":3394,"children":3395},{},[3396],{"type":21,"value":3397},"This phase context will require two different actions in a feature;",{"type":15,"tag":298,"props":3399,"children":3401},{"className":300,"code":3400,"language":302,"meta":8,"style":8},"...\npublic void Configure(LayerConfigurator configurator)\n{\n    configurator.Configure((Configuration1 configuration1) =>\n    {\n        // configure one by one\n    });\n\n    configurator.Configure((Configuration2 configuration2) =>\n    {\n        // configure one by one\n    });\n}\n...\n",[3402],{"type":15,"tag":29,"props":3403,"children":3404},{"__ignoreMap":8},[3405,3416,3447,3454,3489,3496,3504,3511,3518,3553,3560,3567,3574,3581],{"type":15,"tag":308,"props":3406,"children":3407},{"class":310,"line":311},[3408,3412],{"type":15,"tag":308,"props":3409,"children":3410},{"style":519},[3411],{"type":21,"value":2274},{"type":15,"tag":308,"props":3413,"children":3414},{"style":332},[3415],{"type":21,"value":541},{"type":15,"tag":308,"props":3417,"children":3418},{"class":310,"line":343},[3419,3423,3427,3431,3435,3439,3443],{"type":15,"tag":308,"props":3420,"children":3421},{"style":315},[3422],{"type":21,"value":318},{"type":15,"tag":308,"props":3424,"children":3425},{"style":315},[3426],{"type":21,"value":957},{"type":15,"tag":308,"props":3428,"children":3429},{"style":647},[3430],{"type":21,"value":3004},{"type":15,"tag":308,"props":3432,"children":3433},{"style":332},[3434],{"type":21,"value":1036},{"type":15,"tag":308,"props":3436,"children":3437},{"style":326},[3438],{"type":21,"value":231},{"type":15,"tag":308,"props":3440,"children":3441},{"style":513},[3442],{"type":21,"value":3017},{"type":15,"tag":308,"props":3444,"children":3445},{"style":332},[3446],{"type":21,"value":1201},{"type":15,"tag":308,"props":3448,"children":3449},{"class":310,"line":352},[3450],{"type":15,"tag":308,"props":3451,"children":3452},{"style":332},[3453],{"type":21,"value":349},{"type":15,"tag":308,"props":3455,"children":3456},{"class":310,"line":361},[3457,3461,3465,3469,3473,3477,3481,3485],{"type":15,"tag":308,"props":3458,"children":3459},{"style":513},[3460],{"type":21,"value":3036},{"type":15,"tag":308,"props":3462,"children":3463},{"style":332},[3464],{"type":21,"value":296},{"type":15,"tag":308,"props":3466,"children":3467},{"style":647},[3468],{"type":21,"value":224},{"type":15,"tag":308,"props":3470,"children":3471},{"style":332},[3472],{"type":21,"value":3049},{"type":15,"tag":308,"props":3474,"children":3475},{"style":326},[3476],{"type":21,"value":3054},{"type":15,"tag":308,"props":3478,"children":3479},{"style":513},[3480],{"type":21,"value":3059},{"type":15,"tag":308,"props":3482,"children":3483},{"style":332},[3484],{"type":21,"value":2009},{"type":15,"tag":308,"props":3486,"children":3487},{"style":519},[3488],{"type":21,"value":2014},{"type":15,"tag":308,"props":3490,"children":3491},{"class":310,"line":544},[3492],{"type":15,"tag":308,"props":3493,"children":3494},{"style":332},[3495],{"type":21,"value":663},{"type":15,"tag":308,"props":3497,"children":3498},{"class":310,"line":695},[3499],{"type":15,"tag":308,"props":3500,"children":3501},{"style":1410},[3502],{"type":21,"value":3503},"        // configure one by one\n",{"type":15,"tag":308,"props":3505,"children":3506},{"class":310,"line":720},[3507],{"type":15,"tag":308,"props":3508,"children":3509},{"style":332},[3510],{"type":21,"value":3104},{"type":15,"tag":308,"props":3512,"children":3513},{"class":310,"line":729},[3514],{"type":15,"tag":308,"props":3515,"children":3516},{"emptyLinePlaceholder":733},[3517],{"type":21,"value":736},{"type":15,"tag":308,"props":3519,"children":3520},{"class":310,"line":739},[3521,3525,3529,3533,3537,3541,3545,3549],{"type":15,"tag":308,"props":3522,"children":3523},{"style":513},[3524],{"type":21,"value":3036},{"type":15,"tag":308,"props":3526,"children":3527},{"style":332},[3528],{"type":21,"value":296},{"type":15,"tag":308,"props":3530,"children":3531},{"style":647},[3532],{"type":21,"value":224},{"type":15,"tag":308,"props":3534,"children":3535},{"style":332},[3536],{"type":21,"value":3049},{"type":15,"tag":308,"props":3538,"children":3539},{"style":326},[3540],{"type":21,"value":3068},{"type":15,"tag":308,"props":3542,"children":3543},{"style":513},[3544],{"type":21,"value":3073},{"type":15,"tag":308,"props":3546,"children":3547},{"style":332},[3548],{"type":21,"value":2009},{"type":15,"tag":308,"props":3550,"children":3551},{"style":519},[3552],{"type":21,"value":2014},{"type":15,"tag":308,"props":3554,"children":3555},{"class":310,"line":770},[3556],{"type":15,"tag":308,"props":3557,"children":3558},{"style":332},[3559],{"type":21,"value":663},{"type":15,"tag":308,"props":3561,"children":3562},{"class":310,"line":798},[3563],{"type":15,"tag":308,"props":3564,"children":3565},{"style":1410},[3566],{"type":21,"value":3503},{"type":15,"tag":308,"props":3568,"children":3569},{"class":310,"line":1577},[3570],{"type":15,"tag":308,"props":3571,"children":3572},{"style":332},[3573],{"type":21,"value":3104},{"type":15,"tag":308,"props":3575,"children":3576},{"class":310,"line":1597},[3577],{"type":15,"tag":308,"props":3578,"children":3579},{"style":332},[3580],{"type":21,"value":367},{"type":15,"tag":308,"props":3582,"children":3583},{"class":310,"line":1647},[3584,3588],{"type":15,"tag":308,"props":3585,"children":3586},{"style":519},[3587],{"type":21,"value":2274},{"type":15,"tag":308,"props":3589,"children":3590},{"style":332},[3591],{"type":21,"value":541},{"type":15,"tag":369,"props":3593,"children":3594},{},[3595,3602],{"type":15,"tag":23,"props":3596,"children":3597},{},[3598],{"type":15,"tag":308,"props":3599,"children":3600},{},[3601],{"type":21,"value":379},{"type":15,"tag":23,"props":3603,"children":3604},{},[3605,3611,3613,3619],{"type":15,"tag":29,"props":3606,"children":3608},{"className":3607},[],[3609],{"type":21,"value":3610},"phase.CreateContext()",{"type":21,"value":3612}," is a helper method that utilizes\n",{"type":15,"tag":29,"props":3614,"children":3616},{"className":3615},[],[3617],{"type":21,"value":3618},"phase.CreateContextBuilder()",{"type":21,"value":3620}," behind the scenes.",{"type":15,"tag":2758,"props":3622,"children":3624},{"id":3623},"using-in-combination",[3625],{"type":21,"value":3626},"Using in Combination",{"type":15,"tag":23,"props":3628,"children":3629},{},[3630],{"type":21,"value":3631},"You may combine these two ways to provide configuration;",{"type":15,"tag":298,"props":3633,"children":3635},{"className":300,"code":3634,"language":302,"meta":8,"style":8},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n    readonly Configuration3 _configuration3 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContextBuilder()\n            .Add(_configuration1, _configuration2)\n            .Add(_configuration3)\n            .Build()\n        ;\n}\n",[3636],{"type":15,"tag":29,"props":3637,"children":3638},{"__ignoreMap":8},[3639,3674,3681,3708,3735,3764,3771,3810,3829,3860,3884,3899,3906],{"type":15,"tag":308,"props":3640,"children":3641},{"class":310,"line":311},[3642,3646,3650,3654,3658,3662,3666,3670],{"type":15,"tag":308,"props":3643,"children":3644},{"style":315},[3645],{"type":21,"value":318},{"type":15,"tag":308,"props":3647,"children":3648},{"style":315},[3649],{"type":21,"value":323},{"type":15,"tag":308,"props":3651,"children":3652},{"style":326},[3653],{"type":21,"value":329},{"type":15,"tag":308,"props":3655,"children":3656},{"style":332},[3657],{"type":21,"value":335},{"type":15,"tag":308,"props":3659,"children":3660},{"style":326},[3661],{"type":21,"value":294},{"type":15,"tag":308,"props":3663,"children":3664},{"style":332},[3665],{"type":21,"value":634},{"type":15,"tag":308,"props":3667,"children":3668},{"style":326},[3669],{"type":21,"value":1922},{"type":15,"tag":308,"props":3671,"children":3672},{"style":332},[3673],{"type":21,"value":1158},{"type":15,"tag":308,"props":3675,"children":3676},{"class":310,"line":343},[3677],{"type":15,"tag":308,"props":3678,"children":3679},{"style":332},[3680],{"type":21,"value":349},{"type":15,"tag":308,"props":3682,"children":3683},{"class":310,"line":352},[3684,3688,3692,3696,3700,3704],{"type":15,"tag":308,"props":3685,"children":3686},{"style":315},[3687],{"type":21,"value":1941},{"type":15,"tag":308,"props":3689,"children":3690},{"style":326},[3691],{"type":21,"value":2829},{"type":15,"tag":308,"props":3693,"children":3694},{"style":513},[3695],{"type":21,"value":2834},{"type":15,"tag":308,"props":3697,"children":3698},{"style":519},[3699],{"type":21,"value":991},{"type":15,"tag":308,"props":3701,"children":3702},{"style":315},[3703],{"type":21,"value":682},{"type":15,"tag":308,"props":3705,"children":3706},{"style":332},[3707],{"type":21,"value":692},{"type":15,"tag":308,"props":3709,"children":3710},{"class":310,"line":361},[3711,3715,3719,3723,3727,3731],{"type":15,"tag":308,"props":3712,"children":3713},{"style":315},[3714],{"type":21,"value":1941},{"type":15,"tag":308,"props":3716,"children":3717},{"style":326},[3718],{"type":21,"value":2858},{"type":15,"tag":308,"props":3720,"children":3721},{"style":513},[3722],{"type":21,"value":2863},{"type":15,"tag":308,"props":3724,"children":3725},{"style":519},[3726],{"type":21,"value":991},{"type":15,"tag":308,"props":3728,"children":3729},{"style":315},[3730],{"type":21,"value":682},{"type":15,"tag":308,"props":3732,"children":3733},{"style":332},[3734],{"type":21,"value":692},{"type":15,"tag":308,"props":3736,"children":3737},{"class":310,"line":544},[3738,3742,3747,3752,3756,3760],{"type":15,"tag":308,"props":3739,"children":3740},{"style":315},[3741],{"type":21,"value":1941},{"type":15,"tag":308,"props":3743,"children":3744},{"style":326},[3745],{"type":21,"value":3746}," Configuration3",{"type":15,"tag":308,"props":3748,"children":3749},{"style":513},[3750],{"type":21,"value":3751}," _configuration3",{"type":15,"tag":308,"props":3753,"children":3754},{"style":519},[3755],{"type":21,"value":991},{"type":15,"tag":308,"props":3757,"children":3758},{"style":315},[3759],{"type":21,"value":682},{"type":15,"tag":308,"props":3761,"children":3762},{"style":332},[3763],{"type":21,"value":692},{"type":15,"tag":308,"props":3765,"children":3766},{"class":310,"line":695},[3767],{"type":15,"tag":308,"props":3768,"children":3769},{"emptyLinePlaceholder":733},[3770],{"type":21,"value":736},{"type":15,"tag":308,"props":3772,"children":3773},{"class":310,"line":720},[3774,3778,3782,3786,3790,3794,3798,3802,3806],{"type":15,"tag":308,"props":3775,"children":3776},{"style":315},[3777],{"type":21,"value":500},{"type":15,"tag":308,"props":3779,"children":3780},{"style":315},[3781],{"type":21,"value":505},{"type":15,"tag":308,"props":3783,"children":3784},{"style":326},[3785],{"type":21,"value":1986},{"type":15,"tag":308,"props":3787,"children":3788},{"style":647},[3789],{"type":21,"value":1991},{"type":15,"tag":308,"props":3791,"children":3792},{"style":332},[3793],{"type":21,"value":1036},{"type":15,"tag":308,"props":3795,"children":3796},{"style":326},[3797],{"type":21,"value":1922},{"type":15,"tag":308,"props":3799,"children":3800},{"style":513},[3801],{"type":21,"value":2004},{"type":15,"tag":308,"props":3803,"children":3804},{"style":332},[3805],{"type":21,"value":2009},{"type":15,"tag":308,"props":3807,"children":3808},{"style":519},[3809],{"type":21,"value":2014},{"type":15,"tag":308,"props":3811,"children":3812},{"class":310,"line":729},[3813,3817,3821,3825],{"type":15,"tag":308,"props":3814,"children":3815},{"style":513},[3816],{"type":21,"value":2022},{"type":15,"tag":308,"props":3818,"children":3819},{"style":332},[3820],{"type":21,"value":296},{"type":15,"tag":308,"props":3822,"children":3823},{"style":647},[3824],{"type":21,"value":3311},{"type":15,"tag":308,"props":3826,"children":3827},{"style":332},[3828],{"type":21,"value":655},{"type":15,"tag":308,"props":3830,"children":3831},{"class":310,"line":739},[3832,3836,3840,3844,3848,3852,3856],{"type":15,"tag":308,"props":3833,"children":3834},{"style":332},[3835],{"type":21,"value":3323},{"type":15,"tag":308,"props":3837,"children":3838},{"style":647},[3839],{"type":21,"value":166},{"type":15,"tag":308,"props":3841,"children":3842},{"style":332},[3843],{"type":21,"value":1036},{"type":15,"tag":308,"props":3845,"children":3846},{"style":513},[3847],{"type":21,"value":2945},{"type":15,"tag":308,"props":3849,"children":3850},{"style":332},[3851],{"type":21,"value":209},{"type":15,"tag":308,"props":3853,"children":3854},{"style":513},[3855],{"type":21,"value":2954},{"type":15,"tag":308,"props":3857,"children":3858},{"style":332},[3859],{"type":21,"value":1201},{"type":15,"tag":308,"props":3861,"children":3862},{"class":310,"line":770},[3863,3867,3871,3875,3880],{"type":15,"tag":308,"props":3864,"children":3865},{"style":332},[3866],{"type":21,"value":3323},{"type":15,"tag":308,"props":3868,"children":3869},{"style":647},[3870],{"type":21,"value":166},{"type":15,"tag":308,"props":3872,"children":3873},{"style":332},[3874],{"type":21,"value":1036},{"type":15,"tag":308,"props":3876,"children":3877},{"style":513},[3878],{"type":21,"value":3879},"_configuration3",{"type":15,"tag":308,"props":3881,"children":3882},{"style":332},[3883],{"type":21,"value":1201},{"type":15,"tag":308,"props":3885,"children":3886},{"class":310,"line":798},[3887,3891,3895],{"type":15,"tag":308,"props":3888,"children":3889},{"style":332},[3890],{"type":21,"value":3323},{"type":15,"tag":308,"props":3892,"children":3893},{"style":647},[3894],{"type":21,"value":255},{"type":15,"tag":308,"props":3896,"children":3897},{"style":332},[3898],{"type":21,"value":655},{"type":15,"tag":308,"props":3900,"children":3901},{"class":310,"line":1577},[3902],{"type":15,"tag":308,"props":3903,"children":3904},{"style":332},[3905],{"type":21,"value":3385},{"type":15,"tag":308,"props":3907,"children":3908},{"class":310,"line":1597},[3909],{"type":15,"tag":308,"props":3910,"children":3911},{"style":332},[3912],{"type":21,"value":367},{"type":15,"tag":23,"props":3914,"children":3915},{},[3916],{"type":21,"value":3917},"This phase context will require two different actions;",{"type":15,"tag":101,"props":3919,"children":3920},{},[3921,3932],{"type":15,"tag":105,"props":3922,"children":3923},{},[3924,3926],{"type":21,"value":3925},"For the first two configuration objects: ",{"type":15,"tag":29,"props":3927,"children":3929},{"className":3928},[],[3930],{"type":21,"value":3931},"(Configuration1 configuration1, Configuration2 configuration2)",{"type":15,"tag":105,"props":3933,"children":3934},{},[3935,3937,3943],{"type":21,"value":3936},"For the last configuration object: ",{"type":15,"tag":29,"props":3938,"children":3940},{"className":3939},[],[3941],{"type":21,"value":3942},"(Configuration3 configuration3)",{"type":21,"value":296},{"type":15,"tag":3945,"props":3946,"children":3947},"style",{},[3948],{"type":21,"value":3949},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":8,"searchDepth":343,"depth":343,"links":3951},[3952,3953,3957,3962],{"id":91,"depth":343,"text":94},{"id":280,"depth":343,"text":283,"children":3954},[3955],{"id":395,"depth":352,"text":3956},"Id of a Layer",{"id":552,"depth":343,"text":555,"children":3958},[3959,3960,3961],{"id":850,"depth":352,"text":853},{"id":1084,"depth":352,"text":1087},{"id":1769,"depth":352,"text":1772},{"id":1867,"depth":343,"text":1870,"children":3963},[3964,3966,3967],{"id":2110,"depth":352,"text":3965},"Using non-generic LayerBase",{"id":2372,"depth":352,"text":2375},{"id":2748,"depth":352,"text":2751},"markdown","content:architecture:layer.md","content","architecture/layer.md","architecture/layer","md",["Reactive",3975],{},["Set"],["ShallowReactive",3978],{"content-query-hBLt6OxXWy":3979},null,1726674320179,["Reactive",3982],{"sectionStore":3983,"pageStore":4000},{"sections":3984},[3985,3988,3991,3994,3997],{"_path":3986,"_dir":8,"title":3987},"/recipes/","Recipes",{"_path":3989,"_dir":8,"title":3990},"/features/","Features",{"_path":3992,"_dir":8,"title":3993},"/layers/","Layers",{"_path":3995,"_dir":8,"title":3996},"/architecture/","Architecture",{"_path":3998,"_dir":8,"title":3999},"/release-notes/","Release Notes",{"pages":4001},[4002,4006,4008,4009],{"_path":3995,"title":3996,"pages":4003},[4004,18,4005],"application","feature",{"_path":4007,"title":69},"/architecture/application",{"_path":5,"title":9},{"_path":4010,"title":3133},"/architecture/feature"]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:false,h3:false,h4:false,h5:false,h6:false}}},baseURL:"/",githubURL:"/mouseless/baked",content:{locales:[],defaultLocale:"",integrity:1726674311171,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"slack-dark",preload:["diff","ts","js","css","java","markdown","sql","xml","json","csharp","md","bash"],highlighter:"shiki",langs:["js","jsx","json","ts","tsx","vue","css","html","bash","md","mdc","yaml","diff","ts","js","css","java","markdown","sql","xml","json","csharp","md","bash"]},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildId:"218df0ce-c35b-4ddb-ac7e-2bd21db4ab68",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>