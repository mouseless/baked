<!DOCTYPE html>
<html >
<head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Layer</title>
<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Do">
<meta property="og:description" content="An opinionated framework for .NET">
<meta property="og:image" content="https://do.mouseless.codes/favicon.ico">
<meta property="og:image:width" content="50">
<meta property="og:image:height" content="50">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
<link rel="stylesheet" type="text/css" href="https://mouseless.github.io/brand/assets/css/default.css">
<meta property="og:title" content="Layer">
<meta name="description" content="Each ILayer implementation represents an internal system component of the
software you develop. A layer provides application features with configuration
of this system component so that the features can bind domain objects and
system components together.">
<meta property="og:description" content="Each ILayer implementation represents an internal system component of the
software you develop. A layer provides application features with configuration
of this system component so that the features can bind domain objects and
system components together.">
<style>.content[data-v-5e897649],.full[data-v-5e897649]{box-sizing:border-box;margin:auto;max-width:calc(var(--width-content) + 34em);min-width:270px}@media (max-width:1830px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:calc(var(--width-content) + 34em)}}@media (max-width:1330px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:calc(var(--width-content) + 19em)}}@media (max-width:1074px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:calc(var(--width-content))}}@media (max-width:818px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:82%}}.content[data-v-5e897649]{display:grid;grid-template-areas:"side content" "side content";grid-template-columns:15em;grid-template-rows:65px 1fr}.side[data-v-5e897649]{grid-area:side}article[data-v-5e897649]{grid-area:content}@media (max-width:1330px){.content[data-v-5e897649]{margin-top:0}}@media (max-width:1074px){.side[data-v-5e897649]{grid-column-end:content;z-index:2}article[data-v-5e897649]{grid-column-start:side}}@media (max-width:818px){.content[data-v-5e897649]{display:block}}</style>
<style>div.top[data-v-049e3959]{border-bottom:2px solid var(--color-bg-soft)}header[data-v-049e3959]{align-items:center;box-sizing:border-box;display:flex;flex-direction:row;justify-content:space-between;margin:auto;max-width:calc(var(--width-content) + 34em);min-width:270px}@media (max-width:1830px){header[data-v-049e3959]{max-width:calc(var(--width-content) + 34em)}}@media (max-width:1330px){header[data-v-049e3959]{max-width:calc(var(--width-content) + 19em)}}@media (max-width:1074px){header[data-v-049e3959]{max-width:calc(var(--width-content))}}@media (max-width:818px){header[data-v-049e3959]{max-width:82%}}header .bars[data-v-049e3959]{display:none}div.logo[data-v-049e3959]{margin:20px 0}div.logo a[data-v-049e3959]:has(img.logo){display:block;height:25px}div.logo a:has(img.logo) img.do[data-v-049e3959]:is(.logo){display:inline-block;height:25px}a[data-v-049e3959]{color:var(--color-fg-soft);cursor:pointer}a[data-v-049e3959]:hover{color:var(--color-logo-mark)}nav a[data-v-049e3959]{margin:1em;text-decoration:none}nav a.close[data-v-049e3959]{display:none}nav a.active[data-v-049e3959]{border-bottom-color:var(--color-bg-soft);border-bottom:2px solid var(--color-logo-mark);padding-bottom:22px}nav a[data-v-049e3959]:last-child{margin-right:0}@media (max-width:1830px){nav a.active[data-v-049e3959]{padding-bottom:24px}}@media (max-width:1074px){a.bars[data-v-049e3959]{display:block}nav[data-v-049e3959]{background:var(--color-bg);border-left:2px solid var(--color-bg-soft);display:none;height:100%;padding:20px;position:fixed;right:0;top:0;width:calc(270px - 4em);z-index:99}nav a[data-v-049e3959],nav.active[data-v-049e3959]{display:block}nav a[data-v-049e3959]{height:2em}nav a.close[data-v-049e3959]{display:block;margin-bottom:1em}nav a.close i[data-v-049e3959]{font-size:larger}nav a.active[data-v-049e3959]{border:0;border-left-color:var(--color-bg-soft);border-left:2px solid var(--color-logo-mark);margin-left:-22px;padding-bottom:0;padding-left:calc(20px + 1em)}}@media (max-width:818px){nav[data-v-049e3959]{width:calc(270px - 7em)}}</style>
<style>nav[data-v-9dee0249]{align-self:start;margin-top:2.5em;position:sticky;top:1.5em}nav h4[data-v-9dee0249]{display:none}nav ul[data-v-9dee0249]{margin:0;padding:0}nav ul li[data-v-9dee0249]{list-style:none;margin:0}nav ul li a[data-v-9dee0249]{border-radius:calc(var(--border-radius)/3);color:var(--color-fg-soft);display:block;font-size:1em;padding:.5em 1em;text-decoration:none}nav ul li a[data-v-9dee0249]:hover{color:var(--color-logo-mark)}nav ul li a.active[data-v-9dee0249]{background-color:var(--color-bg-soft)}@media (max-width:1330px){nav[data-v-9dee0249]{margin-top:3.5em}}@media (max-width:1074px){nav[data-v-9dee0249]{margin-top:0;top:0;width:50%}nav h4[data-v-9dee0249]{display:block;font-size:.9em;text-transform:uppercase}nav h4 a[data-v-9dee0249]{padding-left:0}nav h4 a[data-v-9dee0249]:hover{color:var(--color-logo-mark)}nav ul[data-v-9dee0249]{background-color:var(--color-bg-box);background-color:var(--color-bg-soft);border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);box-sizing:border-box;display:none;padding:calc(var(--border-radius) - .5em) calc(var(--border-radius) - 1em);position:absolute;width:200%}nav ul.active[data-v-9dee0249]{display:block}nav ul li a.active[data-v-9dee0249]{background-color:var(--color-bg-mute)}}@media (max-width:818px){nav[data-v-9dee0249]{margin-bottom:-3.7em}}</style>
<style>.container[data-v-b90ae7fa]{display:flex}.container .content[data-v-b90ae7fa]{margin:0 4em;max-width:var(--width-content);width:100%}@media (max-width:1330px){.container[data-v-b90ae7fa]{flex-direction:column-reverse;margin-left:4em}.container .content[data-v-b90ae7fa]{margin:1em 0 0}}@media (max-width:1074px){.container[data-v-b90ae7fa]{margin-left:0}}</style>
<style>.full .content{margin-left:0!important;margin-right:0!important}@media (max-width:1330px){.full .container{margin-left:0}}</style>
<style>div.bottom[data-v-1bbc78ba]{border-top:2px solid var(--color-bg-soft);margin-top:4em}footer[data-v-1bbc78ba]{align-items:flex-start;box-sizing:border-box;display:flex;flex-direction:row;justify-content:space-between;margin:1em auto;max-width:calc(var(--width-content) + 34em);min-width:270px}@media (max-width:1830px){footer[data-v-1bbc78ba]{max-width:calc(var(--width-content) + 34em)}}@media (max-width:1330px){footer[data-v-1bbc78ba]{max-width:calc(var(--width-content) + 19em)}}@media (max-width:1074px){footer[data-v-1bbc78ba]{max-width:calc(var(--width-content))}}@media (max-width:818px){footer[data-v-1bbc78ba]{max-width:82%}}footer[data-v-1bbc78ba],footer *[data-v-1bbc78ba]{color:var(--color-fg-mute)}footer div[data-v-1bbc78ba],footer nav[data-v-1bbc78ba]{font-family:var(--font-heading);font-size:smaller}div.logo[data-v-1bbc78ba]{margin:20px 0}div.logo a[data-v-1bbc78ba]:has(img.logo){display:block;height:15px}div.logo a:has(img.logo) img.do[data-v-1bbc78ba]:is(.logo){display:inline-block;height:15px;opacity:.5}div.logo span[data-v-1bbc78ba]{display:inline-block;margin-top:1em}nav[data-v-1bbc78ba]{text-align:right}nav a[data-v-1bbc78ba]{display:block;margin:5px;text-decoration:none}nav a[data-v-1bbc78ba]:hover,nav a:hover i[data-v-1bbc78ba]{color:var(--color-logo-mark)}@media (max-width:818px){footer[data-v-1bbc78ba]{display:block}footer nav[data-v-1bbc78ba]{text-align:left}footer nav a[data-v-1bbc78ba]{margin-left:0}}</style>
<style>.navigation-buttons-container[data-v-6a000fc9]{margin-top:4em;max-width:var(--width-content)}.navigation-buttons-container .button[data-v-6a000fc9]{margin-top:.9em;padding-left:.4em;padding-right:.4em}.navigation-buttons-container .button a[data-v-6a000fc9]{text-decoration:none}.navigation-buttons-container .button a .link-text[data-v-6a000fc9]{color:var(--color-fg-mute);font-size:.75em}.navigation-buttons-container .button a .link-text h3[data-v-6a000fc9]{color:var(--color-fg-soft);font-size:1.5em;margin-top:.1em}.navigation-buttons-container .button a:hover h3[data-v-6a000fc9]{color:var(--color-logo-mark)}.navigation-buttons-container .button.left[data-v-6a000fc9]{float:left;text-align:left}.navigation-buttons-container .button.right[data-v-6a000fc9]{float:right;text-align:end}</style>
<style>h4[data-v-4f8affad]{margin-bottom:.5em;padding-left:1em}h4[data-v-4f8affad],nav[data-v-4f8affad]{font-size:.9em}nav[data-v-4f8affad]{text-wrap:nowrap;align-self:start;margin-top:2.5em;overflow:hidden;position:sticky;top:1.5em;width:15em}nav ul[data-v-4f8affad]{margin:0;padding-left:0}nav ul li[data-v-4f8affad]{line-height:24px;list-style:none;margin:0}nav ul li a[data-v-4f8affad]{border-left:2px solid transparent;color:var(--color-fg-soft);cursor:pointer;display:block;font-size:.9em;margin-top:.25em;overflow:hidden;padding-left:1em;text-decoration:none;text-overflow:ellipsis}nav ul li a[data-v-4f8affad]:hover{color:var(--color-logo-mark)}nav ul li a.active[data-v-4f8affad]{border-left-color:var(--color-bg-mute)}nav ul li a.return-to-top[data-v-4f8affad]{margin-top:.75em}nav ul li ul[data-v-4f8affad]{margin-bottom:.25em}nav ul li ul a[data-v-4f8affad]{padding-left:2em}@media (max-width:1330px){nav[data-v-4f8affad]{background-color:var(--color-bg);font-size:1em;margin:0 0 -3.7em;text-align:right;top:0;width:100%}nav h4 a[data-v-4f8affad]{display:inline-block;padding-left:0;padding-right:0}nav h4 a[data-v-4f8affad]:hover{color:var(--color-logo-mark)}nav>ul[data-v-4f8affad]{background-color:var(--color-bg-box);background-color:var(--color-bg-soft);border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);display:none;margin-bottom:2.5em;padding:var(--border-radius);padding-left:0;text-align:left}nav>ul.active[data-v-4f8affad]{display:block}nav ul li a[data-v-4f8affad]{padding-left:var(--border-radius)}nav ul li a.active[data-v-4f8affad]:before{left:0}nav ul li ul li a[data-v-4f8affad]{padding-left:calc(var(--border-radius) + 1em)}}</style>
<style>a[data-v-f8417185]{font-family:var(--font-default)}i[data-v-f8417185]{margin-left:.3em}</style>
<style>pre code .line{display:block;min-height:1rem}</style>
<style>blockquote[data-v-cab260a3]{align-items:flex-start;border-radius:10px;display:flex;flex-direction:row;justify-content:flex-start;margin:1em 0;max-width:var(--width-content);padding:0}blockquote i[data-v-cab260a3]{line-height:var(--line-height);margin-top:1em;position:absolute}blockquote div[data-v-cab260a3]{padding-left:3ch;width:100%}blockquote.info i[data-v-cab260a3]{color:var(--color-blue)}blockquote.warning i[data-v-cab260a3]{color:var(--color-orange)}blockquote.tip i[data-v-cab260a3]{color:var(--color-green)}blockquote.danger i[data-v-cab260a3]{color:var(--color-red)}blockquote.default i[data-v-cab260a3]{color:var(--color-fg)}@media (min-width:1830px){blockquote i[data-v-cab260a3]{line-height:calc(var(--line-height)*1.1)}}</style>
<style>@media (prefers-color-scheme:dark){:root{--url-logo-full:url(/logo-full-primary.svg);--url-logo-full-mono:url(/logo-full-white.svg);--url-logo-mark:url(/logo-mark-primary.svg);--url-logo-mark-mono:url(/logo-mark-white.svg)}}@media (prefers-color-scheme:light){:root{--url-logo-full:url(/logo-full-secondary.svg);--url-logo-full-mono:url(/logo-full-black.svg);--url-logo-mark:url(/logo-mark-primary.svg);--url-logo-mark-mono:url(/logo-mark-black.svg)}}body,html{margin:0;padding:0}body{font-size:calc(var(--font-size)*1.2);line-height:calc(var(--line-height)*1.1)}img.do:is(.logo),img.do:is(.logo:is(.full)){content:var(--url-logo-full)}img.do:is(.logo):is(.mono),img.do:is(.logo:is(.full)):is(.mono){content:var(--url-logo-full-mono)}img.do:is(.logo:is(.mark)){content:var(--url-logo-mark)}img.do:is(.logo:is(.mark)):is(.mono){content:var(--url-logo-mark-mono)}.content nav h4{margin-bottom:.5em;margin-top:0;text-transform:uppercase}.content nav h4 a{display:inline-block;text-decoration:none}.content nav h4 a,.content nav h4 a:hover{color:var(--color-fg-soft)}.content p:has(.diagram){background-color:var(--color-bg-box);border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-color:var(--color-bg-soft);border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);padding:30px 0 18px;text-align:center}.content code{background-color:var(--color-bg-soft);border-radius:5px;color:var(--color-soft);font-size:.9em;overflow-wrap:anywhere;padding:.2em .4em}.content pre{text-wrap:wrap;overflow:auto}.content pre code{text-wrap:nowrap;background-color:transparent;display:block;line-height:1.5em;max-width:0;padding:0}.content ol li,.content ul li{margin-bottom:.2em}.content ol li ol,.content ol li ul,.content ul li ol,.content ul li ul{margin-top:.2em}.content hr{border:2px solid var(--color-bg-soft)}@media (max-width:1830px){body{font-size:var(--font-size);line-height:var(--line-height)}.content pre code{line-height:1em}}@media (max-width:1330px){.content h2,.content h3{scroll-margin-top:3em}nav h4 a{cursor:pointer;padding:1em}nav h4 a:hover{color:var(--color-logo-mark)}}</style>
<link rel="stylesheet" href="/_nuxt/ProsePre.e63e49c6.css">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.d8e9bf6d.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/default.e85492f7.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Header.d3eb8790.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/nuxt-link.d3ee2cf3.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/sectionStore.50da70e9.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Side.51d02c63.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/pageStore.640fcdec.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Footer.f35c975c.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/query.abf3a5cf.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/preview.59bcf3c1.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/applyOrder.347713b5.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/_...content-page_.47e5f7f5.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRenderer.02249176.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.vue.064a1034.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/index.288f722b.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BottomNavigation.2540cad2.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Toc.52017ae4.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentDoc.6119ec4f.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/vue.f36acd1f.73b029a1.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentQuery.42e76985.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/asyncData.94715a40.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.5a3fc2a6.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH1.6b9d5d8a.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.ca83a9c4.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCodeInline.362d42ae.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.5a43e4c8.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH2.2de4f18f.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseOl.2475b742.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseLi.4a5e72c5.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProsePre.7ac88425.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.vue.898ce029.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.6b0004e7.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseBlockquote.824ccbfc.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH3.30928f7b.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH4.a7ff0104.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/error-404.5f2a60b5.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/error-500.c8f18509.js">
<script type="module" src="/_nuxt/entry.d8e9bf6d.js" crossorigin></script></head>
<body ><div id="__nuxt"><div data-v-5e897649><div class="top" data-v-5e897649 data-v-049e3959><header data-v-049e3959><div class="logo" data-v-049e3959><a href="/" class="" data-v-049e3959><img class="do logo" data-v-049e3959></a></div><a class="bars" data-v-049e3959><i class="fa-solid fa-bars" data-v-049e3959></i></a><nav class="" data-v-049e3959><a class="close" data-v-049e3959><i class="fa-solid fa-close" data-v-049e3959></i></a><!--[--><a href="/blueprints/" class="" data-v-049e3959>Blueprints</a><a href="/features/" class="" data-v-049e3959>Features</a><a href="/layers/" class="" data-v-049e3959>Layers</a><a href="/architecture/" class="active" data-v-049e3959>Architecture</a><a href="/release-notes/" class="" data-v-049e3959>Release Notes</a><!--]--><a href="https://github.com/mouseless/do" rel="noopener noreferrer" target="_blank" data-v-049e3959><i class="fa-brands fa-github" data-v-049e3959></i></a></nav></header></div><div class="content" data-v-5e897649><nav class="side" data-v-5e897649 data-v-9dee0249><h4 data-v-9dee0249><a data-v-9dee0249>Pages</a></h4><ul class="" data-v-9dee0249><li data-v-9dee0249><!--[--><!--]--></li></ul></nav><article data-v-5e897649><!--[--><!--[--><div class="container" data-v-b90ae7fa><div class="content" data-v-b90ae7fa><div class="toc-root" data-v-b90ae7fa><h1 id="layer"><!--[-->Layer<!--]--></h1><p><!--[-->Each <code class=""><!--[-->ILayer<!--]--></code> implementation represents an internal system component of the
software you develop. A layer provides application features with configuration
of this system component so that the features can bind domain objects and
system components together.<!--]--></p><p><!--[-->Let&#39;s take relational database as an example. A relational database is treated
as an internal system component and is introduced by the <code class=""><!--[-->DataAccessLayer<!--]--></code> along
with a configuration API. This API enables a feature to map your domain entities
to database tables.<!--]--></p><p><!--[-->Another good example is the <code class=""><!--[-->HttpServerLayer<!--]--></code>. This layer introduces the ASP.NET
Core framework into your application. It provides three phases, as mentioned in
<a href="/architecture/application" class="" data-v-f8417185><!--[-->Application<!--]--><!----></a>, along with <code class=""><!--[-->IMiddlewareCollection<!--]--></code> and
<code class=""><!--[-->IEndpointRouteBuilder<!--]--></code> objects as its configuration API. This way, any feature
has the ability to use a middleware or add routes to the application.<!--]--></p><h2 id="conventions"><!--[-->Conventions<!--]--></h2><p><!--[-->For a consistent developer experience, follow below conventions when
implementing a new layer;<!--]--></p><ol><!--[--><li><!--[-->Place all layer related classes under the same folder named after layer,
e.g., <code class=""><!--[-->DependencyInjection/<!--]--></code><!--]--></li><li><!--[-->Use <code class=""><!--[-->Layer<!--]--></code> suffix in layer class name, e.g.,
<code class=""><!--[-->DependencyInjection/DependencyInjectionLayer.cs<!--]--></code><!--]--></li><li><!--[-->Provide extension methods in <code class=""><!--[-->Do<!--]--></code> namespace, e.g.,
<code class=""><!--[-->DependencyInjection/DependencyInjectionExtensions.cs<!--]--></code>;
<ol><!--[--><li><!--[--><code class=""><!--[-->Add<!--]--></code> extension to <code class=""><!--[-->List&lt;ILayer&gt;<!--]--></code>, e.g., <code class=""><!--[-->AddDependencyInjection()<!--]--></code><!--]--></li><li><!--[--><code class=""><!--[-->Get<!--]--></code> extensions to <code class=""><!--[-->ApplicationContext<!--]--></code>, e.g.,
<code class=""><!--[-->GetWebApplicationBuilder()<!--]--></code>, <code class=""><!--[-->GetWebApplication()<!--]--></code><!--]--></li><li><!--[--><code class=""><!--[-->Configure<!--]--></code> extensions to <code class=""><!--[-->LayerConfigurator<!--]--></code> per configuration
target(s), e.g., <code class=""><!--[-->ConfigureServiceCollection()<!--]--></code><!--]--></li><!--]--></ol><!--]--></li><li><!--[-->Place phase implementations as nested classes under the layer class<!--]--></li><li><!--[-->Don&#39;t use any suffix for phases and use method-like names, e.g., <code class=""><!--[-->Build<!--]--></code> and
<code class=""><!--[-->Run<!--]--></code><!--]--></li><!--]--></ol><p><!--[-->Please refer to existing layers in <a href="https://github.com/mouseless/do" rel="nofollow" target="_blank" data-v-f8417185><!--[-->github.com/mouseless/do<!--]--><i class="fa-solid fa-arrow-up-right-from-square" data-v-f8417185></i></a> for examples.<!--]--></p><h2 id="creating-a-layer"><!--[-->Creating A Layer<!--]--></h2><p><!--[-->To create a layer, create a class using above conventions and extend
<code class=""><!--[-->LayerBase<!--]--></code>.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">    ...
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="tip" data-v-cab260a3><i class="fa fa-lightbulb" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->You can directly implement provided interface <code class=""><!--[-->ILayer<!--]--></code>, however we&#39;ve created
some base classes to make it easier for you to create layers. All examples
demonstrate usage of these base classes.<!--]--></p><!--]--></div></blockquote><h3 id="id-of-a-layer"><!--[--><code class=""><!--[-->Id<!--]--></code> of a Layer<!--]--></h3><p><!--[--><code class=""><!--[-->ILayer<!--]--></code> has an <code class=""><!--[-->Id<!--]--></code> property which should be a unique per <code class=""><!--[-->Application<!--]--></code>
instance. <code class=""><!--[-->LayerBase<!--]--></code> sets the <code class=""><!--[-->Id<!--]--></code> as name of the concrete class e.g.,
<code class=""><!--[-->LayerX<!--]--></code> at above example.<!--]--></p><p><!--[-->You can override its value in layer implementation class as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> string</span><span style="--shiki-default:#9CDCFE"> Id</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#CE9178"> &quot;CustomUniqueId&quot;
</span></span><span class="line" line="4"><span style="--shiki-default:#D4D4D4">    ..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><h2 id="adding-phases"><!--[-->Adding Phases<!--]--></h2><p><!--[-->By default <code class=""><!--[-->LayerBase<!--]--></code> returns no phases. To add one or more phases into the
application, you need to override <code class=""><!--[-->GetPhases()<!--]--></code> method as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> SampleLayer</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> IEnumerable</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">IPhase</span><span style="--shiki-default:#E6E6E6">&gt; </span><span style="--shiki-default:#DCDCAA">GetPhases</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="5"><span style="--shiki-default:#C586C0">        yield</span><span style="--shiki-default:#C586C0"> return</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#4EC9B0"> DoA</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span style="--shiki-default:#C586C0">        yield</span><span style="--shiki-default:#C586C0"> return</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#4EC9B0"> DoB</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#569CD6">    public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> DoA</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6"> { ... }
</span></span><span class="line" line="10"><span style="--shiki-default:#569CD6">    public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> DoB</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6"> { ... }
</span></span><span class="line" line="11"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->Here <code class=""><!--[-->SampleLayer<!--]--></code> adds two phases, <code class=""><!--[-->DoA<!--]--></code> and <code class=""><!--[-->DoB<!--]--></code>, to the application.<!--]--></p><blockquote class="tip" data-v-cab260a3><i class="fa fa-lightbulb" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->By convention place the phase implementations as a nested class in the layer
it is added.<!--]--></p><!--]--></div></blockquote><h3 id="initializing-a-phase"><!--[-->Initializing a Phase<!--]--></h3><p><!--[--><code class=""><!--[-->PhaseBase<!--]--></code> class has <code class=""><!--[-->Initialize()<!--]--></code> method to override so that it can add an
object to the application context via <code class=""><!--[-->Context<!--]--></code> property. Below, you can see
how <code class=""><!--[-->CreateBuilder<!--]--></code> phase adds <code class=""><!--[-->WebApplicationBuilder<!--]--></code> to the context;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> CreateBuilder</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Initialize</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">        var</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#9CDCFE"> WebApplication</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateBuilder</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">build</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="tip" data-v-cab260a3><i class="fa fa-lightbulb" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->You can directly implement provided interface <code class=""><!--[-->IPhase<!--]--></code>, however we&#39;ve created
some base classes to make it easier for you to create phases. All examples
demonstrate usage of these base classes.<!--]--></p><!--]--></div></blockquote><h3 id="readiness-via-dependencies"><!--[-->Readiness via Dependencies<!--]--></h3><p><!--[-->You can define context dependencies via generic <code class=""><!--[-->PhaseBase&lt;&gt;<!--]--></code> classes to make
the phase wait until context is ready to provide that dependency. For example,
<code class=""><!--[-->Build<!--]--></code> depends on the <code class=""><!--[-->WebApplicationBuilder<!--]--></code> instance as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> Build</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">WebApplicationBuilder</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Initialize</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">WebApplicationBuilder</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">        var</span><span style="--shiki-default:#9CDCFE"> app</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Build</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">app</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[--><code class=""><!--[-->PhaseBase&lt;T&gt;<!--]--></code> class requires <code class=""><!--[-->Initialize(T t)<!--]--></code> method to be implemented.<!--]--></p><blockquote class="info" data-v-cab260a3><i class="fa fa-circle-info" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->You can provide more than one dependency for a phase. E.g., <code class=""><!--[-->Phase&lt;X, Y&gt;<!--]--></code>
will require <code class=""><!--[-->Initialize(X x, Y y)<!--]--></code> method to be implemented.<!--]--></p><!--]--></div></blockquote><blockquote class="warning" data-v-cab260a3><i class="fa fa-warning" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->Type of the dependency provided, must be exactly the same as the type of
dependency in <code class=""><!--[-->ApplicationContext<!--]--></code>. For more information
<a href="/architecture/application#running-an-application" class="" data-v-f8417185><!--[-->Running an Application<!--]--><!----></a><!--]--></p><!--]--></div></blockquote><h3 id="order-of-a-phase"><!--[-->Order of a Phase<!--]--></h3><p><!--[--><code class=""><!--[-->PhaseBase<!--]--></code> classes has <code class=""><!--[-->order<!--]--></code> parameter in their constructors. Default order
is <code class=""><!--[-->PhaseOrder.Normal<!--]--></code>. If you need to change the order, pass the desired order
to this parameter as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> DoThisEarlyOn</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">    : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">PhaseOrder</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#4EC9B0">Early</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">{ }
</span></span></code><!--]--></pre><!--]--><h2 id="providing-configuration"><!--[-->Providing Configuration<!--]--></h2><p><!--[-->Layers provide configuration objects phase by phase. This means a layer can
provide two different configuration objects for two different phases. For this
reason, a layer returns <code class=""><!--[-->PhaseContext<!--]--></code> instance per phase to which it provides
configuration.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> LayerXConfiguration</span><span style="--shiki-default:#9CDCFE"> _configuration</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="6"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->In this example, you see a layer named <code class=""><!--[-->LayerX<!--]--></code> providing a
<code class=""><!--[-->LayerXConfiguration<!--]--></code> instance during <code class=""><!--[-->AddServices<!--]--></code> phase.<!--]--></p><blockquote class="info" data-v-cab260a3><i class="fa fa-circle-info" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->By default, a layer returns <code class=""><!--[-->PhaseContext.Empty<!--]--></code> instance for the phases it
does not provide a configuration. This means <code class=""><!--[-->Application<!--]--></code> skips that layer
for the phases it doesn&#39;t have anything to configure.<!--]--></p><!--]--></div></blockquote><h3 id="using-non-generic-layerbase"><!--[-->Using non-generic <code class=""><!--[-->LayerBase<!--]--></code><!--]--></h3><p><!--[--><code class=""><!--[-->LayerBase&lt;&gt;<!--]--></code> classes allow up to three generic arguments. If you need to
implement a layer that has things to configure during more than three phases,
use non-generic <code class=""><!--[-->LayerBase<!--]--></code> class, override <code class=""><!--[-->GetContext(IPhase phase)<!--]--></code> method
and switch given phase according to its type;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> MyLayer</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">IPhase</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#C586C0"> switch
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">        {
</span></span><span class="line" line="6"><span style="--shiki-default:#4EC9B0">            PhaseA</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.),
</span></span><span class="line" line="7"><span style="--shiki-default:#4EC9B0">            PhaseB</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.),
</span></span><span class="line" line="8"><span style="--shiki-default:#569CD6">            _</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#569CD6"> base</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">phase</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">        };
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><h3 id="before-and-after-a-phase"><!--[-->Before and After a Phase<!--]--></h3><p><!--[-->Layers might need to do some standard stuff before and after a phase is applied
to all features for all layers. Use <code class=""><!--[-->GetContext()<!--]--></code> method to do stuff before,
and <code class=""><!--[-->onDispose:<!--]--></code> delegate to do stuff after.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> LayerXConfiguration</span><span style="--shiki-default:#9CDCFE"> _configuration</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="6"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="7"><span style="--shiki-default:#569CD6">        var</span><span style="--shiki-default:#9CDCFE"> services</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#9CDCFE"> Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Get</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">IServiceCollection</span><span style="--shiki-default:#E6E6E6">&gt;();
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#9CDCFE">        services</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddStandardStuffBefore</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration</span><span style="--shiki-default:#E6E6E6">,
</span></span><span class="line" line="12"><span style="--shiki-default:#9CDCFE">            onDispose</span><span style="--shiki-default:#E6E6E6">: () </span><span style="--shiki-default:#D4D4D4">=&gt;</span><span style="--shiki-default:#9CDCFE"> services</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddStandardStuffAfter</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">        );
</span></span><span class="line" line="14"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="15"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="info" data-v-cab260a3><i class="fa fa-circle-info" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->Notice that a layer has access to the <code class=""><!--[-->ApplicationContext<!--]--></code> instance through
<code class=""><!--[-->Context<!--]--></code> property provided in <code class=""><!--[-->LayerBase<!--]--></code> base class.<!--]--></p><!--]--></div></blockquote><blockquote class="warning" data-v-cab260a3><i class="fa fa-warning" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[--><code class=""><!--[-->GetContext()<!--]--></code> method is called for every layer before applying any of them
to features. And <code class=""><!--[-->onDispose:<!--]--></code> actions are called after applying these
contexts to all features.<!--]--></p><!--]--></div></blockquote><h3 id="providing-multiple-targets"><!--[-->Providing Multiple Targets<!--]--></h3><p><!--[-->It is possible to provide up to three configuration objects for the same phase.
There are two ways of providing multiple targets; at once or one by one.<!--]--></p><h4 id="at-once"><!--[-->At Once<!--]--></h4><p><!--[-->Below code demonstrates providing two configuration objects at once;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration1</span><span style="--shiki-default:#9CDCFE"> _configuration1</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration2</span><span style="--shiki-default:#9CDCFE"> _configuration2</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration1</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#9CDCFE">_configuration2</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->This phase context will require an action with two parameter in a feature;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="2"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Configure</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">LayerConfigurator</span><span style="--shiki-default:#9CDCFE"> configurator</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">    configurator</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Configure</span><span style="--shiki-default:#E6E6E6">((</span><span style="--shiki-default:#4EC9B0">Configuration1</span><span style="--shiki-default:#9CDCFE"> configuration1</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#4EC9B0">Configuration2</span><span style="--shiki-default:#9CDCFE"> configuration2</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="6"><span style="--shiki-default:#6A9955">        // use both objects to configure
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">    });
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">}
</span></span><span class="line" line="9"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span></code><!--]--></pre><!--]--><p><!--[-->See <a href="/architecture/feature" class="" data-v-f8417185><!--[-->Feature<!--]--><!----></a> for more information on using layer configurators
for features.<!--]--></p><h4 id="one-by-one"><!--[-->One by One<!--]--></h4><p><!--[-->Below code demonstrates providing configuration objects one by one;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration1</span><span style="--shiki-default:#9CDCFE"> _configuration1</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration2</span><span style="--shiki-default:#9CDCFE"> _configuration2</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContextBuilder</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration1</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration2</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Build</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="11"><span style="--shiki-default:#E6E6E6">        ;
</span></span><span class="line" line="12"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->This phase context will require two different actions in a feature;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="2"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Configure</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">LayerConfigurator</span><span style="--shiki-default:#9CDCFE"> configurator</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">    configurator</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Configure</span><span style="--shiki-default:#E6E6E6">((</span><span style="--shiki-default:#4EC9B0">Configuration1</span><span style="--shiki-default:#9CDCFE"> configuration1</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="6"><span style="--shiki-default:#6A9955">        // configure one by one
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">    });
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#9CDCFE">    configurator</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Configure</span><span style="--shiki-default:#E6E6E6">((</span><span style="--shiki-default:#4EC9B0">Configuration2</span><span style="--shiki-default:#9CDCFE"> configuration2</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="11"><span style="--shiki-default:#6A9955">        // configure one by one
</span></span><span class="line" line="12"><span style="--shiki-default:#E6E6E6">    });
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">}
</span></span><span class="line" line="14"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span></code><!--]--></pre><!--]--><blockquote class="tip" data-v-cab260a3><i class="fa fa-lightbulb" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[--><code class=""><!--[-->phase.CreateContext()<!--]--></code> is a helper method that utilizes
<code class=""><!--[-->phase.CreateContextBuilder()<!--]--></code> behind the scenes.<!--]--></p><!--]--></div></blockquote><h4 id="using-in-combination"><!--[-->Using in Combination<!--]--></h4><p><!--[-->You may combine these two ways to provide configuration;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration1</span><span style="--shiki-default:#9CDCFE"> _configuration1</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration2</span><span style="--shiki-default:#9CDCFE"> _configuration2</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration3</span><span style="--shiki-default:#9CDCFE"> _configuration3</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="8"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContextBuilder</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration1</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#9CDCFE">_configuration2</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration3</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="11"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Build</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="12"><span style="--shiki-default:#E6E6E6">        ;
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->This phase context will require two different actions;<!--]--></p><ol><!--[--><li><!--[-->For the first two configuration objects: <code class=""><!--[-->(Configuration1 configuration1, Configuration2 configuration2)<!--]--></code><!--]--></li><li><!--[-->For the last configuration object: <code class=""><!--[-->(Configuration3 configuration3)<!--]--></code>.<!--]--></li><!--]--></ol><style>html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></div><div class="navigation-buttons-container" data-v-b90ae7fa data-v-6a000fc9><div class="button left" data-v-6a000fc9><a href="/architecture/application" class="" data-v-6a000fc9><div class="link-text" data-v-6a000fc9><i class="fa-solid fa-caret-left" data-v-6a000fc9></i> Previous <h3 data-v-6a000fc9>Application</h3></div></a></div><div class="button right" data-v-6a000fc9><a href="/architecture/feature" class="" data-v-6a000fc9><div class="link-text" data-v-6a000fc9> Next <i class="fa-solid fa-caret-right" data-v-6a000fc9></i><h3 data-v-6a000fc9>Feature</h3></div></a></div></div></div><nav data-v-b90ae7fa data-v-4f8affad><h4 data-v-4f8affad><a data-v-4f8affad>On This Page</a></h4><ul class="" data-v-4f8affad><!--[--><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#conventions" class="router-link-active router-link-exact-active" data-v-4f8affad>Conventions</a><ul data-v-4f8affad><!--[--><!--]--></ul></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#creating-a-layer" class="router-link-active router-link-exact-active" data-v-4f8affad>Creating A Layer</a><ul data-v-4f8affad><!--[--><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#id-of-a-layer" class="router-link-active router-link-exact-active" data-v-4f8affad>Id of a Layer</a></li><!--]--></ul></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#adding-phases" class="router-link-active router-link-exact-active" data-v-4f8affad>Adding Phases</a><ul data-v-4f8affad><!--[--><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#initializing-a-phase" class="router-link-active router-link-exact-active" data-v-4f8affad>Initializing a Phase</a></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#readiness-via-dependencies" class="router-link-active router-link-exact-active" data-v-4f8affad>Readiness via Dependencies</a></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#order-of-a-phase" class="router-link-active router-link-exact-active" data-v-4f8affad>Order of a Phase</a></li><!--]--></ul></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#providing-configuration" class="router-link-active router-link-exact-active" data-v-4f8affad>Providing Configuration</a><ul data-v-4f8affad><!--[--><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#using-non-generic-layerbase" class="router-link-active router-link-exact-active" data-v-4f8affad>Using non-generic LayerBase</a></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#before-and-after-a-phase" class="router-link-active router-link-exact-active" data-v-4f8affad>Before and After a Phase</a></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#providing-multiple-targets" class="router-link-active router-link-exact-active" data-v-4f8affad>Providing Multiple Targets</a></li><!--]--></ul></li><!--]--><li data-v-4f8affad><a class="return-to-top" href="#" data-v-4f8affad>Return to top</a></li></ul></nav></div><!--]--><!--]--></article></div><div class="bottom" data-v-5e897649 data-v-1bbc78ba><footer data-v-1bbc78ba><div class="logo" data-v-1bbc78ba><a href="/" class="" data-v-1bbc78ba><img class="do logo mono" data-v-1bbc78ba></a><span data-v-1bbc78ba>Copyright (c) 2023 Mouseless - MIT License</span></div><nav data-v-1bbc78ba><!--[--><a href="/blueprints/" class="" data-v-1bbc78ba>Blueprints</a><a href="/features/" class="" data-v-1bbc78ba>Features</a><a href="/layers/" class="" data-v-1bbc78ba>Layers</a><a href="/architecture/" class="" data-v-1bbc78ba>Architecture</a><a href="/release-notes/" class="" data-v-1bbc78ba>Release Notes</a><!--]--><a href="https://github.com/mouseless/do" rel="noopener noreferrer" target="_blank" data-v-1bbc78ba><i class="fa-brands fa-github" data-v-1bbc78ba></i> /mouseless/do</a></nav></footer></div></div></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true">[["Reactive",1],{"data":2,"state":3477,"_errors":3478,"serverRendered":696,"path":4,"prerenderedAt":3480,"pinia":3481},{"content-query-hBLt6OxXWy":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"body":10,"_type":3472,"_id":3473,"_source":3474,"_file":3475,"_extension":3476},"/architecture/layer","architecture",false,"","Layer","Each ILayer implementation represents an internal system component of the\nsoftware you develop. A layer provides application features with configuration\nof this system component so that the features can bind domain objects and\nsystem components together.",{"type":11,"children":12,"toc":3454},"root",[13,21,35,47,82,89,94,240,255,261,273,344,364,376,416,421,515,521,539,767,793,805,811,848,1006,1023,1029,1053,1228,1245,1271,1296,1302,1325,1394,1400,1412,1580,1604,1629,1639,1662,1887,1893,1912,2204,2234,2256,2262,2267,2274,2279,2476,2481,2634,2647,2653,2658,2904,2909,3103,3127,3133,3138,3419,3424,3448],{"type":14,"tag":15,"props":16,"children":18},"element","h1",{"id":17},"layer",[19],{"type":20,"value":8},"text",{"type":14,"tag":22,"props":23,"children":24},"p",{},[25,27,33],{"type":20,"value":26},"Each ",{"type":14,"tag":28,"props":29,"children":30},"code",{"className":7},[31],{"type":20,"value":32},"ILayer",{"type":20,"value":34}," implementation represents an internal system component of the\nsoftware you develop. A layer provides application features with configuration\nof this system component so that the features can bind domain objects and\nsystem components together.",{"type":14,"tag":22,"props":36,"children":37},{},[38,40,45],{"type":20,"value":39},"Let's take relational database as an example. A relational database is treated\nas an internal system component and is introduced by the ",{"type":14,"tag":28,"props":41,"children":42},{"className":7},[43],{"type":20,"value":44},"DataAccessLayer",{"type":20,"value":46}," along\nwith a configuration API. This API enables a feature to map your domain entities\nto database tables.",{"type":14,"tag":22,"props":48,"children":49},{},[50,52,57,59,66,68,73,75,80],{"type":20,"value":51},"Another good example is the ",{"type":14,"tag":28,"props":53,"children":54},{"className":7},[55],{"type":20,"value":56},"HttpServerLayer",{"type":20,"value":58},". This layer introduces the ASP.NET\nCore framework into your application. It provides three phases, as mentioned in\n",{"type":14,"tag":60,"props":61,"children":63},"a",{"href":62},"./application",[64],{"type":20,"value":65},"Application",{"type":20,"value":67},", along with ",{"type":14,"tag":28,"props":69,"children":70},{"className":7},[71],{"type":20,"value":72},"IMiddlewareCollection",{"type":20,"value":74}," and\n",{"type":14,"tag":28,"props":76,"children":77},{"className":7},[78],{"type":20,"value":79},"IEndpointRouteBuilder",{"type":20,"value":81}," objects as its configuration API. This way, any feature\nhas the ability to use a middleware or add routes to the application.",{"type":14,"tag":83,"props":84,"children":86},"h2",{"id":85},"conventions",[87],{"type":20,"value":88},"Conventions",{"type":14,"tag":22,"props":90,"children":91},{},[92],{"type":20,"value":93},"For a consistent developer experience, follow below conventions when\nimplementing a new layer;",{"type":14,"tag":95,"props":96,"children":97},"ol",{},[98,109,125,219,224],{"type":14,"tag":99,"props":100,"children":101},"li",{},[102,104],{"type":20,"value":103},"Place all layer related classes under the same folder named after layer,\ne.g., ",{"type":14,"tag":28,"props":105,"children":106},{"className":7},[107],{"type":20,"value":108},"DependencyInjection/",{"type":14,"tag":99,"props":110,"children":111},{},[112,114,118,120],{"type":20,"value":113},"Use ",{"type":14,"tag":28,"props":115,"children":116},{"className":7},[117],{"type":20,"value":8},{"type":20,"value":119}," suffix in layer class name, e.g.,\n",{"type":14,"tag":28,"props":121,"children":122},{"className":7},[123],{"type":20,"value":124},"DependencyInjection/DependencyInjectionLayer.cs",{"type":14,"tag":99,"props":126,"children":127},{},[128,130,135,137,142,144],{"type":20,"value":129},"Provide extension methods in ",{"type":14,"tag":28,"props":131,"children":132},{"className":7},[133],{"type":20,"value":134},"Do",{"type":20,"value":136}," namespace, e.g.,\n",{"type":14,"tag":28,"props":138,"children":139},{"className":7},[140],{"type":20,"value":141},"DependencyInjection/DependencyInjectionExtensions.cs",{"type":20,"value":143},";\n",{"type":14,"tag":95,"props":145,"children":146},{},[147,169,198],{"type":14,"tag":99,"props":148,"children":149},{},[150,155,157,162,164],{"type":14,"tag":28,"props":151,"children":152},{"className":7},[153],{"type":20,"value":154},"Add",{"type":20,"value":156}," extension to ",{"type":14,"tag":28,"props":158,"children":159},{"className":7},[160],{"type":20,"value":161},"List\u003CILayer>",{"type":20,"value":163},", e.g., ",{"type":14,"tag":28,"props":165,"children":166},{"className":7},[167],{"type":20,"value":168},"AddDependencyInjection()",{"type":14,"tag":99,"props":170,"children":171},{},[172,177,179,184,186,191,193],{"type":14,"tag":28,"props":173,"children":174},{"className":7},[175],{"type":20,"value":176},"Get",{"type":20,"value":178}," extensions to ",{"type":14,"tag":28,"props":180,"children":181},{"className":7},[182],{"type":20,"value":183},"ApplicationContext",{"type":20,"value":185},", e.g.,\n",{"type":14,"tag":28,"props":187,"children":188},{"className":7},[189],{"type":20,"value":190},"GetWebApplicationBuilder()",{"type":20,"value":192},", ",{"type":14,"tag":28,"props":194,"children":195},{"className":7},[196],{"type":20,"value":197},"GetWebApplication()",{"type":14,"tag":99,"props":199,"children":200},{},[201,206,207,212,214],{"type":14,"tag":28,"props":202,"children":203},{"className":7},[204],{"type":20,"value":205},"Configure",{"type":20,"value":178},{"type":14,"tag":28,"props":208,"children":209},{"className":7},[210],{"type":20,"value":211},"LayerConfigurator",{"type":20,"value":213}," per configuration\ntarget(s), e.g., ",{"type":14,"tag":28,"props":215,"children":216},{"className":7},[217],{"type":20,"value":218},"ConfigureServiceCollection()",{"type":14,"tag":99,"props":220,"children":221},{},[222],{"type":20,"value":223},"Place phase implementations as nested classes under the layer class",{"type":14,"tag":99,"props":225,"children":226},{},[227,229,234,235],{"type":20,"value":228},"Don't use any suffix for phases and use method-like names, e.g., ",{"type":14,"tag":28,"props":230,"children":231},{"className":7},[232],{"type":20,"value":233},"Build",{"type":20,"value":74},{"type":14,"tag":28,"props":236,"children":237},{"className":7},[238],{"type":20,"value":239},"Run",{"type":14,"tag":22,"props":241,"children":242},{},[243,245,253],{"type":20,"value":244},"Please refer to existing layers in ",{"type":14,"tag":60,"props":246,"children":250},{"href":247,"rel":248},"https://github.com/mouseless/do",[249],"nofollow",[251],{"type":20,"value":252},"github.com/mouseless/do",{"type":20,"value":254}," for examples.",{"type":14,"tag":83,"props":256,"children":258},{"id":257},"creating-a-layer",[259],{"type":20,"value":260},"Creating A Layer",{"type":14,"tag":22,"props":262,"children":263},{},[264,266,271],{"type":20,"value":265},"To create a layer, create a class using above conventions and extend\n",{"type":14,"tag":28,"props":267,"children":268},{"className":7},[269],{"type":20,"value":270},"LayerBase",{"type":20,"value":272},".",{"type":14,"tag":274,"props":275,"children":279},"pre",{"className":276,"code":277,"language":278,"meta":7,"style":7},"language-csharp shiki shiki-themes slack-dark","public class LayerX : LayerBase\n{\n    ...\n}\n","csharp",[280],{"type":14,"tag":28,"props":281,"children":282},{"__ignoreMap":7},[283,317,326,335],{"type":14,"tag":284,"props":285,"children":288},"span",{"class":286,"line":287},"line",1,[289,295,300,306,312],{"type":14,"tag":284,"props":290,"children":292},{"style":291},"--shiki-default:#569CD6",[293],{"type":20,"value":294},"public",{"type":14,"tag":284,"props":296,"children":297},{"style":291},[298],{"type":20,"value":299}," class",{"type":14,"tag":284,"props":301,"children":303},{"style":302},"--shiki-default:#4EC9B0",[304],{"type":20,"value":305}," LayerX",{"type":14,"tag":284,"props":307,"children":309},{"style":308},"--shiki-default:#E6E6E6",[310],{"type":20,"value":311}," : ",{"type":14,"tag":284,"props":313,"children":314},{"style":302},[315],{"type":20,"value":316},"LayerBase\n",{"type":14,"tag":284,"props":318,"children":320},{"class":286,"line":319},2,[321],{"type":14,"tag":284,"props":322,"children":323},{"style":308},[324],{"type":20,"value":325},"{\n",{"type":14,"tag":284,"props":327,"children":329},{"class":286,"line":328},3,[330],{"type":14,"tag":284,"props":331,"children":332},{"style":308},[333],{"type":20,"value":334},"    ...\n",{"type":14,"tag":284,"props":336,"children":338},{"class":286,"line":337},4,[339],{"type":14,"tag":284,"props":340,"children":341},{"style":308},[342],{"type":20,"value":343},"}\n",{"type":14,"tag":345,"props":346,"children":347},"blockquote",{},[348,353],{"type":14,"tag":22,"props":349,"children":350},{},[351],{"type":20,"value":352},":bulb:",{"type":14,"tag":22,"props":354,"children":355},{},[356,358,362],{"type":20,"value":357},"You can directly implement provided interface ",{"type":14,"tag":28,"props":359,"children":360},{"className":7},[361],{"type":20,"value":32},{"type":20,"value":363},", however we've created\nsome base classes to make it easier for you to create layers. All examples\ndemonstrate usage of these base classes.",{"type":14,"tag":365,"props":366,"children":368},"h3",{"id":367},"id-of-a-layer",[369,374],{"type":14,"tag":28,"props":370,"children":371},{"className":7},[372],{"type":20,"value":373},"Id",{"type":20,"value":375}," of a Layer",{"type":14,"tag":22,"props":377,"children":378},{},[379,383,385,389,391,395,397,401,403,407,409,414],{"type":14,"tag":28,"props":380,"children":381},{"className":7},[382],{"type":20,"value":32},{"type":20,"value":384}," has an ",{"type":14,"tag":28,"props":386,"children":387},{"className":7},[388],{"type":20,"value":373},{"type":20,"value":390}," property which should be a unique per ",{"type":14,"tag":28,"props":392,"children":393},{"className":7},[394],{"type":20,"value":65},{"type":20,"value":396},"\ninstance. ",{"type":14,"tag":28,"props":398,"children":399},{"className":7},[400],{"type":20,"value":270},{"type":20,"value":402}," sets the ",{"type":14,"tag":28,"props":404,"children":405},{"className":7},[406],{"type":20,"value":373},{"type":20,"value":408}," as name of the concrete class e.g.,\n",{"type":14,"tag":28,"props":410,"children":411},{"className":7},[412],{"type":20,"value":413},"LayerX",{"type":20,"value":415}," at above example.",{"type":14,"tag":22,"props":417,"children":418},{},[419],{"type":20,"value":420},"You can override its value in layer implementation class as shown below;",{"type":14,"tag":274,"props":422,"children":424},{"className":276,"code":423,"language":278,"meta":7,"style":7},"public class LayerX : LayerBase\n{\n    protected override string Id => \"CustomUniqueId\"\n    ...\n}\n",[425],{"type":14,"tag":28,"props":426,"children":427},{"__ignoreMap":7},[428,451,458,494,507],{"type":14,"tag":284,"props":429,"children":430},{"class":286,"line":287},[431,435,439,443,447],{"type":14,"tag":284,"props":432,"children":433},{"style":291},[434],{"type":20,"value":294},{"type":14,"tag":284,"props":436,"children":437},{"style":291},[438],{"type":20,"value":299},{"type":14,"tag":284,"props":440,"children":441},{"style":302},[442],{"type":20,"value":305},{"type":14,"tag":284,"props":444,"children":445},{"style":308},[446],{"type":20,"value":311},{"type":14,"tag":284,"props":448,"children":449},{"style":302},[450],{"type":20,"value":316},{"type":14,"tag":284,"props":452,"children":453},{"class":286,"line":319},[454],{"type":14,"tag":284,"props":455,"children":456},{"style":308},[457],{"type":20,"value":325},{"type":14,"tag":284,"props":459,"children":460},{"class":286,"line":328},[461,466,471,476,482,488],{"type":14,"tag":284,"props":462,"children":463},{"style":291},[464],{"type":20,"value":465},"    protected",{"type":14,"tag":284,"props":467,"children":468},{"style":291},[469],{"type":20,"value":470}," override",{"type":14,"tag":284,"props":472,"children":473},{"style":291},[474],{"type":20,"value":475}," string",{"type":14,"tag":284,"props":477,"children":479},{"style":478},"--shiki-default:#9CDCFE",[480],{"type":20,"value":481}," Id",{"type":14,"tag":284,"props":483,"children":485},{"style":484},"--shiki-default:#D4D4D4",[486],{"type":20,"value":487}," =>",{"type":14,"tag":284,"props":489,"children":491},{"style":490},"--shiki-default:#CE9178",[492],{"type":20,"value":493}," \"CustomUniqueId\"\n",{"type":14,"tag":284,"props":495,"children":496},{"class":286,"line":337},[497,502],{"type":14,"tag":284,"props":498,"children":499},{"style":484},[500],{"type":20,"value":501},"    ..",{"type":14,"tag":284,"props":503,"children":504},{"style":308},[505],{"type":20,"value":506},".\n",{"type":14,"tag":284,"props":508,"children":510},{"class":286,"line":509},5,[511],{"type":14,"tag":284,"props":512,"children":513},{"style":308},[514],{"type":20,"value":343},{"type":14,"tag":83,"props":516,"children":518},{"id":517},"adding-phases",[519],{"type":20,"value":520},"Adding Phases",{"type":14,"tag":22,"props":522,"children":523},{},[524,526,530,532,537],{"type":20,"value":525},"By default ",{"type":14,"tag":28,"props":527,"children":528},{"className":7},[529],{"type":20,"value":270},{"type":20,"value":531}," returns no phases. To add one or more phases into the\napplication, you need to override ",{"type":14,"tag":28,"props":533,"children":534},{"className":7},[535],{"type":20,"value":536},"GetPhases()",{"type":20,"value":538}," method as shown below;",{"type":14,"tag":274,"props":540,"children":542},{"className":276,"code":541,"language":278,"meta":7,"style":7},"public class SampleLayer : LayerBase\n{\n    protected override IEnumerable\u003CIPhase> GetPhases()\n    {\n        yield return new DoA();\n        yield return new DoB();\n    }\n\n    public class DoA : PhaseBase { ... }\n    public class DoB : PhaseBase { ... }\n}\n",[543],{"type":14,"tag":28,"props":544,"children":545},{"__ignoreMap":7},[546,570,577,619,627,656,681,690,700,731,759],{"type":14,"tag":284,"props":547,"children":548},{"class":286,"line":287},[549,553,557,562,566],{"type":14,"tag":284,"props":550,"children":551},{"style":291},[552],{"type":20,"value":294},{"type":14,"tag":284,"props":554,"children":555},{"style":291},[556],{"type":20,"value":299},{"type":14,"tag":284,"props":558,"children":559},{"style":302},[560],{"type":20,"value":561}," SampleLayer",{"type":14,"tag":284,"props":563,"children":564},{"style":308},[565],{"type":20,"value":311},{"type":14,"tag":284,"props":567,"children":568},{"style":302},[569],{"type":20,"value":316},{"type":14,"tag":284,"props":571,"children":572},{"class":286,"line":319},[573],{"type":14,"tag":284,"props":574,"children":575},{"style":308},[576],{"type":20,"value":325},{"type":14,"tag":284,"props":578,"children":579},{"class":286,"line":328},[580,584,588,593,598,603,608,614],{"type":14,"tag":284,"props":581,"children":582},{"style":291},[583],{"type":20,"value":465},{"type":14,"tag":284,"props":585,"children":586},{"style":291},[587],{"type":20,"value":470},{"type":14,"tag":284,"props":589,"children":590},{"style":302},[591],{"type":20,"value":592}," IEnumerable",{"type":14,"tag":284,"props":594,"children":595},{"style":308},[596],{"type":20,"value":597},"\u003C",{"type":14,"tag":284,"props":599,"children":600},{"style":302},[601],{"type":20,"value":602},"IPhase",{"type":14,"tag":284,"props":604,"children":605},{"style":308},[606],{"type":20,"value":607},"> ",{"type":14,"tag":284,"props":609,"children":611},{"style":610},"--shiki-default:#DCDCAA",[612],{"type":20,"value":613},"GetPhases",{"type":14,"tag":284,"props":615,"children":616},{"style":308},[617],{"type":20,"value":618},"()\n",{"type":14,"tag":284,"props":620,"children":621},{"class":286,"line":337},[622],{"type":14,"tag":284,"props":623,"children":624},{"style":308},[625],{"type":20,"value":626},"    {\n",{"type":14,"tag":284,"props":628,"children":629},{"class":286,"line":509},[630,636,641,646,651],{"type":14,"tag":284,"props":631,"children":633},{"style":632},"--shiki-default:#C586C0",[634],{"type":20,"value":635},"        yield",{"type":14,"tag":284,"props":637,"children":638},{"style":632},[639],{"type":20,"value":640}," return",{"type":14,"tag":284,"props":642,"children":643},{"style":291},[644],{"type":20,"value":645}," new",{"type":14,"tag":284,"props":647,"children":648},{"style":302},[649],{"type":20,"value":650}," DoA",{"type":14,"tag":284,"props":652,"children":653},{"style":308},[654],{"type":20,"value":655},"();\n",{"type":14,"tag":284,"props":657,"children":659},{"class":286,"line":658},6,[660,664,668,672,677],{"type":14,"tag":284,"props":661,"children":662},{"style":632},[663],{"type":20,"value":635},{"type":14,"tag":284,"props":665,"children":666},{"style":632},[667],{"type":20,"value":640},{"type":14,"tag":284,"props":669,"children":670},{"style":291},[671],{"type":20,"value":645},{"type":14,"tag":284,"props":673,"children":674},{"style":302},[675],{"type":20,"value":676}," DoB",{"type":14,"tag":284,"props":678,"children":679},{"style":308},[680],{"type":20,"value":655},{"type":14,"tag":284,"props":682,"children":684},{"class":286,"line":683},7,[685],{"type":14,"tag":284,"props":686,"children":687},{"style":308},[688],{"type":20,"value":689},"    }\n",{"type":14,"tag":284,"props":691,"children":693},{"class":286,"line":692},8,[694],{"type":14,"tag":284,"props":695,"children":697},{"emptyLinePlaceholder":696},true,[698],{"type":20,"value":699},"\n",{"type":14,"tag":284,"props":701,"children":703},{"class":286,"line":702},9,[704,709,713,717,721,726],{"type":14,"tag":284,"props":705,"children":706},{"style":291},[707],{"type":20,"value":708},"    public",{"type":14,"tag":284,"props":710,"children":711},{"style":291},[712],{"type":20,"value":299},{"type":14,"tag":284,"props":714,"children":715},{"style":302},[716],{"type":20,"value":650},{"type":14,"tag":284,"props":718,"children":719},{"style":308},[720],{"type":20,"value":311},{"type":14,"tag":284,"props":722,"children":723},{"style":302},[724],{"type":20,"value":725},"PhaseBase",{"type":14,"tag":284,"props":727,"children":728},{"style":308},[729],{"type":20,"value":730}," { ... }\n",{"type":14,"tag":284,"props":732,"children":734},{"class":286,"line":733},10,[735,739,743,747,751,755],{"type":14,"tag":284,"props":736,"children":737},{"style":291},[738],{"type":20,"value":708},{"type":14,"tag":284,"props":740,"children":741},{"style":291},[742],{"type":20,"value":299},{"type":14,"tag":284,"props":744,"children":745},{"style":302},[746],{"type":20,"value":676},{"type":14,"tag":284,"props":748,"children":749},{"style":308},[750],{"type":20,"value":311},{"type":14,"tag":284,"props":752,"children":753},{"style":302},[754],{"type":20,"value":725},{"type":14,"tag":284,"props":756,"children":757},{"style":308},[758],{"type":20,"value":730},{"type":14,"tag":284,"props":760,"children":762},{"class":286,"line":761},11,[763],{"type":14,"tag":284,"props":764,"children":765},{"style":308},[766],{"type":20,"value":343},{"type":14,"tag":22,"props":768,"children":769},{},[770,772,777,779,784,786,791],{"type":20,"value":771},"Here ",{"type":14,"tag":28,"props":773,"children":774},{"className":7},[775],{"type":20,"value":776},"SampleLayer",{"type":20,"value":778}," adds two phases, ",{"type":14,"tag":28,"props":780,"children":781},{"className":7},[782],{"type":20,"value":783},"DoA",{"type":20,"value":785}," and ",{"type":14,"tag":28,"props":787,"children":788},{"className":7},[789],{"type":20,"value":790},"DoB",{"type":20,"value":792},", to the application.",{"type":14,"tag":345,"props":794,"children":795},{},[796,800],{"type":14,"tag":22,"props":797,"children":798},{},[799],{"type":20,"value":352},{"type":14,"tag":22,"props":801,"children":802},{},[803],{"type":20,"value":804},"By convention place the phase implementations as a nested class in the layer\nit is added.",{"type":14,"tag":365,"props":806,"children":808},{"id":807},"initializing-a-phase",[809],{"type":20,"value":810},"Initializing a Phase",{"type":14,"tag":22,"props":812,"children":813},{},[814,818,820,825,827,832,834,839,841,846],{"type":14,"tag":28,"props":815,"children":816},{"className":7},[817],{"type":20,"value":725},{"type":20,"value":819}," class has ",{"type":14,"tag":28,"props":821,"children":822},{"className":7},[823],{"type":20,"value":824},"Initialize()",{"type":20,"value":826}," method to override so that it can add an\nobject to the application context via ",{"type":14,"tag":28,"props":828,"children":829},{"className":7},[830],{"type":20,"value":831},"Context",{"type":20,"value":833}," property. Below, you can see\nhow ",{"type":14,"tag":28,"props":835,"children":836},{"className":7},[837],{"type":20,"value":838},"CreateBuilder",{"type":20,"value":840}," phase adds ",{"type":14,"tag":28,"props":842,"children":843},{"className":7},[844],{"type":20,"value":845},"WebApplicationBuilder",{"type":20,"value":847}," to the context;",{"type":14,"tag":274,"props":849,"children":851},{"className":276,"code":850,"language":278,"meta":7,"style":7},"public class CreateBuilder : PhaseBase\n{\n    protected override void Initialize()\n    {\n        var build = WebApplication.CreateBuilder();\n\n        Context.Add(build);\n    }\n}\n",[852],{"type":14,"tag":28,"props":853,"children":854},{"__ignoreMap":7},[855,880,887,912,919,954,961,992,999],{"type":14,"tag":284,"props":856,"children":857},{"class":286,"line":287},[858,862,866,871,875],{"type":14,"tag":284,"props":859,"children":860},{"style":291},[861],{"type":20,"value":294},{"type":14,"tag":284,"props":863,"children":864},{"style":291},[865],{"type":20,"value":299},{"type":14,"tag":284,"props":867,"children":868},{"style":302},[869],{"type":20,"value":870}," CreateBuilder",{"type":14,"tag":284,"props":872,"children":873},{"style":308},[874],{"type":20,"value":311},{"type":14,"tag":284,"props":876,"children":877},{"style":302},[878],{"type":20,"value":879},"PhaseBase\n",{"type":14,"tag":284,"props":881,"children":882},{"class":286,"line":319},[883],{"type":14,"tag":284,"props":884,"children":885},{"style":308},[886],{"type":20,"value":325},{"type":14,"tag":284,"props":888,"children":889},{"class":286,"line":328},[890,894,898,903,908],{"type":14,"tag":284,"props":891,"children":892},{"style":291},[893],{"type":20,"value":465},{"type":14,"tag":284,"props":895,"children":896},{"style":291},[897],{"type":20,"value":470},{"type":14,"tag":284,"props":899,"children":900},{"style":291},[901],{"type":20,"value":902}," void",{"type":14,"tag":284,"props":904,"children":905},{"style":610},[906],{"type":20,"value":907}," Initialize",{"type":14,"tag":284,"props":909,"children":910},{"style":308},[911],{"type":20,"value":618},{"type":14,"tag":284,"props":913,"children":914},{"class":286,"line":337},[915],{"type":14,"tag":284,"props":916,"children":917},{"style":308},[918],{"type":20,"value":626},{"type":14,"tag":284,"props":920,"children":921},{"class":286,"line":509},[922,927,932,937,942,946,950],{"type":14,"tag":284,"props":923,"children":924},{"style":291},[925],{"type":20,"value":926},"        var",{"type":14,"tag":284,"props":928,"children":929},{"style":478},[930],{"type":20,"value":931}," build",{"type":14,"tag":284,"props":933,"children":934},{"style":484},[935],{"type":20,"value":936}," =",{"type":14,"tag":284,"props":938,"children":939},{"style":478},[940],{"type":20,"value":941}," WebApplication",{"type":14,"tag":284,"props":943,"children":944},{"style":308},[945],{"type":20,"value":272},{"type":14,"tag":284,"props":947,"children":948},{"style":610},[949],{"type":20,"value":838},{"type":14,"tag":284,"props":951,"children":952},{"style":308},[953],{"type":20,"value":655},{"type":14,"tag":284,"props":955,"children":956},{"class":286,"line":658},[957],{"type":14,"tag":284,"props":958,"children":959},{"emptyLinePlaceholder":696},[960],{"type":20,"value":699},{"type":14,"tag":284,"props":962,"children":963},{"class":286,"line":683},[964,969,973,977,982,987],{"type":14,"tag":284,"props":965,"children":966},{"style":478},[967],{"type":20,"value":968},"        Context",{"type":14,"tag":284,"props":970,"children":971},{"style":308},[972],{"type":20,"value":272},{"type":14,"tag":284,"props":974,"children":975},{"style":610},[976],{"type":20,"value":154},{"type":14,"tag":284,"props":978,"children":979},{"style":308},[980],{"type":20,"value":981},"(",{"type":14,"tag":284,"props":983,"children":984},{"style":478},[985],{"type":20,"value":986},"build",{"type":14,"tag":284,"props":988,"children":989},{"style":308},[990],{"type":20,"value":991},");\n",{"type":14,"tag":284,"props":993,"children":994},{"class":286,"line":692},[995],{"type":14,"tag":284,"props":996,"children":997},{"style":308},[998],{"type":20,"value":689},{"type":14,"tag":284,"props":1000,"children":1001},{"class":286,"line":702},[1002],{"type":14,"tag":284,"props":1003,"children":1004},{"style":308},[1005],{"type":20,"value":343},{"type":14,"tag":345,"props":1007,"children":1008},{},[1009,1013],{"type":14,"tag":22,"props":1010,"children":1011},{},[1012],{"type":20,"value":352},{"type":14,"tag":22,"props":1014,"children":1015},{},[1016,1017,1021],{"type":20,"value":357},{"type":14,"tag":28,"props":1018,"children":1019},{"className":7},[1020],{"type":20,"value":602},{"type":20,"value":1022},", however we've created\nsome base classes to make it easier for you to create phases. All examples\ndemonstrate usage of these base classes.",{"type":14,"tag":365,"props":1024,"children":1026},{"id":1025},"readiness-via-dependencies",[1027],{"type":20,"value":1028},"Readiness via Dependencies",{"type":14,"tag":22,"props":1030,"children":1031},{},[1032,1034,1039,1041,1045,1047,1051],{"type":20,"value":1033},"You can define context dependencies via generic ",{"type":14,"tag":28,"props":1035,"children":1036},{"className":7},[1037],{"type":20,"value":1038},"PhaseBase\u003C>",{"type":20,"value":1040}," classes to make\nthe phase wait until context is ready to provide that dependency. For example,\n",{"type":14,"tag":28,"props":1042,"children":1043},{"className":7},[1044],{"type":20,"value":233},{"type":20,"value":1046}," depends on the ",{"type":14,"tag":28,"props":1048,"children":1049},{"className":7},[1050],{"type":20,"value":845},{"type":20,"value":1052}," instance as shown below;",{"type":14,"tag":274,"props":1054,"children":1056},{"className":276,"code":1055,"language":278,"meta":7,"style":7},"public class Build : PhaseBase\u003CWebApplicationBuilder>\n{\n    protected override void Initialize(WebApplicationBuilder build)\n    {\n        var app = build.Build();\n\n        Context.Add(app);\n    }\n}\n",[1057],{"type":14,"tag":28,"props":1058,"children":1059},{"__ignoreMap":7},[1060,1097,1104,1140,1147,1179,1186,1214,1221],{"type":14,"tag":284,"props":1061,"children":1062},{"class":286,"line":287},[1063,1067,1071,1076,1080,1084,1088,1092],{"type":14,"tag":284,"props":1064,"children":1065},{"style":291},[1066],{"type":20,"value":294},{"type":14,"tag":284,"props":1068,"children":1069},{"style":291},[1070],{"type":20,"value":299},{"type":14,"tag":284,"props":1072,"children":1073},{"style":302},[1074],{"type":20,"value":1075}," Build",{"type":14,"tag":284,"props":1077,"children":1078},{"style":308},[1079],{"type":20,"value":311},{"type":14,"tag":284,"props":1081,"children":1082},{"style":302},[1083],{"type":20,"value":725},{"type":14,"tag":284,"props":1085,"children":1086},{"style":308},[1087],{"type":20,"value":597},{"type":14,"tag":284,"props":1089,"children":1090},{"style":302},[1091],{"type":20,"value":845},{"type":14,"tag":284,"props":1093,"children":1094},{"style":308},[1095],{"type":20,"value":1096},">\n",{"type":14,"tag":284,"props":1098,"children":1099},{"class":286,"line":319},[1100],{"type":14,"tag":284,"props":1101,"children":1102},{"style":308},[1103],{"type":20,"value":325},{"type":14,"tag":284,"props":1105,"children":1106},{"class":286,"line":328},[1107,1111,1115,1119,1123,1127,1131,1135],{"type":14,"tag":284,"props":1108,"children":1109},{"style":291},[1110],{"type":20,"value":465},{"type":14,"tag":284,"props":1112,"children":1113},{"style":291},[1114],{"type":20,"value":470},{"type":14,"tag":284,"props":1116,"children":1117},{"style":291},[1118],{"type":20,"value":902},{"type":14,"tag":284,"props":1120,"children":1121},{"style":610},[1122],{"type":20,"value":907},{"type":14,"tag":284,"props":1124,"children":1125},{"style":308},[1126],{"type":20,"value":981},{"type":14,"tag":284,"props":1128,"children":1129},{"style":302},[1130],{"type":20,"value":845},{"type":14,"tag":284,"props":1132,"children":1133},{"style":478},[1134],{"type":20,"value":931},{"type":14,"tag":284,"props":1136,"children":1137},{"style":308},[1138],{"type":20,"value":1139},")\n",{"type":14,"tag":284,"props":1141,"children":1142},{"class":286,"line":337},[1143],{"type":14,"tag":284,"props":1144,"children":1145},{"style":308},[1146],{"type":20,"value":626},{"type":14,"tag":284,"props":1148,"children":1149},{"class":286,"line":509},[1150,1154,1159,1163,1167,1171,1175],{"type":14,"tag":284,"props":1151,"children":1152},{"style":291},[1153],{"type":20,"value":926},{"type":14,"tag":284,"props":1155,"children":1156},{"style":478},[1157],{"type":20,"value":1158}," app",{"type":14,"tag":284,"props":1160,"children":1161},{"style":484},[1162],{"type":20,"value":936},{"type":14,"tag":284,"props":1164,"children":1165},{"style":478},[1166],{"type":20,"value":931},{"type":14,"tag":284,"props":1168,"children":1169},{"style":308},[1170],{"type":20,"value":272},{"type":14,"tag":284,"props":1172,"children":1173},{"style":610},[1174],{"type":20,"value":233},{"type":14,"tag":284,"props":1176,"children":1177},{"style":308},[1178],{"type":20,"value":655},{"type":14,"tag":284,"props":1180,"children":1181},{"class":286,"line":658},[1182],{"type":14,"tag":284,"props":1183,"children":1184},{"emptyLinePlaceholder":696},[1185],{"type":20,"value":699},{"type":14,"tag":284,"props":1187,"children":1188},{"class":286,"line":683},[1189,1193,1197,1201,1205,1210],{"type":14,"tag":284,"props":1190,"children":1191},{"style":478},[1192],{"type":20,"value":968},{"type":14,"tag":284,"props":1194,"children":1195},{"style":308},[1196],{"type":20,"value":272},{"type":14,"tag":284,"props":1198,"children":1199},{"style":610},[1200],{"type":20,"value":154},{"type":14,"tag":284,"props":1202,"children":1203},{"style":308},[1204],{"type":20,"value":981},{"type":14,"tag":284,"props":1206,"children":1207},{"style":478},[1208],{"type":20,"value":1209},"app",{"type":14,"tag":284,"props":1211,"children":1212},{"style":308},[1213],{"type":20,"value":991},{"type":14,"tag":284,"props":1215,"children":1216},{"class":286,"line":692},[1217],{"type":14,"tag":284,"props":1218,"children":1219},{"style":308},[1220],{"type":20,"value":689},{"type":14,"tag":284,"props":1222,"children":1223},{"class":286,"line":702},[1224],{"type":14,"tag":284,"props":1225,"children":1226},{"style":308},[1227],{"type":20,"value":343},{"type":14,"tag":22,"props":1229,"children":1230},{},[1231,1236,1238,1243],{"type":14,"tag":28,"props":1232,"children":1233},{"className":7},[1234],{"type":20,"value":1235},"PhaseBase\u003CT>",{"type":20,"value":1237}," class requires ",{"type":14,"tag":28,"props":1239,"children":1240},{"className":7},[1241],{"type":20,"value":1242},"Initialize(T t)",{"type":20,"value":1244}," method to be implemented.",{"type":14,"tag":345,"props":1246,"children":1247},{},[1248,1253],{"type":14,"tag":22,"props":1249,"children":1250},{},[1251],{"type":20,"value":1252},":information_source:",{"type":14,"tag":22,"props":1254,"children":1255},{},[1256,1258,1263,1265,1270],{"type":20,"value":1257},"You can provide more than one dependency for a phase. E.g., ",{"type":14,"tag":28,"props":1259,"children":1260},{"className":7},[1261],{"type":20,"value":1262},"Phase\u003CX, Y>",{"type":20,"value":1264},"\nwill require ",{"type":14,"tag":28,"props":1266,"children":1267},{"className":7},[1268],{"type":20,"value":1269},"Initialize(X x, Y y)",{"type":20,"value":1244},{"type":14,"tag":345,"props":1272,"children":1273},{},[1274,1279],{"type":14,"tag":22,"props":1275,"children":1276},{},[1277],{"type":20,"value":1278},":warning:",{"type":14,"tag":22,"props":1280,"children":1281},{},[1282,1284,1288,1290],{"type":20,"value":1283},"Type of the dependency provided, must be exactly the same as the type of\ndependency in ",{"type":14,"tag":28,"props":1285,"children":1286},{"className":7},[1287],{"type":20,"value":183},{"type":20,"value":1289},". For more information\n",{"type":14,"tag":60,"props":1291,"children":1293},{"href":1292},"../architecture/application#running-an-application",[1294],{"type":20,"value":1295},"Running an Application",{"type":14,"tag":365,"props":1297,"children":1299},{"id":1298},"order-of-a-phase",[1300],{"type":20,"value":1301},"Order of a Phase",{"type":14,"tag":22,"props":1303,"children":1304},{},[1305,1309,1311,1316,1318,1323],{"type":14,"tag":28,"props":1306,"children":1307},{"className":7},[1308],{"type":20,"value":725},{"type":20,"value":1310}," classes has ",{"type":14,"tag":28,"props":1312,"children":1313},{"className":7},[1314],{"type":20,"value":1315},"order",{"type":20,"value":1317}," parameter in their constructors. Default order\nis ",{"type":14,"tag":28,"props":1319,"children":1320},{"className":7},[1321],{"type":20,"value":1322},"PhaseOrder.Normal",{"type":20,"value":1324},". If you need to change the order, pass the desired order\nto this parameter as shown below;",{"type":14,"tag":274,"props":1326,"children":1328},{"className":276,"code":1327,"language":278,"meta":7,"style":7},"public class DoThisEarlyOn()\n    : PhaseBase(PhaseOrder.Early)\n{ }\n",[1329],{"type":14,"tag":28,"props":1330,"children":1331},{"__ignoreMap":7},[1332,1352,1386],{"type":14,"tag":284,"props":1333,"children":1334},{"class":286,"line":287},[1335,1339,1343,1348],{"type":14,"tag":284,"props":1336,"children":1337},{"style":291},[1338],{"type":20,"value":294},{"type":14,"tag":284,"props":1340,"children":1341},{"style":291},[1342],{"type":20,"value":299},{"type":14,"tag":284,"props":1344,"children":1345},{"style":302},[1346],{"type":20,"value":1347}," DoThisEarlyOn",{"type":14,"tag":284,"props":1349,"children":1350},{"style":308},[1351],{"type":20,"value":618},{"type":14,"tag":284,"props":1353,"children":1354},{"class":286,"line":319},[1355,1360,1364,1368,1373,1377,1382],{"type":14,"tag":284,"props":1356,"children":1357},{"style":308},[1358],{"type":20,"value":1359},"    : ",{"type":14,"tag":284,"props":1361,"children":1362},{"style":302},[1363],{"type":20,"value":725},{"type":14,"tag":284,"props":1365,"children":1366},{"style":308},[1367],{"type":20,"value":981},{"type":14,"tag":284,"props":1369,"children":1370},{"style":302},[1371],{"type":20,"value":1372},"PhaseOrder",{"type":14,"tag":284,"props":1374,"children":1375},{"style":308},[1376],{"type":20,"value":272},{"type":14,"tag":284,"props":1378,"children":1379},{"style":302},[1380],{"type":20,"value":1381},"Early",{"type":14,"tag":284,"props":1383,"children":1384},{"style":308},[1385],{"type":20,"value":1139},{"type":14,"tag":284,"props":1387,"children":1388},{"class":286,"line":328},[1389],{"type":14,"tag":284,"props":1390,"children":1391},{"style":308},[1392],{"type":20,"value":1393},"{ }\n",{"type":14,"tag":83,"props":1395,"children":1397},{"id":1396},"providing-configuration",[1398],{"type":20,"value":1399},"Providing Configuration",{"type":14,"tag":22,"props":1401,"children":1402},{},[1403,1405,1410],{"type":20,"value":1404},"Layers provide configuration objects phase by phase. This means a layer can\nprovide two different configuration objects for two different phases. For this\nreason, a layer returns ",{"type":14,"tag":28,"props":1406,"children":1407},{"className":7},[1408],{"type":20,"value":1409},"PhaseContext",{"type":20,"value":1411}," instance per phase to which it provides\nconfiguration.",{"type":14,"tag":274,"props":1413,"children":1415},{"className":276,"code":1414,"language":278,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly LayerXConfiguration _configuration = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContext(_configuration);\n}\n",[1416],{"type":14,"tag":28,"props":1417,"children":1418},{"__ignoreMap":7},[1419,1455,1462,1492,1499,1543,1573],{"type":14,"tag":284,"props":1420,"children":1421},{"class":286,"line":287},[1422,1426,1430,1434,1438,1442,1446,1451],{"type":14,"tag":284,"props":1423,"children":1424},{"style":291},[1425],{"type":20,"value":294},{"type":14,"tag":284,"props":1427,"children":1428},{"style":291},[1429],{"type":20,"value":299},{"type":14,"tag":284,"props":1431,"children":1432},{"style":302},[1433],{"type":20,"value":305},{"type":14,"tag":284,"props":1435,"children":1436},{"style":308},[1437],{"type":20,"value":311},{"type":14,"tag":284,"props":1439,"children":1440},{"style":302},[1441],{"type":20,"value":270},{"type":14,"tag":284,"props":1443,"children":1444},{"style":308},[1445],{"type":20,"value":597},{"type":14,"tag":284,"props":1447,"children":1448},{"style":302},[1449],{"type":20,"value":1450},"AddServices",{"type":14,"tag":284,"props":1452,"children":1453},{"style":308},[1454],{"type":20,"value":1096},{"type":14,"tag":284,"props":1456,"children":1457},{"class":286,"line":319},[1458],{"type":14,"tag":284,"props":1459,"children":1460},{"style":308},[1461],{"type":20,"value":325},{"type":14,"tag":284,"props":1463,"children":1464},{"class":286,"line":328},[1465,1470,1475,1480,1484,1488],{"type":14,"tag":284,"props":1466,"children":1467},{"style":291},[1468],{"type":20,"value":1469},"    readonly",{"type":14,"tag":284,"props":1471,"children":1472},{"style":302},[1473],{"type":20,"value":1474}," LayerXConfiguration",{"type":14,"tag":284,"props":1476,"children":1477},{"style":478},[1478],{"type":20,"value":1479}," _configuration",{"type":14,"tag":284,"props":1481,"children":1482},{"style":484},[1483],{"type":20,"value":936},{"type":14,"tag":284,"props":1485,"children":1486},{"style":291},[1487],{"type":20,"value":645},{"type":14,"tag":284,"props":1489,"children":1490},{"style":308},[1491],{"type":20,"value":655},{"type":14,"tag":284,"props":1493,"children":1494},{"class":286,"line":337},[1495],{"type":14,"tag":284,"props":1496,"children":1497},{"emptyLinePlaceholder":696},[1498],{"type":20,"value":699},{"type":14,"tag":284,"props":1500,"children":1501},{"class":286,"line":509},[1502,1506,1510,1515,1520,1524,1528,1533,1538],{"type":14,"tag":284,"props":1503,"children":1504},{"style":291},[1505],{"type":20,"value":465},{"type":14,"tag":284,"props":1507,"children":1508},{"style":291},[1509],{"type":20,"value":470},{"type":14,"tag":284,"props":1511,"children":1512},{"style":302},[1513],{"type":20,"value":1514}," PhaseContext",{"type":14,"tag":284,"props":1516,"children":1517},{"style":610},[1518],{"type":20,"value":1519}," GetContext",{"type":14,"tag":284,"props":1521,"children":1522},{"style":308},[1523],{"type":20,"value":981},{"type":14,"tag":284,"props":1525,"children":1526},{"style":302},[1527],{"type":20,"value":1450},{"type":14,"tag":284,"props":1529,"children":1530},{"style":478},[1531],{"type":20,"value":1532}," phase",{"type":14,"tag":284,"props":1534,"children":1535},{"style":308},[1536],{"type":20,"value":1537},") ",{"type":14,"tag":284,"props":1539,"children":1540},{"style":484},[1541],{"type":20,"value":1542},"=>\n",{"type":14,"tag":284,"props":1544,"children":1545},{"class":286,"line":658},[1546,1551,1555,1560,1564,1569],{"type":14,"tag":284,"props":1547,"children":1548},{"style":478},[1549],{"type":20,"value":1550},"        phase",{"type":14,"tag":284,"props":1552,"children":1553},{"style":308},[1554],{"type":20,"value":272},{"type":14,"tag":284,"props":1556,"children":1557},{"style":610},[1558],{"type":20,"value":1559},"CreateContext",{"type":14,"tag":284,"props":1561,"children":1562},{"style":308},[1563],{"type":20,"value":981},{"type":14,"tag":284,"props":1565,"children":1566},{"style":478},[1567],{"type":20,"value":1568},"_configuration",{"type":14,"tag":284,"props":1570,"children":1571},{"style":308},[1572],{"type":20,"value":991},{"type":14,"tag":284,"props":1574,"children":1575},{"class":286,"line":683},[1576],{"type":14,"tag":284,"props":1577,"children":1578},{"style":308},[1579],{"type":20,"value":343},{"type":14,"tag":22,"props":1581,"children":1582},{},[1583,1585,1589,1591,1596,1598,1602],{"type":20,"value":1584},"In this example, you see a layer named ",{"type":14,"tag":28,"props":1586,"children":1587},{"className":7},[1588],{"type":20,"value":413},{"type":20,"value":1590}," providing a\n",{"type":14,"tag":28,"props":1592,"children":1593},{"className":7},[1594],{"type":20,"value":1595},"LayerXConfiguration",{"type":20,"value":1597}," instance during ",{"type":14,"tag":28,"props":1599,"children":1600},{"className":7},[1601],{"type":20,"value":1450},{"type":20,"value":1603}," phase.",{"type":14,"tag":345,"props":1605,"children":1606},{},[1607,1611],{"type":14,"tag":22,"props":1608,"children":1609},{},[1610],{"type":20,"value":1252},{"type":14,"tag":22,"props":1612,"children":1613},{},[1614,1616,1621,1623,1627],{"type":20,"value":1615},"By default, a layer returns ",{"type":14,"tag":28,"props":1617,"children":1618},{"className":7},[1619],{"type":20,"value":1620},"PhaseContext.Empty",{"type":20,"value":1622}," instance for the phases it\ndoes not provide a configuration. This means ",{"type":14,"tag":28,"props":1624,"children":1625},{"className":7},[1626],{"type":20,"value":65},{"type":20,"value":1628}," skips that layer\nfor the phases it doesn't have anything to configure.",{"type":14,"tag":365,"props":1630,"children":1632},{"id":1631},"using-non-generic-layerbase",[1633,1635],{"type":20,"value":1634},"Using non-generic ",{"type":14,"tag":28,"props":1636,"children":1637},{"className":7},[1638],{"type":20,"value":270},{"type":14,"tag":22,"props":1640,"children":1641},{},[1642,1647,1649,1653,1655,1660],{"type":14,"tag":28,"props":1643,"children":1644},{"className":7},[1645],{"type":20,"value":1646},"LayerBase\u003C>",{"type":20,"value":1648}," classes allow up to three generic arguments. If you need to\nimplement a layer that has things to configure during more than three phases,\nuse non-generic ",{"type":14,"tag":28,"props":1650,"children":1651},{"className":7},[1652],{"type":20,"value":270},{"type":20,"value":1654}," class, override ",{"type":14,"tag":28,"props":1656,"children":1657},{"className":7},[1658],{"type":20,"value":1659},"GetContext(IPhase phase)",{"type":20,"value":1661}," method\nand switch given phase according to its type;",{"type":14,"tag":274,"props":1663,"children":1665},{"className":276,"code":1664,"language":278,"meta":7,"style":7},"public class MyLayer : LayerBase\n{\n    protected override PhaseContext GetContext(IPhase phase) =>\n        phase switch\n        {\n            PhaseA => phase.CreateContext(...),\n            PhaseB => phase.CreateContext(...),\n            _ => base.GetContext(phase)\n        };\n}\n",[1666],{"type":14,"tag":28,"props":1667,"children":1668},{"__ignoreMap":7},[1669,1693,1700,1739,1751,1759,1797,1833,1872,1880],{"type":14,"tag":284,"props":1670,"children":1671},{"class":286,"line":287},[1672,1676,1680,1685,1689],{"type":14,"tag":284,"props":1673,"children":1674},{"style":291},[1675],{"type":20,"value":294},{"type":14,"tag":284,"props":1677,"children":1678},{"style":291},[1679],{"type":20,"value":299},{"type":14,"tag":284,"props":1681,"children":1682},{"style":302},[1683],{"type":20,"value":1684}," MyLayer",{"type":14,"tag":284,"props":1686,"children":1687},{"style":308},[1688],{"type":20,"value":311},{"type":14,"tag":284,"props":1690,"children":1691},{"style":302},[1692],{"type":20,"value":316},{"type":14,"tag":284,"props":1694,"children":1695},{"class":286,"line":319},[1696],{"type":14,"tag":284,"props":1697,"children":1698},{"style":308},[1699],{"type":20,"value":325},{"type":14,"tag":284,"props":1701,"children":1702},{"class":286,"line":328},[1703,1707,1711,1715,1719,1723,1727,1731,1735],{"type":14,"tag":284,"props":1704,"children":1705},{"style":291},[1706],{"type":20,"value":465},{"type":14,"tag":284,"props":1708,"children":1709},{"style":291},[1710],{"type":20,"value":470},{"type":14,"tag":284,"props":1712,"children":1713},{"style":302},[1714],{"type":20,"value":1514},{"type":14,"tag":284,"props":1716,"children":1717},{"style":610},[1718],{"type":20,"value":1519},{"type":14,"tag":284,"props":1720,"children":1721},{"style":308},[1722],{"type":20,"value":981},{"type":14,"tag":284,"props":1724,"children":1725},{"style":302},[1726],{"type":20,"value":602},{"type":14,"tag":284,"props":1728,"children":1729},{"style":478},[1730],{"type":20,"value":1532},{"type":14,"tag":284,"props":1732,"children":1733},{"style":308},[1734],{"type":20,"value":1537},{"type":14,"tag":284,"props":1736,"children":1737},{"style":484},[1738],{"type":20,"value":1542},{"type":14,"tag":284,"props":1740,"children":1741},{"class":286,"line":337},[1742,1746],{"type":14,"tag":284,"props":1743,"children":1744},{"style":478},[1745],{"type":20,"value":1550},{"type":14,"tag":284,"props":1747,"children":1748},{"style":632},[1749],{"type":20,"value":1750}," switch\n",{"type":14,"tag":284,"props":1752,"children":1753},{"class":286,"line":509},[1754],{"type":14,"tag":284,"props":1755,"children":1756},{"style":308},[1757],{"type":20,"value":1758},"        {\n",{"type":14,"tag":284,"props":1760,"children":1761},{"class":286,"line":658},[1762,1767,1771,1775,1779,1783,1787,1792],{"type":14,"tag":284,"props":1763,"children":1764},{"style":302},[1765],{"type":20,"value":1766},"            PhaseA",{"type":14,"tag":284,"props":1768,"children":1769},{"style":484},[1770],{"type":20,"value":487},{"type":14,"tag":284,"props":1772,"children":1773},{"style":478},[1774],{"type":20,"value":1532},{"type":14,"tag":284,"props":1776,"children":1777},{"style":308},[1778],{"type":20,"value":272},{"type":14,"tag":284,"props":1780,"children":1781},{"style":610},[1782],{"type":20,"value":1559},{"type":14,"tag":284,"props":1784,"children":1785},{"style":308},[1786],{"type":20,"value":981},{"type":14,"tag":284,"props":1788,"children":1789},{"style":484},[1790],{"type":20,"value":1791},"..",{"type":14,"tag":284,"props":1793,"children":1794},{"style":308},[1795],{"type":20,"value":1796},".),\n",{"type":14,"tag":284,"props":1798,"children":1799},{"class":286,"line":683},[1800,1805,1809,1813,1817,1821,1825,1829],{"type":14,"tag":284,"props":1801,"children":1802},{"style":302},[1803],{"type":20,"value":1804},"            PhaseB",{"type":14,"tag":284,"props":1806,"children":1807},{"style":484},[1808],{"type":20,"value":487},{"type":14,"tag":284,"props":1810,"children":1811},{"style":478},[1812],{"type":20,"value":1532},{"type":14,"tag":284,"props":1814,"children":1815},{"style":308},[1816],{"type":20,"value":272},{"type":14,"tag":284,"props":1818,"children":1819},{"style":610},[1820],{"type":20,"value":1559},{"type":14,"tag":284,"props":1822,"children":1823},{"style":308},[1824],{"type":20,"value":981},{"type":14,"tag":284,"props":1826,"children":1827},{"style":484},[1828],{"type":20,"value":1791},{"type":14,"tag":284,"props":1830,"children":1831},{"style":308},[1832],{"type":20,"value":1796},{"type":14,"tag":284,"props":1834,"children":1835},{"class":286,"line":692},[1836,1841,1845,1850,1854,1859,1863,1868],{"type":14,"tag":284,"props":1837,"children":1838},{"style":291},[1839],{"type":20,"value":1840},"            _",{"type":14,"tag":284,"props":1842,"children":1843},{"style":484},[1844],{"type":20,"value":487},{"type":14,"tag":284,"props":1846,"children":1847},{"style":291},[1848],{"type":20,"value":1849}," base",{"type":14,"tag":284,"props":1851,"children":1852},{"style":308},[1853],{"type":20,"value":272},{"type":14,"tag":284,"props":1855,"children":1856},{"style":610},[1857],{"type":20,"value":1858},"GetContext",{"type":14,"tag":284,"props":1860,"children":1861},{"style":308},[1862],{"type":20,"value":981},{"type":14,"tag":284,"props":1864,"children":1865},{"style":478},[1866],{"type":20,"value":1867},"phase",{"type":14,"tag":284,"props":1869,"children":1870},{"style":308},[1871],{"type":20,"value":1139},{"type":14,"tag":284,"props":1873,"children":1874},{"class":286,"line":702},[1875],{"type":14,"tag":284,"props":1876,"children":1877},{"style":308},[1878],{"type":20,"value":1879},"        };\n",{"type":14,"tag":284,"props":1881,"children":1882},{"class":286,"line":733},[1883],{"type":14,"tag":284,"props":1884,"children":1885},{"style":308},[1886],{"type":20,"value":343},{"type":14,"tag":365,"props":1888,"children":1890},{"id":1889},"before-and-after-a-phase",[1891],{"type":20,"value":1892},"Before and After a Phase",{"type":14,"tag":22,"props":1894,"children":1895},{},[1896,1898,1903,1905,1910],{"type":20,"value":1897},"Layers might need to do some standard stuff before and after a phase is applied\nto all features for all layers. Use ",{"type":14,"tag":28,"props":1899,"children":1900},{"className":7},[1901],{"type":20,"value":1902},"GetContext()",{"type":20,"value":1904}," method to do stuff before,\nand ",{"type":14,"tag":28,"props":1906,"children":1907},{"className":7},[1908],{"type":20,"value":1909},"onDispose:",{"type":20,"value":1911}," delegate to do stuff after.",{"type":14,"tag":274,"props":1913,"children":1915},{"className":276,"code":1914,"language":278,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly LayerXConfiguration _configuration = new();\n\n    protected override PhaseContext GetContext(AddServices phase)\n    {\n        var services = Context.Get\u003CIServiceCollection>();\n\n        services.AddStandardStuffBefore();\n\n        phase.CreateContext(_configuration,\n            onDispose: () => services.AddStandardStuffAfter()\n        );\n    }\n}\n",[1916],{"type":14,"tag":28,"props":1917,"children":1918},{"__ignoreMap":7},[1919,1954,1961,1988,1995,2030,2037,2080,2087,2108,2115,2143,2179,2188,2196],{"type":14,"tag":284,"props":1920,"children":1921},{"class":286,"line":287},[1922,1926,1930,1934,1938,1942,1946,1950],{"type":14,"tag":284,"props":1923,"children":1924},{"style":291},[1925],{"type":20,"value":294},{"type":14,"tag":284,"props":1927,"children":1928},{"style":291},[1929],{"type":20,"value":299},{"type":14,"tag":284,"props":1931,"children":1932},{"style":302},[1933],{"type":20,"value":305},{"type":14,"tag":284,"props":1935,"children":1936},{"style":308},[1937],{"type":20,"value":311},{"type":14,"tag":284,"props":1939,"children":1940},{"style":302},[1941],{"type":20,"value":270},{"type":14,"tag":284,"props":1943,"children":1944},{"style":308},[1945],{"type":20,"value":597},{"type":14,"tag":284,"props":1947,"children":1948},{"style":302},[1949],{"type":20,"value":1450},{"type":14,"tag":284,"props":1951,"children":1952},{"style":308},[1953],{"type":20,"value":1096},{"type":14,"tag":284,"props":1955,"children":1956},{"class":286,"line":319},[1957],{"type":14,"tag":284,"props":1958,"children":1959},{"style":308},[1960],{"type":20,"value":325},{"type":14,"tag":284,"props":1962,"children":1963},{"class":286,"line":328},[1964,1968,1972,1976,1980,1984],{"type":14,"tag":284,"props":1965,"children":1966},{"style":291},[1967],{"type":20,"value":1469},{"type":14,"tag":284,"props":1969,"children":1970},{"style":302},[1971],{"type":20,"value":1474},{"type":14,"tag":284,"props":1973,"children":1974},{"style":478},[1975],{"type":20,"value":1479},{"type":14,"tag":284,"props":1977,"children":1978},{"style":484},[1979],{"type":20,"value":936},{"type":14,"tag":284,"props":1981,"children":1982},{"style":291},[1983],{"type":20,"value":645},{"type":14,"tag":284,"props":1985,"children":1986},{"style":308},[1987],{"type":20,"value":655},{"type":14,"tag":284,"props":1989,"children":1990},{"class":286,"line":337},[1991],{"type":14,"tag":284,"props":1992,"children":1993},{"emptyLinePlaceholder":696},[1994],{"type":20,"value":699},{"type":14,"tag":284,"props":1996,"children":1997},{"class":286,"line":509},[1998,2002,2006,2010,2014,2018,2022,2026],{"type":14,"tag":284,"props":1999,"children":2000},{"style":291},[2001],{"type":20,"value":465},{"type":14,"tag":284,"props":2003,"children":2004},{"style":291},[2005],{"type":20,"value":470},{"type":14,"tag":284,"props":2007,"children":2008},{"style":302},[2009],{"type":20,"value":1514},{"type":14,"tag":284,"props":2011,"children":2012},{"style":610},[2013],{"type":20,"value":1519},{"type":14,"tag":284,"props":2015,"children":2016},{"style":308},[2017],{"type":20,"value":981},{"type":14,"tag":284,"props":2019,"children":2020},{"style":302},[2021],{"type":20,"value":1450},{"type":14,"tag":284,"props":2023,"children":2024},{"style":478},[2025],{"type":20,"value":1532},{"type":14,"tag":284,"props":2027,"children":2028},{"style":308},[2029],{"type":20,"value":1139},{"type":14,"tag":284,"props":2031,"children":2032},{"class":286,"line":658},[2033],{"type":14,"tag":284,"props":2034,"children":2035},{"style":308},[2036],{"type":20,"value":626},{"type":14,"tag":284,"props":2038,"children":2039},{"class":286,"line":683},[2040,2044,2049,2053,2058,2062,2066,2070,2075],{"type":14,"tag":284,"props":2041,"children":2042},{"style":291},[2043],{"type":20,"value":926},{"type":14,"tag":284,"props":2045,"children":2046},{"style":478},[2047],{"type":20,"value":2048}," services",{"type":14,"tag":284,"props":2050,"children":2051},{"style":484},[2052],{"type":20,"value":936},{"type":14,"tag":284,"props":2054,"children":2055},{"style":478},[2056],{"type":20,"value":2057}," Context",{"type":14,"tag":284,"props":2059,"children":2060},{"style":308},[2061],{"type":20,"value":272},{"type":14,"tag":284,"props":2063,"children":2064},{"style":610},[2065],{"type":20,"value":176},{"type":14,"tag":284,"props":2067,"children":2068},{"style":308},[2069],{"type":20,"value":597},{"type":14,"tag":284,"props":2071,"children":2072},{"style":302},[2073],{"type":20,"value":2074},"IServiceCollection",{"type":14,"tag":284,"props":2076,"children":2077},{"style":308},[2078],{"type":20,"value":2079},">();\n",{"type":14,"tag":284,"props":2081,"children":2082},{"class":286,"line":692},[2083],{"type":14,"tag":284,"props":2084,"children":2085},{"emptyLinePlaceholder":696},[2086],{"type":20,"value":699},{"type":14,"tag":284,"props":2088,"children":2089},{"class":286,"line":702},[2090,2095,2099,2104],{"type":14,"tag":284,"props":2091,"children":2092},{"style":478},[2093],{"type":20,"value":2094},"        services",{"type":14,"tag":284,"props":2096,"children":2097},{"style":308},[2098],{"type":20,"value":272},{"type":14,"tag":284,"props":2100,"children":2101},{"style":610},[2102],{"type":20,"value":2103},"AddStandardStuffBefore",{"type":14,"tag":284,"props":2105,"children":2106},{"style":308},[2107],{"type":20,"value":655},{"type":14,"tag":284,"props":2109,"children":2110},{"class":286,"line":733},[2111],{"type":14,"tag":284,"props":2112,"children":2113},{"emptyLinePlaceholder":696},[2114],{"type":20,"value":699},{"type":14,"tag":284,"props":2116,"children":2117},{"class":286,"line":761},[2118,2122,2126,2130,2134,2138],{"type":14,"tag":284,"props":2119,"children":2120},{"style":478},[2121],{"type":20,"value":1550},{"type":14,"tag":284,"props":2123,"children":2124},{"style":308},[2125],{"type":20,"value":272},{"type":14,"tag":284,"props":2127,"children":2128},{"style":610},[2129],{"type":20,"value":1559},{"type":14,"tag":284,"props":2131,"children":2132},{"style":308},[2133],{"type":20,"value":981},{"type":14,"tag":284,"props":2135,"children":2136},{"style":478},[2137],{"type":20,"value":1568},{"type":14,"tag":284,"props":2139,"children":2140},{"style":308},[2141],{"type":20,"value":2142},",\n",{"type":14,"tag":284,"props":2144,"children":2146},{"class":286,"line":2145},12,[2147,2152,2157,2162,2166,2170,2175],{"type":14,"tag":284,"props":2148,"children":2149},{"style":478},[2150],{"type":20,"value":2151},"            onDispose",{"type":14,"tag":284,"props":2153,"children":2154},{"style":308},[2155],{"type":20,"value":2156},": () ",{"type":14,"tag":284,"props":2158,"children":2159},{"style":484},[2160],{"type":20,"value":2161},"=>",{"type":14,"tag":284,"props":2163,"children":2164},{"style":478},[2165],{"type":20,"value":2048},{"type":14,"tag":284,"props":2167,"children":2168},{"style":308},[2169],{"type":20,"value":272},{"type":14,"tag":284,"props":2171,"children":2172},{"style":610},[2173],{"type":20,"value":2174},"AddStandardStuffAfter",{"type":14,"tag":284,"props":2176,"children":2177},{"style":308},[2178],{"type":20,"value":618},{"type":14,"tag":284,"props":2180,"children":2182},{"class":286,"line":2181},13,[2183],{"type":14,"tag":284,"props":2184,"children":2185},{"style":308},[2186],{"type":20,"value":2187},"        );\n",{"type":14,"tag":284,"props":2189,"children":2191},{"class":286,"line":2190},14,[2192],{"type":14,"tag":284,"props":2193,"children":2194},{"style":308},[2195],{"type":20,"value":689},{"type":14,"tag":284,"props":2197,"children":2199},{"class":286,"line":2198},15,[2200],{"type":14,"tag":284,"props":2201,"children":2202},{"style":308},[2203],{"type":20,"value":343},{"type":14,"tag":345,"props":2205,"children":2206},{},[2207,2211],{"type":14,"tag":22,"props":2208,"children":2209},{},[2210],{"type":20,"value":1252},{"type":14,"tag":22,"props":2212,"children":2213},{},[2214,2216,2220,2222,2226,2228,2232],{"type":20,"value":2215},"Notice that a layer has access to the ",{"type":14,"tag":28,"props":2217,"children":2218},{"className":7},[2219],{"type":20,"value":183},{"type":20,"value":2221}," instance through\n",{"type":14,"tag":28,"props":2223,"children":2224},{"className":7},[2225],{"type":20,"value":831},{"type":20,"value":2227}," property provided in ",{"type":14,"tag":28,"props":2229,"children":2230},{"className":7},[2231],{"type":20,"value":270},{"type":20,"value":2233}," base class.",{"type":14,"tag":345,"props":2235,"children":2236},{},[2237,2241],{"type":14,"tag":22,"props":2238,"children":2239},{},[2240],{"type":20,"value":1278},{"type":14,"tag":22,"props":2242,"children":2243},{},[2244,2248,2250,2254],{"type":14,"tag":28,"props":2245,"children":2246},{"className":7},[2247],{"type":20,"value":1902},{"type":20,"value":2249}," method is called for every layer before applying any of them\nto features. And ",{"type":14,"tag":28,"props":2251,"children":2252},{"className":7},[2253],{"type":20,"value":1909},{"type":20,"value":2255}," actions are called after applying these\ncontexts to all features.",{"type":14,"tag":365,"props":2257,"children":2259},{"id":2258},"providing-multiple-targets",[2260],{"type":20,"value":2261},"Providing Multiple Targets",{"type":14,"tag":22,"props":2263,"children":2264},{},[2265],{"type":20,"value":2266},"It is possible to provide up to three configuration objects for the same phase.\nThere are two ways of providing multiple targets; at once or one by one.",{"type":14,"tag":2268,"props":2269,"children":2271},"h4",{"id":2270},"at-once",[2272],{"type":20,"value":2273},"At Once",{"type":14,"tag":22,"props":2275,"children":2276},{},[2277],{"type":20,"value":2278},"Below code demonstrates providing two configuration objects at once;",{"type":14,"tag":274,"props":2280,"children":2282},{"className":276,"code":2281,"language":278,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContext(_configuration1, _configuration2);\n}\n",[2283],{"type":14,"tag":28,"props":2284,"children":2285},{"__ignoreMap":7},[2286,2321,2328,2357,2386,2393,2432,2469],{"type":14,"tag":284,"props":2287,"children":2288},{"class":286,"line":287},[2289,2293,2297,2301,2305,2309,2313,2317],{"type":14,"tag":284,"props":2290,"children":2291},{"style":291},[2292],{"type":20,"value":294},{"type":14,"tag":284,"props":2294,"children":2295},{"style":291},[2296],{"type":20,"value":299},{"type":14,"tag":284,"props":2298,"children":2299},{"style":302},[2300],{"type":20,"value":305},{"type":14,"tag":284,"props":2302,"children":2303},{"style":308},[2304],{"type":20,"value":311},{"type":14,"tag":284,"props":2306,"children":2307},{"style":302},[2308],{"type":20,"value":270},{"type":14,"tag":284,"props":2310,"children":2311},{"style":308},[2312],{"type":20,"value":597},{"type":14,"tag":284,"props":2314,"children":2315},{"style":302},[2316],{"type":20,"value":1450},{"type":14,"tag":284,"props":2318,"children":2319},{"style":308},[2320],{"type":20,"value":1096},{"type":14,"tag":284,"props":2322,"children":2323},{"class":286,"line":319},[2324],{"type":14,"tag":284,"props":2325,"children":2326},{"style":308},[2327],{"type":20,"value":325},{"type":14,"tag":284,"props":2329,"children":2330},{"class":286,"line":328},[2331,2335,2340,2345,2349,2353],{"type":14,"tag":284,"props":2332,"children":2333},{"style":291},[2334],{"type":20,"value":1469},{"type":14,"tag":284,"props":2336,"children":2337},{"style":302},[2338],{"type":20,"value":2339}," Configuration1",{"type":14,"tag":284,"props":2341,"children":2342},{"style":478},[2343],{"type":20,"value":2344}," _configuration1",{"type":14,"tag":284,"props":2346,"children":2347},{"style":484},[2348],{"type":20,"value":936},{"type":14,"tag":284,"props":2350,"children":2351},{"style":291},[2352],{"type":20,"value":645},{"type":14,"tag":284,"props":2354,"children":2355},{"style":308},[2356],{"type":20,"value":655},{"type":14,"tag":284,"props":2358,"children":2359},{"class":286,"line":337},[2360,2364,2369,2374,2378,2382],{"type":14,"tag":284,"props":2361,"children":2362},{"style":291},[2363],{"type":20,"value":1469},{"type":14,"tag":284,"props":2365,"children":2366},{"style":302},[2367],{"type":20,"value":2368}," Configuration2",{"type":14,"tag":284,"props":2370,"children":2371},{"style":478},[2372],{"type":20,"value":2373}," _configuration2",{"type":14,"tag":284,"props":2375,"children":2376},{"style":484},[2377],{"type":20,"value":936},{"type":14,"tag":284,"props":2379,"children":2380},{"style":291},[2381],{"type":20,"value":645},{"type":14,"tag":284,"props":2383,"children":2384},{"style":308},[2385],{"type":20,"value":655},{"type":14,"tag":284,"props":2387,"children":2388},{"class":286,"line":509},[2389],{"type":14,"tag":284,"props":2390,"children":2391},{"emptyLinePlaceholder":696},[2392],{"type":20,"value":699},{"type":14,"tag":284,"props":2394,"children":2395},{"class":286,"line":658},[2396,2400,2404,2408,2412,2416,2420,2424,2428],{"type":14,"tag":284,"props":2397,"children":2398},{"style":291},[2399],{"type":20,"value":465},{"type":14,"tag":284,"props":2401,"children":2402},{"style":291},[2403],{"type":20,"value":470},{"type":14,"tag":284,"props":2405,"children":2406},{"style":302},[2407],{"type":20,"value":1514},{"type":14,"tag":284,"props":2409,"children":2410},{"style":610},[2411],{"type":20,"value":1519},{"type":14,"tag":284,"props":2413,"children":2414},{"style":308},[2415],{"type":20,"value":981},{"type":14,"tag":284,"props":2417,"children":2418},{"style":302},[2419],{"type":20,"value":1450},{"type":14,"tag":284,"props":2421,"children":2422},{"style":478},[2423],{"type":20,"value":1532},{"type":14,"tag":284,"props":2425,"children":2426},{"style":308},[2427],{"type":20,"value":1537},{"type":14,"tag":284,"props":2429,"children":2430},{"style":484},[2431],{"type":20,"value":1542},{"type":14,"tag":284,"props":2433,"children":2434},{"class":286,"line":683},[2435,2439,2443,2447,2451,2456,2460,2465],{"type":14,"tag":284,"props":2436,"children":2437},{"style":478},[2438],{"type":20,"value":1550},{"type":14,"tag":284,"props":2440,"children":2441},{"style":308},[2442],{"type":20,"value":272},{"type":14,"tag":284,"props":2444,"children":2445},{"style":610},[2446],{"type":20,"value":1559},{"type":14,"tag":284,"props":2448,"children":2449},{"style":308},[2450],{"type":20,"value":981},{"type":14,"tag":284,"props":2452,"children":2453},{"style":478},[2454],{"type":20,"value":2455},"_configuration1",{"type":14,"tag":284,"props":2457,"children":2458},{"style":308},[2459],{"type":20,"value":192},{"type":14,"tag":284,"props":2461,"children":2462},{"style":478},[2463],{"type":20,"value":2464},"_configuration2",{"type":14,"tag":284,"props":2466,"children":2467},{"style":308},[2468],{"type":20,"value":991},{"type":14,"tag":284,"props":2470,"children":2471},{"class":286,"line":692},[2472],{"type":14,"tag":284,"props":2473,"children":2474},{"style":308},[2475],{"type":20,"value":343},{"type":14,"tag":22,"props":2477,"children":2478},{},[2479],{"type":20,"value":2480},"This phase context will require an action with two parameter in a feature;",{"type":14,"tag":274,"props":2482,"children":2484},{"className":276,"code":2483,"language":278,"meta":7,"style":7},"...\npublic void Configure(LayerConfigurator configurator)\n{\n    configurator.Configure((Configuration1 configuration1, Configuration2 configuration2) =>\n    {\n        // use both objects to configure\n    });\n}\n...\n",[2485],{"type":14,"tag":28,"props":2486,"children":2487},{"__ignoreMap":7},[2488,2499,2532,2539,2592,2599,2608,2616,2623],{"type":14,"tag":284,"props":2489,"children":2490},{"class":286,"line":287},[2491,2495],{"type":14,"tag":284,"props":2492,"children":2493},{"style":484},[2494],{"type":20,"value":1791},{"type":14,"tag":284,"props":2496,"children":2497},{"style":308},[2498],{"type":20,"value":506},{"type":14,"tag":284,"props":2500,"children":2501},{"class":286,"line":319},[2502,2506,2510,2515,2519,2523,2528],{"type":14,"tag":284,"props":2503,"children":2504},{"style":291},[2505],{"type":20,"value":294},{"type":14,"tag":284,"props":2507,"children":2508},{"style":291},[2509],{"type":20,"value":902},{"type":14,"tag":284,"props":2511,"children":2512},{"style":610},[2513],{"type":20,"value":2514}," Configure",{"type":14,"tag":284,"props":2516,"children":2517},{"style":308},[2518],{"type":20,"value":981},{"type":14,"tag":284,"props":2520,"children":2521},{"style":302},[2522],{"type":20,"value":211},{"type":14,"tag":284,"props":2524,"children":2525},{"style":478},[2526],{"type":20,"value":2527}," configurator",{"type":14,"tag":284,"props":2529,"children":2530},{"style":308},[2531],{"type":20,"value":1139},{"type":14,"tag":284,"props":2533,"children":2534},{"class":286,"line":328},[2535],{"type":14,"tag":284,"props":2536,"children":2537},{"style":308},[2538],{"type":20,"value":325},{"type":14,"tag":284,"props":2540,"children":2541},{"class":286,"line":337},[2542,2547,2551,2555,2560,2565,2570,2574,2579,2584,2588],{"type":14,"tag":284,"props":2543,"children":2544},{"style":478},[2545],{"type":20,"value":2546},"    configurator",{"type":14,"tag":284,"props":2548,"children":2549},{"style":308},[2550],{"type":20,"value":272},{"type":14,"tag":284,"props":2552,"children":2553},{"style":610},[2554],{"type":20,"value":205},{"type":14,"tag":284,"props":2556,"children":2557},{"style":308},[2558],{"type":20,"value":2559},"((",{"type":14,"tag":284,"props":2561,"children":2562},{"style":302},[2563],{"type":20,"value":2564},"Configuration1",{"type":14,"tag":284,"props":2566,"children":2567},{"style":478},[2568],{"type":20,"value":2569}," configuration1",{"type":14,"tag":284,"props":2571,"children":2572},{"style":308},[2573],{"type":20,"value":192},{"type":14,"tag":284,"props":2575,"children":2576},{"style":302},[2577],{"type":20,"value":2578},"Configuration2",{"type":14,"tag":284,"props":2580,"children":2581},{"style":478},[2582],{"type":20,"value":2583}," configuration2",{"type":14,"tag":284,"props":2585,"children":2586},{"style":308},[2587],{"type":20,"value":1537},{"type":14,"tag":284,"props":2589,"children":2590},{"style":484},[2591],{"type":20,"value":1542},{"type":14,"tag":284,"props":2593,"children":2594},{"class":286,"line":509},[2595],{"type":14,"tag":284,"props":2596,"children":2597},{"style":308},[2598],{"type":20,"value":626},{"type":14,"tag":284,"props":2600,"children":2601},{"class":286,"line":658},[2602],{"type":14,"tag":284,"props":2603,"children":2605},{"style":2604},"--shiki-default:#6A9955",[2606],{"type":20,"value":2607},"        // use both objects to configure\n",{"type":14,"tag":284,"props":2609,"children":2610},{"class":286,"line":683},[2611],{"type":14,"tag":284,"props":2612,"children":2613},{"style":308},[2614],{"type":20,"value":2615},"    });\n",{"type":14,"tag":284,"props":2617,"children":2618},{"class":286,"line":692},[2619],{"type":14,"tag":284,"props":2620,"children":2621},{"style":308},[2622],{"type":20,"value":343},{"type":14,"tag":284,"props":2624,"children":2625},{"class":286,"line":702},[2626,2630],{"type":14,"tag":284,"props":2627,"children":2628},{"style":484},[2629],{"type":20,"value":1791},{"type":14,"tag":284,"props":2631,"children":2632},{"style":308},[2633],{"type":20,"value":506},{"type":14,"tag":22,"props":2635,"children":2636},{},[2637,2639,2645],{"type":20,"value":2638},"See ",{"type":14,"tag":60,"props":2640,"children":2642},{"href":2641},"./feature",[2643],{"type":20,"value":2644},"Feature",{"type":20,"value":2646}," for more information on using layer configurators\nfor features.",{"type":14,"tag":2268,"props":2648,"children":2650},{"id":2649},"one-by-one",[2651],{"type":20,"value":2652},"One by One",{"type":14,"tag":22,"props":2654,"children":2655},{},[2656],{"type":20,"value":2657},"Below code demonstrates providing configuration objects one by one;",{"type":14,"tag":274,"props":2659,"children":2661},{"className":276,"code":2660,"language":278,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContextBuilder()\n            .Add(_configuration1)\n            .Add(_configuration2)\n            .Build()\n        ;\n}\n",[2662],{"type":14,"tag":28,"props":2663,"children":2664},{"__ignoreMap":7},[2665,2700,2707,2734,2761,2768,2807,2827,2851,2874,2889,2897],{"type":14,"tag":284,"props":2666,"children":2667},{"class":286,"line":287},[2668,2672,2676,2680,2684,2688,2692,2696],{"type":14,"tag":284,"props":2669,"children":2670},{"style":291},[2671],{"type":20,"value":294},{"type":14,"tag":284,"props":2673,"children":2674},{"style":291},[2675],{"type":20,"value":299},{"type":14,"tag":284,"props":2677,"children":2678},{"style":302},[2679],{"type":20,"value":305},{"type":14,"tag":284,"props":2681,"children":2682},{"style":308},[2683],{"type":20,"value":311},{"type":14,"tag":284,"props":2685,"children":2686},{"style":302},[2687],{"type":20,"value":270},{"type":14,"tag":284,"props":2689,"children":2690},{"style":308},[2691],{"type":20,"value":597},{"type":14,"tag":284,"props":2693,"children":2694},{"style":302},[2695],{"type":20,"value":1450},{"type":14,"tag":284,"props":2697,"children":2698},{"style":308},[2699],{"type":20,"value":1096},{"type":14,"tag":284,"props":2701,"children":2702},{"class":286,"line":319},[2703],{"type":14,"tag":284,"props":2704,"children":2705},{"style":308},[2706],{"type":20,"value":325},{"type":14,"tag":284,"props":2708,"children":2709},{"class":286,"line":328},[2710,2714,2718,2722,2726,2730],{"type":14,"tag":284,"props":2711,"children":2712},{"style":291},[2713],{"type":20,"value":1469},{"type":14,"tag":284,"props":2715,"children":2716},{"style":302},[2717],{"type":20,"value":2339},{"type":14,"tag":284,"props":2719,"children":2720},{"style":478},[2721],{"type":20,"value":2344},{"type":14,"tag":284,"props":2723,"children":2724},{"style":484},[2725],{"type":20,"value":936},{"type":14,"tag":284,"props":2727,"children":2728},{"style":291},[2729],{"type":20,"value":645},{"type":14,"tag":284,"props":2731,"children":2732},{"style":308},[2733],{"type":20,"value":655},{"type":14,"tag":284,"props":2735,"children":2736},{"class":286,"line":337},[2737,2741,2745,2749,2753,2757],{"type":14,"tag":284,"props":2738,"children":2739},{"style":291},[2740],{"type":20,"value":1469},{"type":14,"tag":284,"props":2742,"children":2743},{"style":302},[2744],{"type":20,"value":2368},{"type":14,"tag":284,"props":2746,"children":2747},{"style":478},[2748],{"type":20,"value":2373},{"type":14,"tag":284,"props":2750,"children":2751},{"style":484},[2752],{"type":20,"value":936},{"type":14,"tag":284,"props":2754,"children":2755},{"style":291},[2756],{"type":20,"value":645},{"type":14,"tag":284,"props":2758,"children":2759},{"style":308},[2760],{"type":20,"value":655},{"type":14,"tag":284,"props":2762,"children":2763},{"class":286,"line":509},[2764],{"type":14,"tag":284,"props":2765,"children":2766},{"emptyLinePlaceholder":696},[2767],{"type":20,"value":699},{"type":14,"tag":284,"props":2769,"children":2770},{"class":286,"line":658},[2771,2775,2779,2783,2787,2791,2795,2799,2803],{"type":14,"tag":284,"props":2772,"children":2773},{"style":291},[2774],{"type":20,"value":465},{"type":14,"tag":284,"props":2776,"children":2777},{"style":291},[2778],{"type":20,"value":470},{"type":14,"tag":284,"props":2780,"children":2781},{"style":302},[2782],{"type":20,"value":1514},{"type":14,"tag":284,"props":2784,"children":2785},{"style":610},[2786],{"type":20,"value":1519},{"type":14,"tag":284,"props":2788,"children":2789},{"style":308},[2790],{"type":20,"value":981},{"type":14,"tag":284,"props":2792,"children":2793},{"style":302},[2794],{"type":20,"value":1450},{"type":14,"tag":284,"props":2796,"children":2797},{"style":478},[2798],{"type":20,"value":1532},{"type":14,"tag":284,"props":2800,"children":2801},{"style":308},[2802],{"type":20,"value":1537},{"type":14,"tag":284,"props":2804,"children":2805},{"style":484},[2806],{"type":20,"value":1542},{"type":14,"tag":284,"props":2808,"children":2809},{"class":286,"line":683},[2810,2814,2818,2823],{"type":14,"tag":284,"props":2811,"children":2812},{"style":478},[2813],{"type":20,"value":1550},{"type":14,"tag":284,"props":2815,"children":2816},{"style":308},[2817],{"type":20,"value":272},{"type":14,"tag":284,"props":2819,"children":2820},{"style":610},[2821],{"type":20,"value":2822},"CreateContextBuilder",{"type":14,"tag":284,"props":2824,"children":2825},{"style":308},[2826],{"type":20,"value":618},{"type":14,"tag":284,"props":2828,"children":2829},{"class":286,"line":692},[2830,2835,2839,2843,2847],{"type":14,"tag":284,"props":2831,"children":2832},{"style":308},[2833],{"type":20,"value":2834},"            .",{"type":14,"tag":284,"props":2836,"children":2837},{"style":610},[2838],{"type":20,"value":154},{"type":14,"tag":284,"props":2840,"children":2841},{"style":308},[2842],{"type":20,"value":981},{"type":14,"tag":284,"props":2844,"children":2845},{"style":478},[2846],{"type":20,"value":2455},{"type":14,"tag":284,"props":2848,"children":2849},{"style":308},[2850],{"type":20,"value":1139},{"type":14,"tag":284,"props":2852,"children":2853},{"class":286,"line":702},[2854,2858,2862,2866,2870],{"type":14,"tag":284,"props":2855,"children":2856},{"style":308},[2857],{"type":20,"value":2834},{"type":14,"tag":284,"props":2859,"children":2860},{"style":610},[2861],{"type":20,"value":154},{"type":14,"tag":284,"props":2863,"children":2864},{"style":308},[2865],{"type":20,"value":981},{"type":14,"tag":284,"props":2867,"children":2868},{"style":478},[2869],{"type":20,"value":2464},{"type":14,"tag":284,"props":2871,"children":2872},{"style":308},[2873],{"type":20,"value":1139},{"type":14,"tag":284,"props":2875,"children":2876},{"class":286,"line":733},[2877,2881,2885],{"type":14,"tag":284,"props":2878,"children":2879},{"style":308},[2880],{"type":20,"value":2834},{"type":14,"tag":284,"props":2882,"children":2883},{"style":610},[2884],{"type":20,"value":233},{"type":14,"tag":284,"props":2886,"children":2887},{"style":308},[2888],{"type":20,"value":618},{"type":14,"tag":284,"props":2890,"children":2891},{"class":286,"line":761},[2892],{"type":14,"tag":284,"props":2893,"children":2894},{"style":308},[2895],{"type":20,"value":2896},"        ;\n",{"type":14,"tag":284,"props":2898,"children":2899},{"class":286,"line":2145},[2900],{"type":14,"tag":284,"props":2901,"children":2902},{"style":308},[2903],{"type":20,"value":343},{"type":14,"tag":22,"props":2905,"children":2906},{},[2907],{"type":20,"value":2908},"This phase context will require two different actions in a feature;",{"type":14,"tag":274,"props":2910,"children":2912},{"className":276,"code":2911,"language":278,"meta":7,"style":7},"...\npublic void Configure(LayerConfigurator configurator)\n{\n    configurator.Configure((Configuration1 configuration1) =>\n    {\n        // configure one by one\n    });\n\n    configurator.Configure((Configuration2 configuration2) =>\n    {\n        // configure one by one\n    });\n}\n...\n",[2913],{"type":14,"tag":28,"props":2914,"children":2915},{"__ignoreMap":7},[2916,2927,2958,2965,3000,3007,3015,3022,3029,3064,3071,3078,3085,3092],{"type":14,"tag":284,"props":2917,"children":2918},{"class":286,"line":287},[2919,2923],{"type":14,"tag":284,"props":2920,"children":2921},{"style":484},[2922],{"type":20,"value":1791},{"type":14,"tag":284,"props":2924,"children":2925},{"style":308},[2926],{"type":20,"value":506},{"type":14,"tag":284,"props":2928,"children":2929},{"class":286,"line":319},[2930,2934,2938,2942,2946,2950,2954],{"type":14,"tag":284,"props":2931,"children":2932},{"style":291},[2933],{"type":20,"value":294},{"type":14,"tag":284,"props":2935,"children":2936},{"style":291},[2937],{"type":20,"value":902},{"type":14,"tag":284,"props":2939,"children":2940},{"style":610},[2941],{"type":20,"value":2514},{"type":14,"tag":284,"props":2943,"children":2944},{"style":308},[2945],{"type":20,"value":981},{"type":14,"tag":284,"props":2947,"children":2948},{"style":302},[2949],{"type":20,"value":211},{"type":14,"tag":284,"props":2951,"children":2952},{"style":478},[2953],{"type":20,"value":2527},{"type":14,"tag":284,"props":2955,"children":2956},{"style":308},[2957],{"type":20,"value":1139},{"type":14,"tag":284,"props":2959,"children":2960},{"class":286,"line":328},[2961],{"type":14,"tag":284,"props":2962,"children":2963},{"style":308},[2964],{"type":20,"value":325},{"type":14,"tag":284,"props":2966,"children":2967},{"class":286,"line":337},[2968,2972,2976,2980,2984,2988,2992,2996],{"type":14,"tag":284,"props":2969,"children":2970},{"style":478},[2971],{"type":20,"value":2546},{"type":14,"tag":284,"props":2973,"children":2974},{"style":308},[2975],{"type":20,"value":272},{"type":14,"tag":284,"props":2977,"children":2978},{"style":610},[2979],{"type":20,"value":205},{"type":14,"tag":284,"props":2981,"children":2982},{"style":308},[2983],{"type":20,"value":2559},{"type":14,"tag":284,"props":2985,"children":2986},{"style":302},[2987],{"type":20,"value":2564},{"type":14,"tag":284,"props":2989,"children":2990},{"style":478},[2991],{"type":20,"value":2569},{"type":14,"tag":284,"props":2993,"children":2994},{"style":308},[2995],{"type":20,"value":1537},{"type":14,"tag":284,"props":2997,"children":2998},{"style":484},[2999],{"type":20,"value":1542},{"type":14,"tag":284,"props":3001,"children":3002},{"class":286,"line":509},[3003],{"type":14,"tag":284,"props":3004,"children":3005},{"style":308},[3006],{"type":20,"value":626},{"type":14,"tag":284,"props":3008,"children":3009},{"class":286,"line":658},[3010],{"type":14,"tag":284,"props":3011,"children":3012},{"style":2604},[3013],{"type":20,"value":3014},"        // configure one by one\n",{"type":14,"tag":284,"props":3016,"children":3017},{"class":286,"line":683},[3018],{"type":14,"tag":284,"props":3019,"children":3020},{"style":308},[3021],{"type":20,"value":2615},{"type":14,"tag":284,"props":3023,"children":3024},{"class":286,"line":692},[3025],{"type":14,"tag":284,"props":3026,"children":3027},{"emptyLinePlaceholder":696},[3028],{"type":20,"value":699},{"type":14,"tag":284,"props":3030,"children":3031},{"class":286,"line":702},[3032,3036,3040,3044,3048,3052,3056,3060],{"type":14,"tag":284,"props":3033,"children":3034},{"style":478},[3035],{"type":20,"value":2546},{"type":14,"tag":284,"props":3037,"children":3038},{"style":308},[3039],{"type":20,"value":272},{"type":14,"tag":284,"props":3041,"children":3042},{"style":610},[3043],{"type":20,"value":205},{"type":14,"tag":284,"props":3045,"children":3046},{"style":308},[3047],{"type":20,"value":2559},{"type":14,"tag":284,"props":3049,"children":3050},{"style":302},[3051],{"type":20,"value":2578},{"type":14,"tag":284,"props":3053,"children":3054},{"style":478},[3055],{"type":20,"value":2583},{"type":14,"tag":284,"props":3057,"children":3058},{"style":308},[3059],{"type":20,"value":1537},{"type":14,"tag":284,"props":3061,"children":3062},{"style":484},[3063],{"type":20,"value":1542},{"type":14,"tag":284,"props":3065,"children":3066},{"class":286,"line":733},[3067],{"type":14,"tag":284,"props":3068,"children":3069},{"style":308},[3070],{"type":20,"value":626},{"type":14,"tag":284,"props":3072,"children":3073},{"class":286,"line":761},[3074],{"type":14,"tag":284,"props":3075,"children":3076},{"style":2604},[3077],{"type":20,"value":3014},{"type":14,"tag":284,"props":3079,"children":3080},{"class":286,"line":2145},[3081],{"type":14,"tag":284,"props":3082,"children":3083},{"style":308},[3084],{"type":20,"value":2615},{"type":14,"tag":284,"props":3086,"children":3087},{"class":286,"line":2181},[3088],{"type":14,"tag":284,"props":3089,"children":3090},{"style":308},[3091],{"type":20,"value":343},{"type":14,"tag":284,"props":3093,"children":3094},{"class":286,"line":2190},[3095,3099],{"type":14,"tag":284,"props":3096,"children":3097},{"style":484},[3098],{"type":20,"value":1791},{"type":14,"tag":284,"props":3100,"children":3101},{"style":308},[3102],{"type":20,"value":506},{"type":14,"tag":345,"props":3104,"children":3105},{},[3106,3110],{"type":14,"tag":22,"props":3107,"children":3108},{},[3109],{"type":20,"value":352},{"type":14,"tag":22,"props":3111,"children":3112},{},[3113,3118,3120,3125],{"type":14,"tag":28,"props":3114,"children":3115},{"className":7},[3116],{"type":20,"value":3117},"phase.CreateContext()",{"type":20,"value":3119}," is a helper method that utilizes\n",{"type":14,"tag":28,"props":3121,"children":3122},{"className":7},[3123],{"type":20,"value":3124},"phase.CreateContextBuilder()",{"type":20,"value":3126}," behind the scenes.",{"type":14,"tag":2268,"props":3128,"children":3130},{"id":3129},"using-in-combination",[3131],{"type":20,"value":3132},"Using in Combination",{"type":14,"tag":22,"props":3134,"children":3135},{},[3136],{"type":20,"value":3137},"You may combine these two ways to provide configuration;",{"type":14,"tag":274,"props":3139,"children":3141},{"className":276,"code":3140,"language":278,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n    readonly Configuration3 _configuration3 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContextBuilder()\n            .Add(_configuration1, _configuration2)\n            .Add(_configuration3)\n            .Build()\n        ;\n}\n",[3142],{"type":14,"tag":28,"props":3143,"children":3144},{"__ignoreMap":7},[3145,3180,3187,3214,3241,3270,3277,3316,3335,3366,3390,3405,3412],{"type":14,"tag":284,"props":3146,"children":3147},{"class":286,"line":287},[3148,3152,3156,3160,3164,3168,3172,3176],{"type":14,"tag":284,"props":3149,"children":3150},{"style":291},[3151],{"type":20,"value":294},{"type":14,"tag":284,"props":3153,"children":3154},{"style":291},[3155],{"type":20,"value":299},{"type":14,"tag":284,"props":3157,"children":3158},{"style":302},[3159],{"type":20,"value":305},{"type":14,"tag":284,"props":3161,"children":3162},{"style":308},[3163],{"type":20,"value":311},{"type":14,"tag":284,"props":3165,"children":3166},{"style":302},[3167],{"type":20,"value":270},{"type":14,"tag":284,"props":3169,"children":3170},{"style":308},[3171],{"type":20,"value":597},{"type":14,"tag":284,"props":3173,"children":3174},{"style":302},[3175],{"type":20,"value":1450},{"type":14,"tag":284,"props":3177,"children":3178},{"style":308},[3179],{"type":20,"value":1096},{"type":14,"tag":284,"props":3181,"children":3182},{"class":286,"line":319},[3183],{"type":14,"tag":284,"props":3184,"children":3185},{"style":308},[3186],{"type":20,"value":325},{"type":14,"tag":284,"props":3188,"children":3189},{"class":286,"line":328},[3190,3194,3198,3202,3206,3210],{"type":14,"tag":284,"props":3191,"children":3192},{"style":291},[3193],{"type":20,"value":1469},{"type":14,"tag":284,"props":3195,"children":3196},{"style":302},[3197],{"type":20,"value":2339},{"type":14,"tag":284,"props":3199,"children":3200},{"style":478},[3201],{"type":20,"value":2344},{"type":14,"tag":284,"props":3203,"children":3204},{"style":484},[3205],{"type":20,"value":936},{"type":14,"tag":284,"props":3207,"children":3208},{"style":291},[3209],{"type":20,"value":645},{"type":14,"tag":284,"props":3211,"children":3212},{"style":308},[3213],{"type":20,"value":655},{"type":14,"tag":284,"props":3215,"children":3216},{"class":286,"line":337},[3217,3221,3225,3229,3233,3237],{"type":14,"tag":284,"props":3218,"children":3219},{"style":291},[3220],{"type":20,"value":1469},{"type":14,"tag":284,"props":3222,"children":3223},{"style":302},[3224],{"type":20,"value":2368},{"type":14,"tag":284,"props":3226,"children":3227},{"style":478},[3228],{"type":20,"value":2373},{"type":14,"tag":284,"props":3230,"children":3231},{"style":484},[3232],{"type":20,"value":936},{"type":14,"tag":284,"props":3234,"children":3235},{"style":291},[3236],{"type":20,"value":645},{"type":14,"tag":284,"props":3238,"children":3239},{"style":308},[3240],{"type":20,"value":655},{"type":14,"tag":284,"props":3242,"children":3243},{"class":286,"line":509},[3244,3248,3253,3258,3262,3266],{"type":14,"tag":284,"props":3245,"children":3246},{"style":291},[3247],{"type":20,"value":1469},{"type":14,"tag":284,"props":3249,"children":3250},{"style":302},[3251],{"type":20,"value":3252}," Configuration3",{"type":14,"tag":284,"props":3254,"children":3255},{"style":478},[3256],{"type":20,"value":3257}," _configuration3",{"type":14,"tag":284,"props":3259,"children":3260},{"style":484},[3261],{"type":20,"value":936},{"type":14,"tag":284,"props":3263,"children":3264},{"style":291},[3265],{"type":20,"value":645},{"type":14,"tag":284,"props":3267,"children":3268},{"style":308},[3269],{"type":20,"value":655},{"type":14,"tag":284,"props":3271,"children":3272},{"class":286,"line":658},[3273],{"type":14,"tag":284,"props":3274,"children":3275},{"emptyLinePlaceholder":696},[3276],{"type":20,"value":699},{"type":14,"tag":284,"props":3278,"children":3279},{"class":286,"line":683},[3280,3284,3288,3292,3296,3300,3304,3308,3312],{"type":14,"tag":284,"props":3281,"children":3282},{"style":291},[3283],{"type":20,"value":465},{"type":14,"tag":284,"props":3285,"children":3286},{"style":291},[3287],{"type":20,"value":470},{"type":14,"tag":284,"props":3289,"children":3290},{"style":302},[3291],{"type":20,"value":1514},{"type":14,"tag":284,"props":3293,"children":3294},{"style":610},[3295],{"type":20,"value":1519},{"type":14,"tag":284,"props":3297,"children":3298},{"style":308},[3299],{"type":20,"value":981},{"type":14,"tag":284,"props":3301,"children":3302},{"style":302},[3303],{"type":20,"value":1450},{"type":14,"tag":284,"props":3305,"children":3306},{"style":478},[3307],{"type":20,"value":1532},{"type":14,"tag":284,"props":3309,"children":3310},{"style":308},[3311],{"type":20,"value":1537},{"type":14,"tag":284,"props":3313,"children":3314},{"style":484},[3315],{"type":20,"value":1542},{"type":14,"tag":284,"props":3317,"children":3318},{"class":286,"line":692},[3319,3323,3327,3331],{"type":14,"tag":284,"props":3320,"children":3321},{"style":478},[3322],{"type":20,"value":1550},{"type":14,"tag":284,"props":3324,"children":3325},{"style":308},[3326],{"type":20,"value":272},{"type":14,"tag":284,"props":3328,"children":3329},{"style":610},[3330],{"type":20,"value":2822},{"type":14,"tag":284,"props":3332,"children":3333},{"style":308},[3334],{"type":20,"value":618},{"type":14,"tag":284,"props":3336,"children":3337},{"class":286,"line":702},[3338,3342,3346,3350,3354,3358,3362],{"type":14,"tag":284,"props":3339,"children":3340},{"style":308},[3341],{"type":20,"value":2834},{"type":14,"tag":284,"props":3343,"children":3344},{"style":610},[3345],{"type":20,"value":154},{"type":14,"tag":284,"props":3347,"children":3348},{"style":308},[3349],{"type":20,"value":981},{"type":14,"tag":284,"props":3351,"children":3352},{"style":478},[3353],{"type":20,"value":2455},{"type":14,"tag":284,"props":3355,"children":3356},{"style":308},[3357],{"type":20,"value":192},{"type":14,"tag":284,"props":3359,"children":3360},{"style":478},[3361],{"type":20,"value":2464},{"type":14,"tag":284,"props":3363,"children":3364},{"style":308},[3365],{"type":20,"value":1139},{"type":14,"tag":284,"props":3367,"children":3368},{"class":286,"line":733},[3369,3373,3377,3381,3386],{"type":14,"tag":284,"props":3370,"children":3371},{"style":308},[3372],{"type":20,"value":2834},{"type":14,"tag":284,"props":3374,"children":3375},{"style":610},[3376],{"type":20,"value":154},{"type":14,"tag":284,"props":3378,"children":3379},{"style":308},[3380],{"type":20,"value":981},{"type":14,"tag":284,"props":3382,"children":3383},{"style":478},[3384],{"type":20,"value":3385},"_configuration3",{"type":14,"tag":284,"props":3387,"children":3388},{"style":308},[3389],{"type":20,"value":1139},{"type":14,"tag":284,"props":3391,"children":3392},{"class":286,"line":761},[3393,3397,3401],{"type":14,"tag":284,"props":3394,"children":3395},{"style":308},[3396],{"type":20,"value":2834},{"type":14,"tag":284,"props":3398,"children":3399},{"style":610},[3400],{"type":20,"value":233},{"type":14,"tag":284,"props":3402,"children":3403},{"style":308},[3404],{"type":20,"value":618},{"type":14,"tag":284,"props":3406,"children":3407},{"class":286,"line":2145},[3408],{"type":14,"tag":284,"props":3409,"children":3410},{"style":308},[3411],{"type":20,"value":2896},{"type":14,"tag":284,"props":3413,"children":3414},{"class":286,"line":2181},[3415],{"type":14,"tag":284,"props":3416,"children":3417},{"style":308},[3418],{"type":20,"value":343},{"type":14,"tag":22,"props":3420,"children":3421},{},[3422],{"type":20,"value":3423},"This phase context will require two different actions;",{"type":14,"tag":95,"props":3425,"children":3426},{},[3427,3437],{"type":14,"tag":99,"props":3428,"children":3429},{},[3430,3432],{"type":20,"value":3431},"For the first two configuration objects: ",{"type":14,"tag":28,"props":3433,"children":3434},{"className":7},[3435],{"type":20,"value":3436},"(Configuration1 configuration1, Configuration2 configuration2)",{"type":14,"tag":99,"props":3438,"children":3439},{},[3440,3442,3447],{"type":20,"value":3441},"For the last configuration object: ",{"type":14,"tag":28,"props":3443,"children":3444},{"className":7},[3445],{"type":20,"value":3446},"(Configuration3 configuration3)",{"type":20,"value":272},{"type":14,"tag":3449,"props":3450,"children":3451},"style",{},[3452],{"type":20,"value":3453},"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":319,"depth":319,"links":3455},[3456,3457,3461,3466],{"id":85,"depth":319,"text":88},{"id":257,"depth":319,"text":260,"children":3458},[3459],{"id":367,"depth":328,"text":3460},"Id of a Layer",{"id":517,"depth":319,"text":520,"children":3462},[3463,3464,3465],{"id":807,"depth":328,"text":810},{"id":1025,"depth":328,"text":1028},{"id":1298,"depth":328,"text":1301},{"id":1396,"depth":319,"text":1399,"children":3467},[3468,3470,3471],{"id":1631,"depth":328,"text":3469},"Using non-generic LayerBase",{"id":1889,"depth":328,"text":1892},{"id":2258,"depth":328,"text":2261},"markdown","content:architecture:layer.md","content","architecture/layer.md","md",{},{"content-query-hBLt6OxXWy":3479},null,1704206350044,{"sectionStore":3482,"pageStore":3499},{"sections":3483},[3484,3487,3490,3493,3496],{"_path":3485,"_dir":7,"title":3486},"/blueprints/","Blueprints",{"_path":3488,"_dir":7,"title":3489},"/features/","Features",{"_path":3491,"_dir":7,"title":3492},"/layers/","Layers",{"_path":3494,"_dir":7,"title":3495},"/architecture/","Architecture",{"_path":3497,"_dir":7,"title":3498},"/release-notes/","Release Notes",{"pages":3500},[3501,3505,3507,3508],{"_path":3494,"title":3495,"pages":3502},[3503,17,3504],"application","feature",{"_path":3506,"title":65},"/architecture/application",{"_path":4,"title":8},{"_path":3509,"title":2644},"/architecture/feature"]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:false,h3:false,h4:false,h5:false,h6:false}}},baseURL:"/",githubURL:"/mouseless/do",content:{locales:[],defaultLocale:"",integrity:1704206337945,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"slack-dark",preload:["diff","ts","js","css","java","markdown","sql","xml","json","csharp","md","bash"]},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body>
</html>