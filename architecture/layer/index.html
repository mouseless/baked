<!DOCTYPE html>
<html >
<head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Layer</title>
<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Do">
<meta property="og:description" content="An opinionated framework for .NET">
<meta property="og:image" content="https://do.mouseless.codes/favicon.ico">
<meta property="og:image:width" content="50">
<meta property="og:image:height" content="50">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
<link rel="stylesheet" type="text/css" href="https://mouseless.github.io/brand/assets/css/default.css">
<meta property="og:title" content="Layer">
<meta name="description" content="Each ILayer implementation represents an internal system component of the
software you develop. A layer provides application features with configuration
of this system component so that the features can bind domain objects and
system components together.">
<meta property="og:description" content="Each ILayer implementation represents an internal system component of the
software you develop. A layer provides application features with configuration
of this system component so that the features can bind domain objects and
system components together.">
<style>.content[data-v-5e897649],.full[data-v-5e897649]{box-sizing:border-box;margin:auto;max-width:calc(var(--width-content) + 34em);min-width:270px}@media (max-width:1830px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:calc(var(--width-content) + 34em)}}@media (max-width:1330px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:calc(var(--width-content) + 19em)}}@media (max-width:1074px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:calc(var(--width-content))}}@media (max-width:818px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:82%}}.content[data-v-5e897649]{display:grid;grid-template-areas:"side content" "side content";grid-template-columns:15em;grid-template-rows:65px 1fr}.side[data-v-5e897649]{grid-area:side}article[data-v-5e897649]{grid-area:content}@media (max-width:1330px){.content[data-v-5e897649]{margin-top:0}}@media (max-width:1074px){.side[data-v-5e897649]{grid-column-end:content;z-index:2}article[data-v-5e897649]{grid-column-start:side}}@media (max-width:818px){.content[data-v-5e897649]{display:block}}</style>
<style>div.top[data-v-049e3959]{border-bottom:2px solid var(--color-bg-soft)}header[data-v-049e3959]{align-items:center;box-sizing:border-box;display:flex;flex-direction:row;justify-content:space-between;margin:auto;max-width:calc(var(--width-content) + 34em);min-width:270px}@media (max-width:1830px){header[data-v-049e3959]{max-width:calc(var(--width-content) + 34em)}}@media (max-width:1330px){header[data-v-049e3959]{max-width:calc(var(--width-content) + 19em)}}@media (max-width:1074px){header[data-v-049e3959]{max-width:calc(var(--width-content))}}@media (max-width:818px){header[data-v-049e3959]{max-width:82%}}header .bars[data-v-049e3959]{display:none}div.logo[data-v-049e3959]{margin:20px 0}div.logo a[data-v-049e3959]:has(img.logo){display:block;height:25px}div.logo a:has(img.logo) img.do[data-v-049e3959]:is(.logo){display:inline-block;height:25px}a[data-v-049e3959]{color:var(--color-fg-soft);cursor:pointer}a[data-v-049e3959]:hover{color:var(--color-logo-mark)}nav a[data-v-049e3959]{margin:1em;text-decoration:none}nav a.close[data-v-049e3959]{display:none}nav a.active[data-v-049e3959]{border-bottom-color:var(--color-bg-soft);border-bottom:2px solid var(--color-logo-mark);padding-bottom:22px}nav a[data-v-049e3959]:last-child{margin-right:0}@media (max-width:1830px){nav a.active[data-v-049e3959]{padding-bottom:24px}}@media (max-width:1074px){a.bars[data-v-049e3959]{display:block}nav[data-v-049e3959]{background:var(--color-bg);border-left:2px solid var(--color-bg-soft);display:none;height:100%;padding:20px;position:fixed;right:0;top:0;width:calc(270px - 4em);z-index:99}nav a[data-v-049e3959],nav.active[data-v-049e3959]{display:block}nav a[data-v-049e3959]{height:2em}nav a.close[data-v-049e3959]{display:block;margin-bottom:1em}nav a.close i[data-v-049e3959]{font-size:larger}nav a.active[data-v-049e3959]{border:0;border-left-color:var(--color-bg-soft);border-left:2px solid var(--color-logo-mark);margin-left:-22px;padding-bottom:0;padding-left:calc(20px + 1em)}}@media (max-width:818px){nav[data-v-049e3959]{width:calc(270px - 7em)}}</style>
<style>nav[data-v-9dee0249]{align-self:start;margin-top:2.5em;position:sticky;top:1.5em}nav h4[data-v-9dee0249]{display:none}nav ul[data-v-9dee0249]{margin:0;padding:0}nav ul li[data-v-9dee0249]{list-style:none;margin:0}nav ul li a[data-v-9dee0249]{border-radius:calc(var(--border-radius)/3);color:var(--color-fg-soft);display:block;font-size:1em;padding:.5em 1em;text-decoration:none}nav ul li a[data-v-9dee0249]:hover{color:var(--color-logo-mark)}nav ul li a.active[data-v-9dee0249]{background-color:var(--color-bg-soft)}@media (max-width:1330px){nav[data-v-9dee0249]{margin-top:3.5em}}@media (max-width:1074px){nav[data-v-9dee0249]{margin-top:0;top:0;width:50%}nav h4[data-v-9dee0249]{display:block;font-size:.9em;text-transform:uppercase}nav h4 a[data-v-9dee0249]{padding-left:0}nav h4 a[data-v-9dee0249]:hover{color:var(--color-logo-mark)}nav ul[data-v-9dee0249]{background-color:var(--color-bg-box);background-color:var(--color-bg-soft);border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);box-sizing:border-box;display:none;padding:calc(var(--border-radius) - .5em) calc(var(--border-radius) - 1em);position:absolute;width:200%}nav ul.active[data-v-9dee0249]{display:block}nav ul li a.active[data-v-9dee0249]{background-color:var(--color-bg-mute)}}@media (max-width:818px){nav[data-v-9dee0249]{margin-bottom:-3.7em}}</style>
<style>.container[data-v-b90ae7fa]{display:flex}.container .content[data-v-b90ae7fa]{margin:0 4em;max-width:var(--width-content);width:100%}@media (max-width:1330px){.container[data-v-b90ae7fa]{flex-direction:column-reverse;margin-left:4em}.container .content[data-v-b90ae7fa]{margin:1em 0 0}}@media (max-width:1074px){.container[data-v-b90ae7fa]{margin-left:0}}</style>
<style>.full .content{margin-left:0!important;margin-right:0!important}@media (max-width:1330px){.full .container{margin-left:0}}</style>
<style>div.bottom[data-v-82c0088f]{border-top:2px solid var(--color-bg-soft);margin-top:4em}footer[data-v-82c0088f]{align-items:flex-start;box-sizing:border-box;display:flex;flex-direction:row;justify-content:space-between;margin:1em auto;max-width:calc(var(--width-content) + 34em);min-width:270px}@media (max-width:1830px){footer[data-v-82c0088f]{max-width:calc(var(--width-content) + 34em)}}@media (max-width:1330px){footer[data-v-82c0088f]{max-width:calc(var(--width-content) + 19em)}}@media (max-width:1074px){footer[data-v-82c0088f]{max-width:calc(var(--width-content))}}@media (max-width:818px){footer[data-v-82c0088f]{max-width:82%}}footer[data-v-82c0088f],footer *[data-v-82c0088f]{color:var(--color-fg-mute)}footer div[data-v-82c0088f],footer nav[data-v-82c0088f]{font-family:var(--font-heading);font-size:smaller}div.logo[data-v-82c0088f]{margin:20px 0}div.logo a[data-v-82c0088f]:has(img.logo){display:block;height:15px}div.logo a:has(img.logo) img.do[data-v-82c0088f]:is(.logo){display:inline-block;height:15px;opacity:.5}div.logo span[data-v-82c0088f]{display:inline-block;margin-top:1em}nav[data-v-82c0088f]{text-align:right}nav a[data-v-82c0088f]{display:block;margin:5px;text-decoration:none}nav a[data-v-82c0088f]:hover,nav a:hover i[data-v-82c0088f]{color:var(--color-logo-mark)}@media (max-width:818px){footer[data-v-82c0088f]{display:block}footer nav[data-v-82c0088f]{text-align:left}footer nav a[data-v-82c0088f]{margin-left:0}}</style>
<style>.navigation-buttons-container[data-v-6a000fc9]{margin-top:4em;max-width:var(--width-content)}.navigation-buttons-container .button[data-v-6a000fc9]{margin-top:.9em;padding-left:.4em;padding-right:.4em}.navigation-buttons-container .button a[data-v-6a000fc9]{text-decoration:none}.navigation-buttons-container .button a .link-text[data-v-6a000fc9]{color:var(--color-fg-mute);font-size:.75em}.navigation-buttons-container .button a .link-text h3[data-v-6a000fc9]{color:var(--color-fg-soft);font-size:1.5em;margin-top:.1em}.navigation-buttons-container .button a:hover h3[data-v-6a000fc9]{color:var(--color-logo-mark)}.navigation-buttons-container .button.left[data-v-6a000fc9]{float:left;text-align:left}.navigation-buttons-container .button.right[data-v-6a000fc9]{float:right;text-align:end}</style>
<style>h4[data-v-4f8affad]{margin-bottom:.5em;padding-left:1em}h4[data-v-4f8affad],nav[data-v-4f8affad]{font-size:.9em}nav[data-v-4f8affad]{text-wrap:nowrap;align-self:start;margin-top:2.5em;overflow:hidden;position:sticky;top:1.5em;width:15em}nav ul[data-v-4f8affad]{margin:0;padding-left:0}nav ul li[data-v-4f8affad]{line-height:24px;list-style:none;margin:0}nav ul li a[data-v-4f8affad]{border-left:2px solid transparent;color:var(--color-fg-soft);cursor:pointer;display:block;font-size:.9em;margin-top:.25em;overflow:hidden;padding-left:1em;text-decoration:none;text-overflow:ellipsis}nav ul li a[data-v-4f8affad]:hover{color:var(--color-logo-mark)}nav ul li a.active[data-v-4f8affad]{border-left-color:var(--color-bg-mute)}nav ul li a.return-to-top[data-v-4f8affad]{margin-top:.75em}nav ul li ul[data-v-4f8affad]{margin-bottom:.25em}nav ul li ul a[data-v-4f8affad]{padding-left:2em}@media (max-width:1330px){nav[data-v-4f8affad]{background-color:var(--color-bg);font-size:1em;margin:0 0 -3.7em;text-align:right;top:0;width:100%}nav h4 a[data-v-4f8affad]{display:inline-block;padding-left:0;padding-right:0}nav h4 a[data-v-4f8affad]:hover{color:var(--color-logo-mark)}nav>ul[data-v-4f8affad]{background-color:var(--color-bg-box);background-color:var(--color-bg-soft);border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);display:none;margin-bottom:2.5em;padding:var(--border-radius);padding-left:0;text-align:left}nav>ul.active[data-v-4f8affad]{display:block}nav ul li a[data-v-4f8affad]{padding-left:var(--border-radius)}nav ul li a.active[data-v-4f8affad]:before{left:0}nav ul li ul li a[data-v-4f8affad]{padding-left:calc(var(--border-radius) + 1em)}}</style>
<style>a[data-v-f8417185]{font-family:var(--font-default)}i[data-v-f8417185]{margin-left:.3em}</style>
<style>pre code .line{display:block;min-height:1rem}</style>
<style>blockquote[data-v-cab260a3]{align-items:flex-start;border-radius:10px;display:flex;flex-direction:row;justify-content:flex-start;margin:1em 0;max-width:var(--width-content);padding:0}blockquote i[data-v-cab260a3]{line-height:var(--line-height);margin-top:1em;position:absolute}blockquote div[data-v-cab260a3]{padding-left:3ch;width:100%}blockquote.info i[data-v-cab260a3]{color:var(--color-blue)}blockquote.warning i[data-v-cab260a3]{color:var(--color-orange)}blockquote.tip i[data-v-cab260a3]{color:var(--color-green)}blockquote.danger i[data-v-cab260a3]{color:var(--color-red)}blockquote.default i[data-v-cab260a3]{color:var(--color-fg)}@media (min-width:1830px){blockquote i[data-v-cab260a3]{line-height:calc(var(--line-height)*1.1)}}</style>
<style>@media (prefers-color-scheme:dark){:root{--url-logo-full:url(/logo-full-primary.svg);--url-logo-full-mono:url(/logo-full-white.svg);--url-logo-mark:url(/logo-mark-primary.svg);--url-logo-mark-mono:url(/logo-mark-white.svg)}}@media (prefers-color-scheme:light){:root{--url-logo-full:url(/logo-full-secondary.svg);--url-logo-full-mono:url(/logo-full-black.svg);--url-logo-mark:url(/logo-mark-primary.svg);--url-logo-mark-mono:url(/logo-mark-black.svg)}}body,html{margin:0;padding:0}body{font-size:calc(var(--font-size)*1.2);line-height:calc(var(--line-height)*1.1)}img.do:is(.logo),img.do:is(.logo:is(.full)){content:var(--url-logo-full)}img.do:is(.logo):is(.mono),img.do:is(.logo:is(.full)):is(.mono){content:var(--url-logo-full-mono)}img.do:is(.logo:is(.mark)){content:var(--url-logo-mark)}img.do:is(.logo:is(.mark)):is(.mono){content:var(--url-logo-mark-mono)}.content nav h4{margin-bottom:.5em;margin-top:0;text-transform:uppercase}.content nav h4 a{display:inline-block;text-decoration:none}.content nav h4 a,.content nav h4 a:hover{color:var(--color-fg-soft)}.content p:has(.diagram){background-color:var(--color-bg-box);border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-color:var(--color-bg-soft);border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);padding:30px 0 18px;text-align:center}.content code{background-color:var(--color-bg-soft);border-radius:5px;color:var(--color-soft);font-size:.9em;overflow-wrap:anywhere;padding:.2em .4em}.content pre{text-wrap:wrap;overflow:auto}.content pre code{text-wrap:nowrap;background-color:transparent;display:block;line-height:1.5em;max-width:0;padding:0}.content ol li,.content ul li{margin-bottom:.2em}.content ol li ol,.content ol li ul,.content ul li ol,.content ul li ul{margin-top:.2em}.content hr{border:2px solid var(--color-bg-soft)}@media (max-width:1830px){body{font-size:var(--font-size);line-height:var(--line-height)}.content pre code{line-height:1em}}@media (max-width:1330px){.content h2,.content h3{scroll-margin-top:3em}nav h4 a{cursor:pointer;padding:1em}nav h4 a:hover{color:var(--color-logo-mark)}}</style>
<link rel="stylesheet" href="/_nuxt/ProsePre.e63e49c6.css">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.a3094e82.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/default.5aea3db6.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Header.70cac991.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/nuxt-link.e46f0f23.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/sectionStore.f616c452.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Side.a0e8229e.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/pageStore.e2fee975.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Footer.bd76959e.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/query.ae01de8b.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/preview.2c12b7d4.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/applyOrder.347713b5.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/_...content-page_.78434b97.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRenderer.66d7f727.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.vue.b2d1dd99.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/index.288f722b.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BottomNavigation.f7f91a7c.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Toc.9cc2e719.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentDoc.1046d653.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/vue.f36acd1f.1145753c.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentQuery.0c7ba323.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/asyncData.b3d10093.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.0db2637b.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH1.214c9f0e.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.0e2f8374.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCodeInline.a5f2a128.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.6cbb8270.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH2.6ae6853a.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseOl.6f8f9c77.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseLi.487c7f52.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProsePre.a89d420f.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.vue.a499b4bf.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.bc8dc591.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseBlockquote.3de46760.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH3.245b42aa.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH4.d4d6c2ad.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/error-404.4b606ce1.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/error-500.31aae9a2.js">
<script type="module" src="/_nuxt/entry.a3094e82.js" crossorigin></script></head>
<body ><div id="__nuxt"><div data-v-5e897649><div class="top" data-v-5e897649 data-v-049e3959><header data-v-049e3959><div class="logo" data-v-049e3959><a href="/" class="" data-v-049e3959><img class="do logo" data-v-049e3959></a></div><a class="bars" data-v-049e3959><i class="fa-solid fa-bars" data-v-049e3959></i></a><nav class="" data-v-049e3959><a class="close" data-v-049e3959><i class="fa-solid fa-close" data-v-049e3959></i></a><!--[--><a href="/blueprints/" class="" data-v-049e3959>Blueprints</a><a href="/features/" class="" data-v-049e3959>Features</a><a href="/layers/" class="" data-v-049e3959>Layers</a><a href="/architecture/" class="active" data-v-049e3959>Architecture</a><a href="/release-notes/" class="" data-v-049e3959>Release Notes</a><!--]--><a href="https://github.com/mouseless/do" rel="noopener noreferrer" target="_blank" data-v-049e3959><i class="fa-brands fa-github" data-v-049e3959></i></a></nav></header></div><div class="content" data-v-5e897649><nav class="side" data-v-5e897649 data-v-9dee0249><h4 data-v-9dee0249><a data-v-9dee0249>Pages</a></h4><ul class="" data-v-9dee0249><li data-v-9dee0249><!--[--><!--]--></li></ul></nav><article data-v-5e897649><!--[--><!--[--><div class="container" data-v-b90ae7fa><div class="content" data-v-b90ae7fa><div class="toc-root" data-v-b90ae7fa><h1 id="layer"><!--[-->Layer<!--]--></h1><p><!--[-->Each <code class=""><!--[-->ILayer<!--]--></code> implementation represents an internal system component of the
software you develop. A layer provides application features with configuration
of this system component so that the features can bind domain objects and
system components together.<!--]--></p><p><!--[-->Let&#39;s take relational database as an example. A relational database is treated
as an internal system component and is introduced by the <code class=""><!--[-->DataAccessLayer<!--]--></code> along
with a configuration API. This API enables a feature to map your domain entities
to database tables.<!--]--></p><p><!--[-->Another good example is the <code class=""><!--[-->HttpServerLayer<!--]--></code>. This layer introduces the ASP.NET
Core framework into your application. It provides three phases, as mentioned in
<a href="/architecture/application" class="" data-v-f8417185><!--[-->Application<!--]--><!----></a>, along with <code class=""><!--[-->IMiddlewareCollection<!--]--></code> and
<code class=""><!--[-->IEndpointRouteBuilder<!--]--></code> objects as its configuration API. This way, any feature
has the ability to use a middleware or add routes to the application.<!--]--></p><h2 id="conventions"><!--[-->Conventions<!--]--></h2><p><!--[-->For a consistent developer experience, follow below conventions when
implementing a new layer;<!--]--></p><ol><!--[--><li><!--[-->Place all layer related classes under the same folder named after layer,
e.g., <code class=""><!--[-->DependencyInjection/<!--]--></code><!--]--></li><li><!--[-->Use <code class=""><!--[-->Layer<!--]--></code> suffix in layer class name, e.g.,
<code class=""><!--[-->DependencyInjection/DependencyInjectionLayer.cs<!--]--></code><!--]--></li><li><!--[-->Provide extension methods in <code class=""><!--[-->Do<!--]--></code> namespace, e.g.,
<code class=""><!--[-->DependencyInjection/DependencyInjectionExtensions.cs<!--]--></code>;
<ol><!--[--><li><!--[--><code class=""><!--[-->Add<!--]--></code> extension to <code class=""><!--[-->List&lt;ILayer&gt;<!--]--></code>, e.g., <code class=""><!--[-->AddDependencyInjection()<!--]--></code><!--]--></li><li><!--[--><code class=""><!--[-->Get<!--]--></code> extensions to <code class=""><!--[-->ApplicationContext<!--]--></code>, e.g.,
<code class=""><!--[-->GetWebApplicationBuilder()<!--]--></code>, <code class=""><!--[-->GetWebApplication()<!--]--></code><!--]--></li><li><!--[--><code class=""><!--[-->Configure<!--]--></code> extensions to <code class=""><!--[-->LayerConfigurator<!--]--></code> per configuration
target(s), e.g., <code class=""><!--[-->ConfigureServiceCollection()<!--]--></code><!--]--></li><!--]--></ol><!--]--></li><li><!--[-->Place phase implementations as nested classes under the layer class<!--]--></li><li><!--[-->Don&#39;t use any suffix for phases and use method-like names, e.g., <code class=""><!--[-->Build<!--]--></code> and
<code class=""><!--[-->Run<!--]--></code><!--]--></li><!--]--></ol><p><!--[-->Please refer to existing layers in <a href="https://github.com/mouseless/do" rel="nofollow" target="_blank" data-v-f8417185><!--[-->github.com/mouseless/do<!--]--><i class="fa-solid fa-arrow-up-right-from-square" data-v-f8417185></i></a> for examples.<!--]--></p><h2 id="creating-a-layer"><!--[-->Creating A Layer<!--]--></h2><p><!--[-->To create a layer, create a class using above conventions and extend
<code class=""><!--[-->LayerBase<!--]--></code>.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">    ...
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="tip" data-v-cab260a3><i class="fa fa-lightbulb" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->You can directly implement provided interface <code class=""><!--[-->ILayer<!--]--></code>, however we&#39;ve created
some base classes to make it easier for you to create layers. All examples
demonstrate usage of these base classes.<!--]--></p><!--]--></div></blockquote><h3 id="id-of-a-layer"><!--[--><code class=""><!--[-->Id<!--]--></code> of a Layer<!--]--></h3><p><!--[--><code class=""><!--[-->ILayer<!--]--></code> has an <code class=""><!--[-->Id<!--]--></code> property which should be a unique per <code class=""><!--[-->Application<!--]--></code>
instance. <code class=""><!--[-->LayerBase<!--]--></code> sets the <code class=""><!--[-->Id<!--]--></code> as name of the concrete class e.g.,
<code class=""><!--[-->LayerX<!--]--></code> at above example.<!--]--></p><p><!--[-->You can override its value in layer implementation class as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> string</span><span style="--shiki-default:#9CDCFE"> Id</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#CE9178"> &quot;CustomUniqueId&quot;
</span></span><span class="line" line="4"><span style="--shiki-default:#D4D4D4">    ..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><h2 id="adding-phases"><!--[-->Adding Phases<!--]--></h2><p><!--[-->By default <code class=""><!--[-->LayerBase<!--]--></code> returns no phases. To add one or more phases into the
application, you need to override <code class=""><!--[-->GetPhases()<!--]--></code> method as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> SampleLayer</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> IEnumerable</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">IPhase</span><span style="--shiki-default:#E6E6E6">&gt; </span><span style="--shiki-default:#DCDCAA">GetPhases</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="5"><span style="--shiki-default:#C586C0">        yield</span><span style="--shiki-default:#C586C0"> return</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#4EC9B0"> DoA</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span style="--shiki-default:#C586C0">        yield</span><span style="--shiki-default:#C586C0"> return</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#4EC9B0"> DoB</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#569CD6">    public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> DoA</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6"> { ... }
</span></span><span class="line" line="10"><span style="--shiki-default:#569CD6">    public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> DoB</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6"> { ... }
</span></span><span class="line" line="11"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->Here <code class=""><!--[-->SampleLayer<!--]--></code> adds two phases, <code class=""><!--[-->DoA<!--]--></code> and <code class=""><!--[-->DoB<!--]--></code>, to the application.<!--]--></p><blockquote class="tip" data-v-cab260a3><i class="fa fa-lightbulb" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->By convention place the phase implementations as a nested class in the layer
it is added.<!--]--></p><!--]--></div></blockquote><h3 id="initializing-a-phase"><!--[-->Initializing a Phase<!--]--></h3><p><!--[--><code class=""><!--[-->PhaseBase<!--]--></code> class has <code class=""><!--[-->Initialize()<!--]--></code> method to override so that it can add an
object to the application context via <code class=""><!--[-->Context<!--]--></code> property. Base <code class=""><!--[-->Initialize()<!--]--></code>
method does not add any objects to the application. Below, you can see how
<code class=""><!--[-->CreateBuilder<!--]--></code> phase adds <code class=""><!--[-->WebApplicationBuilder<!--]--></code> to the context;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> CreateBuilder</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Initialize</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">        var</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#9CDCFE"> WebApplication</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateBuilder</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">build</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="tip" data-v-cab260a3><i class="fa fa-lightbulb" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->You can directly implement provided interface <code class=""><!--[-->IPhase<!--]--></code>, however we&#39;ve created
some base classes to make it easier for you to create phases. All examples
demonstrate usage of these base classes.<!--]--></p><!--]--></div></blockquote><h3 id="readiness-via-dependencies"><!--[-->Readiness via Dependencies<!--]--></h3><p><!--[-->You can define context dependencies via generic <code class=""><!--[-->PhaseBase&lt;&gt;<!--]--></code> classes to make
the phase wait until context is ready to provide that dependency. For example,
<code class=""><!--[-->Build<!--]--></code> depends on the <code class=""><!--[-->WebApplicationBuilder<!--]--></code> instance as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> Build</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">WebApplicationBuilder</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Initialize</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">WebApplicationBuilder</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">        var</span><span style="--shiki-default:#9CDCFE"> app</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Build</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">app</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[--><code class=""><!--[-->PhaseBase&lt;T&gt;<!--]--></code> class requires <code class=""><!--[-->Initialize(T t)<!--]--></code> method to be implemented.<!--]--></p><blockquote class="info" data-v-cab260a3><i class="fa fa-circle-info" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->You can provide more than one dependency for a phase. E.g., <code class=""><!--[-->Phase&lt;X, Y&gt;<!--]--></code>
will require <code class=""><!--[-->Initialize(X x, Y y)<!--]--></code> method to be implemented.<!--]--></p><!--]--></div></blockquote><blockquote class="warning" data-v-cab260a3><i class="fa fa-warning" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->Type of the dependency provided, must be exactly the same as the type of
dependency in <code class=""><!--[-->ApplicationContext<!--]--></code>. For more information
<a href="/architecture/application#running-an-application" class="" data-v-f8417185><!--[-->Running an Application<!--]--><!----></a><!--]--></p><!--]--></div></blockquote><h3 id="order-of-a-phase"><!--[-->Order of a Phase<!--]--></h3><p><!--[--><code class=""><!--[-->PhaseBase<!--]--></code> classes has <code class=""><!--[-->order<!--]--></code> parameter in their constructors. Default order
is <code class=""><!--[-->PhaseOrder.Normal<!--]--></code>. If you need to change the order, pass the desired order
to this parameter as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> DoThisEarlyOn</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">    : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">PhaseOrder</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#4EC9B0">Early</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">{ }
</span></span></code><!--]--></pre><!--]--><h2 id="providing-configuration"><!--[-->Providing Configuration<!--]--></h2><p><!--[-->Layers provide configuration objects phase by phase. This means a layer can
provide two different configuration objects for two different phases. For this
reason, a layer returns <code class=""><!--[-->PhaseContext<!--]--></code> instance per phase to which it provides
configuration.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> LayerXConfiguration</span><span style="--shiki-default:#9CDCFE"> _configuration</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="6"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->In this example, you see a layer named <code class=""><!--[-->LayerX<!--]--></code> providing a
<code class=""><!--[-->LayerXConfiguration<!--]--></code> instance during <code class=""><!--[-->AddServices<!--]--></code> phase.<!--]--></p><blockquote class="info" data-v-cab260a3><i class="fa fa-circle-info" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->By default, a layer returns <code class=""><!--[-->PhaseContext.Empty<!--]--></code> instance for the phases it
does not provide a configuration. This means <code class=""><!--[-->Application<!--]--></code> skips that layer
for the phases it doesn&#39;t have anything to configure.<!--]--></p><!--]--></div></blockquote><h3 id="using-non-generic-layerbase"><!--[-->Using non-generic <code class=""><!--[-->LayerBase<!--]--></code><!--]--></h3><p><!--[--><code class=""><!--[-->LayerBase&lt;&gt;<!--]--></code> classes allow up to three generic arguments. If you need to
implement a layer that has things to configure during more than three phases,
use non-generic <code class=""><!--[-->LayerBase<!--]--></code> class, override <code class=""><!--[-->GetContext(IPhase phase)<!--]--></code> method
and switch given phase according to its type;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> MyLayer</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">IPhase</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#C586C0"> switch
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">        {
</span></span><span class="line" line="6"><span style="--shiki-default:#4EC9B0">            PhaseA</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.),
</span></span><span class="line" line="7"><span style="--shiki-default:#4EC9B0">            PhaseB</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.),
</span></span><span class="line" line="8"><span style="--shiki-default:#569CD6">            _</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#569CD6"> base</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">phase</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">        };
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><h3 id="before-and-after-a-phase"><!--[-->Before and After a Phase<!--]--></h3><p><!--[-->Layers might need to do some standard stuff before and after a phase is applied
to all features for all layers. Use <code class=""><!--[-->GetContext()<!--]--></code> method to do stuff before,
and <code class=""><!--[-->onDispose:<!--]--></code> delegate to do stuff after.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> LayerXConfiguration</span><span style="--shiki-default:#9CDCFE"> _configuration</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="6"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="7"><span style="--shiki-default:#569CD6">        var</span><span style="--shiki-default:#9CDCFE"> services</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#9CDCFE"> Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Get</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">IServiceCollection</span><span style="--shiki-default:#E6E6E6">&gt;();
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#9CDCFE">        services</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddStandardStuffBefore</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration</span><span style="--shiki-default:#E6E6E6">,
</span></span><span class="line" line="12"><span style="--shiki-default:#9CDCFE">            onDispose</span><span style="--shiki-default:#E6E6E6">: () </span><span style="--shiki-default:#D4D4D4">=&gt;</span><span style="--shiki-default:#9CDCFE"> services</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddStandardStuffAfter</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">        );
</span></span><span class="line" line="14"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="15"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="info" data-v-cab260a3><i class="fa fa-circle-info" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->Notice that a layer has access to the <code class=""><!--[-->ApplicationContext<!--]--></code> instance through
<code class=""><!--[-->Context<!--]--></code> property provided in <code class=""><!--[-->LayerBase<!--]--></code> base class.<!--]--></p><!--]--></div></blockquote><blockquote class="warning" data-v-cab260a3><i class="fa fa-warning" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[--><code class=""><!--[-->GetContext()<!--]--></code> method is called for every layer before applying any of them
to features. And <code class=""><!--[-->onDispose:<!--]--></code> actions are called after applying these
contexts to all features.<!--]--></p><!--]--></div></blockquote><h3 id="providing-multiple-targets"><!--[-->Providing Multiple Targets<!--]--></h3><p><!--[-->It is possible to provide up to three configuration objects for the same phase.
There are two ways of providing multiple targets; at once or one by one.<!--]--></p><h4 id="at-once"><!--[-->At Once<!--]--></h4><p><!--[-->Below code demonstrates providing two configuration objects at once;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration1</span><span style="--shiki-default:#9CDCFE"> _configuration1</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration2</span><span style="--shiki-default:#9CDCFE"> _configuration2</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration1</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#9CDCFE">_configuration2</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->This phase context will require an action with two parameter in a feature;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="2"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Configure</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">LayerConfigurator</span><span style="--shiki-default:#9CDCFE"> configurator</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">    configurator</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Configure</span><span style="--shiki-default:#E6E6E6">((</span><span style="--shiki-default:#4EC9B0">Configuration1</span><span style="--shiki-default:#9CDCFE"> configuration1</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#4EC9B0">Configuration2</span><span style="--shiki-default:#9CDCFE"> configuration2</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="6"><span style="--shiki-default:#6A9955">        // use both objects to configure
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">    });
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">}
</span></span><span class="line" line="9"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span></code><!--]--></pre><!--]--><p><!--[-->See <a href="/architecture/feature" class="" data-v-f8417185><!--[-->Feature<!--]--><!----></a> for more information on using layer configurators
for features.<!--]--></p><h4 id="one-by-one"><!--[-->One by One<!--]--></h4><p><!--[-->Below code demonstrates providing configuration objects one by one;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration1</span><span style="--shiki-default:#9CDCFE"> _configuration1</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration2</span><span style="--shiki-default:#9CDCFE"> _configuration2</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContextBuilder</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration1</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration2</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Build</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="11"><span style="--shiki-default:#E6E6E6">        ;
</span></span><span class="line" line="12"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->This phase context will require two different actions in a feature;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="2"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Configure</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">LayerConfigurator</span><span style="--shiki-default:#9CDCFE"> configurator</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">    configurator</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Configure</span><span style="--shiki-default:#E6E6E6">((</span><span style="--shiki-default:#4EC9B0">Configuration1</span><span style="--shiki-default:#9CDCFE"> configuration1</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="6"><span style="--shiki-default:#6A9955">        // configure one by one
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">    });
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#9CDCFE">    configurator</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Configure</span><span style="--shiki-default:#E6E6E6">((</span><span style="--shiki-default:#4EC9B0">Configuration2</span><span style="--shiki-default:#9CDCFE"> configuration2</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="11"><span style="--shiki-default:#6A9955">        // configure one by one
</span></span><span class="line" line="12"><span style="--shiki-default:#E6E6E6">    });
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">}
</span></span><span class="line" line="14"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span></code><!--]--></pre><!--]--><blockquote class="tip" data-v-cab260a3><i class="fa fa-lightbulb" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[--><code class=""><!--[-->phase.CreateContext()<!--]--></code> is a helper method that utilizes
<code class=""><!--[-->phase.CreateContextBuilder()<!--]--></code> behind the scenes.<!--]--></p><!--]--></div></blockquote><h4 id="using-in-combination"><!--[-->Using in Combination<!--]--></h4><p><!--[-->You may combine these two ways to provide configuration;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration1</span><span style="--shiki-default:#9CDCFE"> _configuration1</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration2</span><span style="--shiki-default:#9CDCFE"> _configuration2</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration3</span><span style="--shiki-default:#9CDCFE"> _configuration3</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="8"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContextBuilder</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration1</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#9CDCFE">_configuration2</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration3</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="11"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Build</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="12"><span style="--shiki-default:#E6E6E6">        ;
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->This phase context will require two different actions;<!--]--></p><ol><!--[--><li><!--[-->For the first two configuration objects: <code class=""><!--[-->(Configuration1 configuration1, Configuration2 configuration2)<!--]--></code><!--]--></li><li><!--[-->For the last configuration object: <code class=""><!--[-->(Configuration3 configuration3)<!--]--></code>.<!--]--></li><!--]--></ol><style>html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></div><div class="navigation-buttons-container" data-v-b90ae7fa data-v-6a000fc9><div class="button left" data-v-6a000fc9><a href="/architecture/application" class="" data-v-6a000fc9><div class="link-text" data-v-6a000fc9><i class="fa-solid fa-caret-left" data-v-6a000fc9></i> Previous <h3 data-v-6a000fc9>Application</h3></div></a></div><div class="button right" data-v-6a000fc9><a href="/architecture/feature" class="" data-v-6a000fc9><div class="link-text" data-v-6a000fc9> Next <i class="fa-solid fa-caret-right" data-v-6a000fc9></i><h3 data-v-6a000fc9>Feature</h3></div></a></div></div></div><nav data-v-b90ae7fa data-v-4f8affad><h4 data-v-4f8affad><a data-v-4f8affad>On This Page</a></h4><ul class="" data-v-4f8affad><!--[--><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#conventions" class="router-link-active router-link-exact-active" data-v-4f8affad>Conventions</a><ul data-v-4f8affad><!--[--><!--]--></ul></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#creating-a-layer" class="router-link-active router-link-exact-active" data-v-4f8affad>Creating A Layer</a><ul data-v-4f8affad><!--[--><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#id-of-a-layer" class="router-link-active router-link-exact-active" data-v-4f8affad>Id of a Layer</a></li><!--]--></ul></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#adding-phases" class="router-link-active router-link-exact-active" data-v-4f8affad>Adding Phases</a><ul data-v-4f8affad><!--[--><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#initializing-a-phase" class="router-link-active router-link-exact-active" data-v-4f8affad>Initializing a Phase</a></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#readiness-via-dependencies" class="router-link-active router-link-exact-active" data-v-4f8affad>Readiness via Dependencies</a></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#order-of-a-phase" class="router-link-active router-link-exact-active" data-v-4f8affad>Order of a Phase</a></li><!--]--></ul></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#providing-configuration" class="router-link-active router-link-exact-active" data-v-4f8affad>Providing Configuration</a><ul data-v-4f8affad><!--[--><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#using-non-generic-layerbase" class="router-link-active router-link-exact-active" data-v-4f8affad>Using non-generic LayerBase</a></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#before-and-after-a-phase" class="router-link-active router-link-exact-active" data-v-4f8affad>Before and After a Phase</a></li><li data-v-4f8affad><a aria-current="page" href="/architecture/layer#providing-multiple-targets" class="router-link-active router-link-exact-active" data-v-4f8affad>Providing Multiple Targets</a></li><!--]--></ul></li><!--]--><li data-v-4f8affad><a class="return-to-top" href="#" data-v-4f8affad>Return to top</a></li></ul></nav></div><!--]--><!--]--></article></div><div class="bottom" data-v-5e897649 data-v-82c0088f><footer data-v-82c0088f><div class="logo" data-v-82c0088f><a href="/" class="" data-v-82c0088f><img class="do logo mono" data-v-82c0088f></a><span data-v-82c0088f>Copyright (c) 2024 Mouseless - MIT License</span></div><nav data-v-82c0088f><!--[--><a href="/blueprints/" class="" data-v-82c0088f>Blueprints</a><a href="/features/" class="" data-v-82c0088f>Features</a><a href="/layers/" class="" data-v-82c0088f>Layers</a><a href="/architecture/" class="" data-v-82c0088f>Architecture</a><a href="/release-notes/" class="" data-v-82c0088f>Release Notes</a><!--]--><a href="https://github.com/mouseless/do" rel="noopener noreferrer" target="_blank" data-v-82c0088f><i class="fa-brands fa-github" data-v-82c0088f></i> /mouseless/do</a></nav></footer></div></div></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true">[["Reactive",1],{"data":2,"state":3483,"_errors":3484,"serverRendered":696,"path":4,"prerenderedAt":3486,"pinia":3487},{"content-query-hBLt6OxXWy":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"body":10,"_type":3478,"_id":3479,"_source":3480,"_file":3481,"_extension":3482},"/architecture/layer","architecture",false,"","Layer","Each ILayer implementation represents an internal system component of the\nsoftware you develop. A layer provides application features with configuration\nof this system component so that the features can bind domain objects and\nsystem components together.",{"type":11,"children":12,"toc":3460},"root",[13,21,35,47,82,89,94,240,255,261,273,344,364,376,416,421,515,521,539,767,793,805,811,854,1012,1029,1035,1059,1234,1251,1277,1302,1308,1331,1400,1406,1418,1586,1610,1635,1645,1668,1893,1899,1918,2210,2240,2262,2268,2273,2280,2285,2482,2487,2640,2653,2659,2664,2910,2915,3109,3133,3139,3144,3425,3430,3454],{"type":14,"tag":15,"props":16,"children":18},"element","h1",{"id":17},"layer",[19],{"type":20,"value":8},"text",{"type":14,"tag":22,"props":23,"children":24},"p",{},[25,27,33],{"type":20,"value":26},"Each ",{"type":14,"tag":28,"props":29,"children":30},"code",{"className":7},[31],{"type":20,"value":32},"ILayer",{"type":20,"value":34}," implementation represents an internal system component of the\nsoftware you develop. A layer provides application features with configuration\nof this system component so that the features can bind domain objects and\nsystem components together.",{"type":14,"tag":22,"props":36,"children":37},{},[38,40,45],{"type":20,"value":39},"Let's take relational database as an example. A relational database is treated\nas an internal system component and is introduced by the ",{"type":14,"tag":28,"props":41,"children":42},{"className":7},[43],{"type":20,"value":44},"DataAccessLayer",{"type":20,"value":46}," along\nwith a configuration API. This API enables a feature to map your domain entities\nto database tables.",{"type":14,"tag":22,"props":48,"children":49},{},[50,52,57,59,66,68,73,75,80],{"type":20,"value":51},"Another good example is the ",{"type":14,"tag":28,"props":53,"children":54},{"className":7},[55],{"type":20,"value":56},"HttpServerLayer",{"type":20,"value":58},". This layer introduces the ASP.NET\nCore framework into your application. It provides three phases, as mentioned in\n",{"type":14,"tag":60,"props":61,"children":63},"a",{"href":62},"./application",[64],{"type":20,"value":65},"Application",{"type":20,"value":67},", along with ",{"type":14,"tag":28,"props":69,"children":70},{"className":7},[71],{"type":20,"value":72},"IMiddlewareCollection",{"type":20,"value":74}," and\n",{"type":14,"tag":28,"props":76,"children":77},{"className":7},[78],{"type":20,"value":79},"IEndpointRouteBuilder",{"type":20,"value":81}," objects as its configuration API. This way, any feature\nhas the ability to use a middleware or add routes to the application.",{"type":14,"tag":83,"props":84,"children":86},"h2",{"id":85},"conventions",[87],{"type":20,"value":88},"Conventions",{"type":14,"tag":22,"props":90,"children":91},{},[92],{"type":20,"value":93},"For a consistent developer experience, follow below conventions when\nimplementing a new layer;",{"type":14,"tag":95,"props":96,"children":97},"ol",{},[98,109,125,219,224],{"type":14,"tag":99,"props":100,"children":101},"li",{},[102,104],{"type":20,"value":103},"Place all layer related classes under the same folder named after layer,\ne.g., ",{"type":14,"tag":28,"props":105,"children":106},{"className":7},[107],{"type":20,"value":108},"DependencyInjection/",{"type":14,"tag":99,"props":110,"children":111},{},[112,114,118,120],{"type":20,"value":113},"Use ",{"type":14,"tag":28,"props":115,"children":116},{"className":7},[117],{"type":20,"value":8},{"type":20,"value":119}," suffix in layer class name, e.g.,\n",{"type":14,"tag":28,"props":121,"children":122},{"className":7},[123],{"type":20,"value":124},"DependencyInjection/DependencyInjectionLayer.cs",{"type":14,"tag":99,"props":126,"children":127},{},[128,130,135,137,142,144],{"type":20,"value":129},"Provide extension methods in ",{"type":14,"tag":28,"props":131,"children":132},{"className":7},[133],{"type":20,"value":134},"Do",{"type":20,"value":136}," namespace, e.g.,\n",{"type":14,"tag":28,"props":138,"children":139},{"className":7},[140],{"type":20,"value":141},"DependencyInjection/DependencyInjectionExtensions.cs",{"type":20,"value":143},";\n",{"type":14,"tag":95,"props":145,"children":146},{},[147,169,198],{"type":14,"tag":99,"props":148,"children":149},{},[150,155,157,162,164],{"type":14,"tag":28,"props":151,"children":152},{"className":7},[153],{"type":20,"value":154},"Add",{"type":20,"value":156}," extension to ",{"type":14,"tag":28,"props":158,"children":159},{"className":7},[160],{"type":20,"value":161},"List\u003CILayer>",{"type":20,"value":163},", e.g., ",{"type":14,"tag":28,"props":165,"children":166},{"className":7},[167],{"type":20,"value":168},"AddDependencyInjection()",{"type":14,"tag":99,"props":170,"children":171},{},[172,177,179,184,186,191,193],{"type":14,"tag":28,"props":173,"children":174},{"className":7},[175],{"type":20,"value":176},"Get",{"type":20,"value":178}," extensions to ",{"type":14,"tag":28,"props":180,"children":181},{"className":7},[182],{"type":20,"value":183},"ApplicationContext",{"type":20,"value":185},", e.g.,\n",{"type":14,"tag":28,"props":187,"children":188},{"className":7},[189],{"type":20,"value":190},"GetWebApplicationBuilder()",{"type":20,"value":192},", ",{"type":14,"tag":28,"props":194,"children":195},{"className":7},[196],{"type":20,"value":197},"GetWebApplication()",{"type":14,"tag":99,"props":199,"children":200},{},[201,206,207,212,214],{"type":14,"tag":28,"props":202,"children":203},{"className":7},[204],{"type":20,"value":205},"Configure",{"type":20,"value":178},{"type":14,"tag":28,"props":208,"children":209},{"className":7},[210],{"type":20,"value":211},"LayerConfigurator",{"type":20,"value":213}," per configuration\ntarget(s), e.g., ",{"type":14,"tag":28,"props":215,"children":216},{"className":7},[217],{"type":20,"value":218},"ConfigureServiceCollection()",{"type":14,"tag":99,"props":220,"children":221},{},[222],{"type":20,"value":223},"Place phase implementations as nested classes under the layer class",{"type":14,"tag":99,"props":225,"children":226},{},[227,229,234,235],{"type":20,"value":228},"Don't use any suffix for phases and use method-like names, e.g., ",{"type":14,"tag":28,"props":230,"children":231},{"className":7},[232],{"type":20,"value":233},"Build",{"type":20,"value":74},{"type":14,"tag":28,"props":236,"children":237},{"className":7},[238],{"type":20,"value":239},"Run",{"type":14,"tag":22,"props":241,"children":242},{},[243,245,253],{"type":20,"value":244},"Please refer to existing layers in ",{"type":14,"tag":60,"props":246,"children":250},{"href":247,"rel":248},"https://github.com/mouseless/do",[249],"nofollow",[251],{"type":20,"value":252},"github.com/mouseless/do",{"type":20,"value":254}," for examples.",{"type":14,"tag":83,"props":256,"children":258},{"id":257},"creating-a-layer",[259],{"type":20,"value":260},"Creating A Layer",{"type":14,"tag":22,"props":262,"children":263},{},[264,266,271],{"type":20,"value":265},"To create a layer, create a class using above conventions and extend\n",{"type":14,"tag":28,"props":267,"children":268},{"className":7},[269],{"type":20,"value":270},"LayerBase",{"type":20,"value":272},".",{"type":14,"tag":274,"props":275,"children":279},"pre",{"className":276,"code":277,"language":278,"meta":7,"style":7},"language-csharp shiki shiki-themes slack-dark","public class LayerX : LayerBase\n{\n    ...\n}\n","csharp",[280],{"type":14,"tag":28,"props":281,"children":282},{"__ignoreMap":7},[283,317,326,335],{"type":14,"tag":284,"props":285,"children":288},"span",{"class":286,"line":287},"line",1,[289,295,300,306,312],{"type":14,"tag":284,"props":290,"children":292},{"style":291},"--shiki-default:#569CD6",[293],{"type":20,"value":294},"public",{"type":14,"tag":284,"props":296,"children":297},{"style":291},[298],{"type":20,"value":299}," class",{"type":14,"tag":284,"props":301,"children":303},{"style":302},"--shiki-default:#4EC9B0",[304],{"type":20,"value":305}," LayerX",{"type":14,"tag":284,"props":307,"children":309},{"style":308},"--shiki-default:#E6E6E6",[310],{"type":20,"value":311}," : ",{"type":14,"tag":284,"props":313,"children":314},{"style":302},[315],{"type":20,"value":316},"LayerBase\n",{"type":14,"tag":284,"props":318,"children":320},{"class":286,"line":319},2,[321],{"type":14,"tag":284,"props":322,"children":323},{"style":308},[324],{"type":20,"value":325},"{\n",{"type":14,"tag":284,"props":327,"children":329},{"class":286,"line":328},3,[330],{"type":14,"tag":284,"props":331,"children":332},{"style":308},[333],{"type":20,"value":334},"    ...\n",{"type":14,"tag":284,"props":336,"children":338},{"class":286,"line":337},4,[339],{"type":14,"tag":284,"props":340,"children":341},{"style":308},[342],{"type":20,"value":343},"}\n",{"type":14,"tag":345,"props":346,"children":347},"blockquote",{},[348,353],{"type":14,"tag":22,"props":349,"children":350},{},[351],{"type":20,"value":352},":bulb:",{"type":14,"tag":22,"props":354,"children":355},{},[356,358,362],{"type":20,"value":357},"You can directly implement provided interface ",{"type":14,"tag":28,"props":359,"children":360},{"className":7},[361],{"type":20,"value":32},{"type":20,"value":363},", however we've created\nsome base classes to make it easier for you to create layers. All examples\ndemonstrate usage of these base classes.",{"type":14,"tag":365,"props":366,"children":368},"h3",{"id":367},"id-of-a-layer",[369,374],{"type":14,"tag":28,"props":370,"children":371},{"className":7},[372],{"type":20,"value":373},"Id",{"type":20,"value":375}," of a Layer",{"type":14,"tag":22,"props":377,"children":378},{},[379,383,385,389,391,395,397,401,403,407,409,414],{"type":14,"tag":28,"props":380,"children":381},{"className":7},[382],{"type":20,"value":32},{"type":20,"value":384}," has an ",{"type":14,"tag":28,"props":386,"children":387},{"className":7},[388],{"type":20,"value":373},{"type":20,"value":390}," property which should be a unique per ",{"type":14,"tag":28,"props":392,"children":393},{"className":7},[394],{"type":20,"value":65},{"type":20,"value":396},"\ninstance. ",{"type":14,"tag":28,"props":398,"children":399},{"className":7},[400],{"type":20,"value":270},{"type":20,"value":402}," sets the ",{"type":14,"tag":28,"props":404,"children":405},{"className":7},[406],{"type":20,"value":373},{"type":20,"value":408}," as name of the concrete class e.g.,\n",{"type":14,"tag":28,"props":410,"children":411},{"className":7},[412],{"type":20,"value":413},"LayerX",{"type":20,"value":415}," at above example.",{"type":14,"tag":22,"props":417,"children":418},{},[419],{"type":20,"value":420},"You can override its value in layer implementation class as shown below;",{"type":14,"tag":274,"props":422,"children":424},{"className":276,"code":423,"language":278,"meta":7,"style":7},"public class LayerX : LayerBase\n{\n    protected override string Id => \"CustomUniqueId\"\n    ...\n}\n",[425],{"type":14,"tag":28,"props":426,"children":427},{"__ignoreMap":7},[428,451,458,494,507],{"type":14,"tag":284,"props":429,"children":430},{"class":286,"line":287},[431,435,439,443,447],{"type":14,"tag":284,"props":432,"children":433},{"style":291},[434],{"type":20,"value":294},{"type":14,"tag":284,"props":436,"children":437},{"style":291},[438],{"type":20,"value":299},{"type":14,"tag":284,"props":440,"children":441},{"style":302},[442],{"type":20,"value":305},{"type":14,"tag":284,"props":444,"children":445},{"style":308},[446],{"type":20,"value":311},{"type":14,"tag":284,"props":448,"children":449},{"style":302},[450],{"type":20,"value":316},{"type":14,"tag":284,"props":452,"children":453},{"class":286,"line":319},[454],{"type":14,"tag":284,"props":455,"children":456},{"style":308},[457],{"type":20,"value":325},{"type":14,"tag":284,"props":459,"children":460},{"class":286,"line":328},[461,466,471,476,482,488],{"type":14,"tag":284,"props":462,"children":463},{"style":291},[464],{"type":20,"value":465},"    protected",{"type":14,"tag":284,"props":467,"children":468},{"style":291},[469],{"type":20,"value":470}," override",{"type":14,"tag":284,"props":472,"children":473},{"style":291},[474],{"type":20,"value":475}," string",{"type":14,"tag":284,"props":477,"children":479},{"style":478},"--shiki-default:#9CDCFE",[480],{"type":20,"value":481}," Id",{"type":14,"tag":284,"props":483,"children":485},{"style":484},"--shiki-default:#D4D4D4",[486],{"type":20,"value":487}," =>",{"type":14,"tag":284,"props":489,"children":491},{"style":490},"--shiki-default:#CE9178",[492],{"type":20,"value":493}," \"CustomUniqueId\"\n",{"type":14,"tag":284,"props":495,"children":496},{"class":286,"line":337},[497,502],{"type":14,"tag":284,"props":498,"children":499},{"style":484},[500],{"type":20,"value":501},"    ..",{"type":14,"tag":284,"props":503,"children":504},{"style":308},[505],{"type":20,"value":506},".\n",{"type":14,"tag":284,"props":508,"children":510},{"class":286,"line":509},5,[511],{"type":14,"tag":284,"props":512,"children":513},{"style":308},[514],{"type":20,"value":343},{"type":14,"tag":83,"props":516,"children":518},{"id":517},"adding-phases",[519],{"type":20,"value":520},"Adding Phases",{"type":14,"tag":22,"props":522,"children":523},{},[524,526,530,532,537],{"type":20,"value":525},"By default ",{"type":14,"tag":28,"props":527,"children":528},{"className":7},[529],{"type":20,"value":270},{"type":20,"value":531}," returns no phases. To add one or more phases into the\napplication, you need to override ",{"type":14,"tag":28,"props":533,"children":534},{"className":7},[535],{"type":20,"value":536},"GetPhases()",{"type":20,"value":538}," method as shown below;",{"type":14,"tag":274,"props":540,"children":542},{"className":276,"code":541,"language":278,"meta":7,"style":7},"public class SampleLayer : LayerBase\n{\n    protected override IEnumerable\u003CIPhase> GetPhases()\n    {\n        yield return new DoA();\n        yield return new DoB();\n    }\n\n    public class DoA : PhaseBase { ... }\n    public class DoB : PhaseBase { ... }\n}\n",[543],{"type":14,"tag":28,"props":544,"children":545},{"__ignoreMap":7},[546,570,577,619,627,656,681,690,700,731,759],{"type":14,"tag":284,"props":547,"children":548},{"class":286,"line":287},[549,553,557,562,566],{"type":14,"tag":284,"props":550,"children":551},{"style":291},[552],{"type":20,"value":294},{"type":14,"tag":284,"props":554,"children":555},{"style":291},[556],{"type":20,"value":299},{"type":14,"tag":284,"props":558,"children":559},{"style":302},[560],{"type":20,"value":561}," SampleLayer",{"type":14,"tag":284,"props":563,"children":564},{"style":308},[565],{"type":20,"value":311},{"type":14,"tag":284,"props":567,"children":568},{"style":302},[569],{"type":20,"value":316},{"type":14,"tag":284,"props":571,"children":572},{"class":286,"line":319},[573],{"type":14,"tag":284,"props":574,"children":575},{"style":308},[576],{"type":20,"value":325},{"type":14,"tag":284,"props":578,"children":579},{"class":286,"line":328},[580,584,588,593,598,603,608,614],{"type":14,"tag":284,"props":581,"children":582},{"style":291},[583],{"type":20,"value":465},{"type":14,"tag":284,"props":585,"children":586},{"style":291},[587],{"type":20,"value":470},{"type":14,"tag":284,"props":589,"children":590},{"style":302},[591],{"type":20,"value":592}," IEnumerable",{"type":14,"tag":284,"props":594,"children":595},{"style":308},[596],{"type":20,"value":597},"\u003C",{"type":14,"tag":284,"props":599,"children":600},{"style":302},[601],{"type":20,"value":602},"IPhase",{"type":14,"tag":284,"props":604,"children":605},{"style":308},[606],{"type":20,"value":607},"> ",{"type":14,"tag":284,"props":609,"children":611},{"style":610},"--shiki-default:#DCDCAA",[612],{"type":20,"value":613},"GetPhases",{"type":14,"tag":284,"props":615,"children":616},{"style":308},[617],{"type":20,"value":618},"()\n",{"type":14,"tag":284,"props":620,"children":621},{"class":286,"line":337},[622],{"type":14,"tag":284,"props":623,"children":624},{"style":308},[625],{"type":20,"value":626},"    {\n",{"type":14,"tag":284,"props":628,"children":629},{"class":286,"line":509},[630,636,641,646,651],{"type":14,"tag":284,"props":631,"children":633},{"style":632},"--shiki-default:#C586C0",[634],{"type":20,"value":635},"        yield",{"type":14,"tag":284,"props":637,"children":638},{"style":632},[639],{"type":20,"value":640}," return",{"type":14,"tag":284,"props":642,"children":643},{"style":291},[644],{"type":20,"value":645}," new",{"type":14,"tag":284,"props":647,"children":648},{"style":302},[649],{"type":20,"value":650}," DoA",{"type":14,"tag":284,"props":652,"children":653},{"style":308},[654],{"type":20,"value":655},"();\n",{"type":14,"tag":284,"props":657,"children":659},{"class":286,"line":658},6,[660,664,668,672,677],{"type":14,"tag":284,"props":661,"children":662},{"style":632},[663],{"type":20,"value":635},{"type":14,"tag":284,"props":665,"children":666},{"style":632},[667],{"type":20,"value":640},{"type":14,"tag":284,"props":669,"children":670},{"style":291},[671],{"type":20,"value":645},{"type":14,"tag":284,"props":673,"children":674},{"style":302},[675],{"type":20,"value":676}," DoB",{"type":14,"tag":284,"props":678,"children":679},{"style":308},[680],{"type":20,"value":655},{"type":14,"tag":284,"props":682,"children":684},{"class":286,"line":683},7,[685],{"type":14,"tag":284,"props":686,"children":687},{"style":308},[688],{"type":20,"value":689},"    }\n",{"type":14,"tag":284,"props":691,"children":693},{"class":286,"line":692},8,[694],{"type":14,"tag":284,"props":695,"children":697},{"emptyLinePlaceholder":696},true,[698],{"type":20,"value":699},"\n",{"type":14,"tag":284,"props":701,"children":703},{"class":286,"line":702},9,[704,709,713,717,721,726],{"type":14,"tag":284,"props":705,"children":706},{"style":291},[707],{"type":20,"value":708},"    public",{"type":14,"tag":284,"props":710,"children":711},{"style":291},[712],{"type":20,"value":299},{"type":14,"tag":284,"props":714,"children":715},{"style":302},[716],{"type":20,"value":650},{"type":14,"tag":284,"props":718,"children":719},{"style":308},[720],{"type":20,"value":311},{"type":14,"tag":284,"props":722,"children":723},{"style":302},[724],{"type":20,"value":725},"PhaseBase",{"type":14,"tag":284,"props":727,"children":728},{"style":308},[729],{"type":20,"value":730}," { ... }\n",{"type":14,"tag":284,"props":732,"children":734},{"class":286,"line":733},10,[735,739,743,747,751,755],{"type":14,"tag":284,"props":736,"children":737},{"style":291},[738],{"type":20,"value":708},{"type":14,"tag":284,"props":740,"children":741},{"style":291},[742],{"type":20,"value":299},{"type":14,"tag":284,"props":744,"children":745},{"style":302},[746],{"type":20,"value":676},{"type":14,"tag":284,"props":748,"children":749},{"style":308},[750],{"type":20,"value":311},{"type":14,"tag":284,"props":752,"children":753},{"style":302},[754],{"type":20,"value":725},{"type":14,"tag":284,"props":756,"children":757},{"style":308},[758],{"type":20,"value":730},{"type":14,"tag":284,"props":760,"children":762},{"class":286,"line":761},11,[763],{"type":14,"tag":284,"props":764,"children":765},{"style":308},[766],{"type":20,"value":343},{"type":14,"tag":22,"props":768,"children":769},{},[770,772,777,779,784,786,791],{"type":20,"value":771},"Here ",{"type":14,"tag":28,"props":773,"children":774},{"className":7},[775],{"type":20,"value":776},"SampleLayer",{"type":20,"value":778}," adds two phases, ",{"type":14,"tag":28,"props":780,"children":781},{"className":7},[782],{"type":20,"value":783},"DoA",{"type":20,"value":785}," and ",{"type":14,"tag":28,"props":787,"children":788},{"className":7},[789],{"type":20,"value":790},"DoB",{"type":20,"value":792},", to the application.",{"type":14,"tag":345,"props":794,"children":795},{},[796,800],{"type":14,"tag":22,"props":797,"children":798},{},[799],{"type":20,"value":352},{"type":14,"tag":22,"props":801,"children":802},{},[803],{"type":20,"value":804},"By convention place the phase implementations as a nested class in the layer\nit is added.",{"type":14,"tag":365,"props":806,"children":808},{"id":807},"initializing-a-phase",[809],{"type":20,"value":810},"Initializing a Phase",{"type":14,"tag":22,"props":812,"children":813},{},[814,818,820,825,827,832,834,838,840,845,847,852],{"type":14,"tag":28,"props":815,"children":816},{"className":7},[817],{"type":20,"value":725},{"type":20,"value":819}," class has ",{"type":14,"tag":28,"props":821,"children":822},{"className":7},[823],{"type":20,"value":824},"Initialize()",{"type":20,"value":826}," method to override so that it can add an\nobject to the application context via ",{"type":14,"tag":28,"props":828,"children":829},{"className":7},[830],{"type":20,"value":831},"Context",{"type":20,"value":833}," property. Base ",{"type":14,"tag":28,"props":835,"children":836},{"className":7},[837],{"type":20,"value":824},{"type":20,"value":839},"\nmethod does not add any objects to the application. Below, you can see how\n",{"type":14,"tag":28,"props":841,"children":842},{"className":7},[843],{"type":20,"value":844},"CreateBuilder",{"type":20,"value":846}," phase adds ",{"type":14,"tag":28,"props":848,"children":849},{"className":7},[850],{"type":20,"value":851},"WebApplicationBuilder",{"type":20,"value":853}," to the context;",{"type":14,"tag":274,"props":855,"children":857},{"className":276,"code":856,"language":278,"meta":7,"style":7},"public class CreateBuilder : PhaseBase\n{\n    protected override void Initialize()\n    {\n        var build = WebApplication.CreateBuilder();\n\n        Context.Add(build);\n    }\n}\n",[858],{"type":14,"tag":28,"props":859,"children":860},{"__ignoreMap":7},[861,886,893,918,925,960,967,998,1005],{"type":14,"tag":284,"props":862,"children":863},{"class":286,"line":287},[864,868,872,877,881],{"type":14,"tag":284,"props":865,"children":866},{"style":291},[867],{"type":20,"value":294},{"type":14,"tag":284,"props":869,"children":870},{"style":291},[871],{"type":20,"value":299},{"type":14,"tag":284,"props":873,"children":874},{"style":302},[875],{"type":20,"value":876}," CreateBuilder",{"type":14,"tag":284,"props":878,"children":879},{"style":308},[880],{"type":20,"value":311},{"type":14,"tag":284,"props":882,"children":883},{"style":302},[884],{"type":20,"value":885},"PhaseBase\n",{"type":14,"tag":284,"props":887,"children":888},{"class":286,"line":319},[889],{"type":14,"tag":284,"props":890,"children":891},{"style":308},[892],{"type":20,"value":325},{"type":14,"tag":284,"props":894,"children":895},{"class":286,"line":328},[896,900,904,909,914],{"type":14,"tag":284,"props":897,"children":898},{"style":291},[899],{"type":20,"value":465},{"type":14,"tag":284,"props":901,"children":902},{"style":291},[903],{"type":20,"value":470},{"type":14,"tag":284,"props":905,"children":906},{"style":291},[907],{"type":20,"value":908}," void",{"type":14,"tag":284,"props":910,"children":911},{"style":610},[912],{"type":20,"value":913}," Initialize",{"type":14,"tag":284,"props":915,"children":916},{"style":308},[917],{"type":20,"value":618},{"type":14,"tag":284,"props":919,"children":920},{"class":286,"line":337},[921],{"type":14,"tag":284,"props":922,"children":923},{"style":308},[924],{"type":20,"value":626},{"type":14,"tag":284,"props":926,"children":927},{"class":286,"line":509},[928,933,938,943,948,952,956],{"type":14,"tag":284,"props":929,"children":930},{"style":291},[931],{"type":20,"value":932},"        var",{"type":14,"tag":284,"props":934,"children":935},{"style":478},[936],{"type":20,"value":937}," build",{"type":14,"tag":284,"props":939,"children":940},{"style":484},[941],{"type":20,"value":942}," =",{"type":14,"tag":284,"props":944,"children":945},{"style":478},[946],{"type":20,"value":947}," WebApplication",{"type":14,"tag":284,"props":949,"children":950},{"style":308},[951],{"type":20,"value":272},{"type":14,"tag":284,"props":953,"children":954},{"style":610},[955],{"type":20,"value":844},{"type":14,"tag":284,"props":957,"children":958},{"style":308},[959],{"type":20,"value":655},{"type":14,"tag":284,"props":961,"children":962},{"class":286,"line":658},[963],{"type":14,"tag":284,"props":964,"children":965},{"emptyLinePlaceholder":696},[966],{"type":20,"value":699},{"type":14,"tag":284,"props":968,"children":969},{"class":286,"line":683},[970,975,979,983,988,993],{"type":14,"tag":284,"props":971,"children":972},{"style":478},[973],{"type":20,"value":974},"        Context",{"type":14,"tag":284,"props":976,"children":977},{"style":308},[978],{"type":20,"value":272},{"type":14,"tag":284,"props":980,"children":981},{"style":610},[982],{"type":20,"value":154},{"type":14,"tag":284,"props":984,"children":985},{"style":308},[986],{"type":20,"value":987},"(",{"type":14,"tag":284,"props":989,"children":990},{"style":478},[991],{"type":20,"value":992},"build",{"type":14,"tag":284,"props":994,"children":995},{"style":308},[996],{"type":20,"value":997},");\n",{"type":14,"tag":284,"props":999,"children":1000},{"class":286,"line":692},[1001],{"type":14,"tag":284,"props":1002,"children":1003},{"style":308},[1004],{"type":20,"value":689},{"type":14,"tag":284,"props":1006,"children":1007},{"class":286,"line":702},[1008],{"type":14,"tag":284,"props":1009,"children":1010},{"style":308},[1011],{"type":20,"value":343},{"type":14,"tag":345,"props":1013,"children":1014},{},[1015,1019],{"type":14,"tag":22,"props":1016,"children":1017},{},[1018],{"type":20,"value":352},{"type":14,"tag":22,"props":1020,"children":1021},{},[1022,1023,1027],{"type":20,"value":357},{"type":14,"tag":28,"props":1024,"children":1025},{"className":7},[1026],{"type":20,"value":602},{"type":20,"value":1028},", however we've created\nsome base classes to make it easier for you to create phases. All examples\ndemonstrate usage of these base classes.",{"type":14,"tag":365,"props":1030,"children":1032},{"id":1031},"readiness-via-dependencies",[1033],{"type":20,"value":1034},"Readiness via Dependencies",{"type":14,"tag":22,"props":1036,"children":1037},{},[1038,1040,1045,1047,1051,1053,1057],{"type":20,"value":1039},"You can define context dependencies via generic ",{"type":14,"tag":28,"props":1041,"children":1042},{"className":7},[1043],{"type":20,"value":1044},"PhaseBase\u003C>",{"type":20,"value":1046}," classes to make\nthe phase wait until context is ready to provide that dependency. For example,\n",{"type":14,"tag":28,"props":1048,"children":1049},{"className":7},[1050],{"type":20,"value":233},{"type":20,"value":1052}," depends on the ",{"type":14,"tag":28,"props":1054,"children":1055},{"className":7},[1056],{"type":20,"value":851},{"type":20,"value":1058}," instance as shown below;",{"type":14,"tag":274,"props":1060,"children":1062},{"className":276,"code":1061,"language":278,"meta":7,"style":7},"public class Build : PhaseBase\u003CWebApplicationBuilder>\n{\n    protected override void Initialize(WebApplicationBuilder build)\n    {\n        var app = build.Build();\n\n        Context.Add(app);\n    }\n}\n",[1063],{"type":14,"tag":28,"props":1064,"children":1065},{"__ignoreMap":7},[1066,1103,1110,1146,1153,1185,1192,1220,1227],{"type":14,"tag":284,"props":1067,"children":1068},{"class":286,"line":287},[1069,1073,1077,1082,1086,1090,1094,1098],{"type":14,"tag":284,"props":1070,"children":1071},{"style":291},[1072],{"type":20,"value":294},{"type":14,"tag":284,"props":1074,"children":1075},{"style":291},[1076],{"type":20,"value":299},{"type":14,"tag":284,"props":1078,"children":1079},{"style":302},[1080],{"type":20,"value":1081}," Build",{"type":14,"tag":284,"props":1083,"children":1084},{"style":308},[1085],{"type":20,"value":311},{"type":14,"tag":284,"props":1087,"children":1088},{"style":302},[1089],{"type":20,"value":725},{"type":14,"tag":284,"props":1091,"children":1092},{"style":308},[1093],{"type":20,"value":597},{"type":14,"tag":284,"props":1095,"children":1096},{"style":302},[1097],{"type":20,"value":851},{"type":14,"tag":284,"props":1099,"children":1100},{"style":308},[1101],{"type":20,"value":1102},">\n",{"type":14,"tag":284,"props":1104,"children":1105},{"class":286,"line":319},[1106],{"type":14,"tag":284,"props":1107,"children":1108},{"style":308},[1109],{"type":20,"value":325},{"type":14,"tag":284,"props":1111,"children":1112},{"class":286,"line":328},[1113,1117,1121,1125,1129,1133,1137,1141],{"type":14,"tag":284,"props":1114,"children":1115},{"style":291},[1116],{"type":20,"value":465},{"type":14,"tag":284,"props":1118,"children":1119},{"style":291},[1120],{"type":20,"value":470},{"type":14,"tag":284,"props":1122,"children":1123},{"style":291},[1124],{"type":20,"value":908},{"type":14,"tag":284,"props":1126,"children":1127},{"style":610},[1128],{"type":20,"value":913},{"type":14,"tag":284,"props":1130,"children":1131},{"style":308},[1132],{"type":20,"value":987},{"type":14,"tag":284,"props":1134,"children":1135},{"style":302},[1136],{"type":20,"value":851},{"type":14,"tag":284,"props":1138,"children":1139},{"style":478},[1140],{"type":20,"value":937},{"type":14,"tag":284,"props":1142,"children":1143},{"style":308},[1144],{"type":20,"value":1145},")\n",{"type":14,"tag":284,"props":1147,"children":1148},{"class":286,"line":337},[1149],{"type":14,"tag":284,"props":1150,"children":1151},{"style":308},[1152],{"type":20,"value":626},{"type":14,"tag":284,"props":1154,"children":1155},{"class":286,"line":509},[1156,1160,1165,1169,1173,1177,1181],{"type":14,"tag":284,"props":1157,"children":1158},{"style":291},[1159],{"type":20,"value":932},{"type":14,"tag":284,"props":1161,"children":1162},{"style":478},[1163],{"type":20,"value":1164}," app",{"type":14,"tag":284,"props":1166,"children":1167},{"style":484},[1168],{"type":20,"value":942},{"type":14,"tag":284,"props":1170,"children":1171},{"style":478},[1172],{"type":20,"value":937},{"type":14,"tag":284,"props":1174,"children":1175},{"style":308},[1176],{"type":20,"value":272},{"type":14,"tag":284,"props":1178,"children":1179},{"style":610},[1180],{"type":20,"value":233},{"type":14,"tag":284,"props":1182,"children":1183},{"style":308},[1184],{"type":20,"value":655},{"type":14,"tag":284,"props":1186,"children":1187},{"class":286,"line":658},[1188],{"type":14,"tag":284,"props":1189,"children":1190},{"emptyLinePlaceholder":696},[1191],{"type":20,"value":699},{"type":14,"tag":284,"props":1193,"children":1194},{"class":286,"line":683},[1195,1199,1203,1207,1211,1216],{"type":14,"tag":284,"props":1196,"children":1197},{"style":478},[1198],{"type":20,"value":974},{"type":14,"tag":284,"props":1200,"children":1201},{"style":308},[1202],{"type":20,"value":272},{"type":14,"tag":284,"props":1204,"children":1205},{"style":610},[1206],{"type":20,"value":154},{"type":14,"tag":284,"props":1208,"children":1209},{"style":308},[1210],{"type":20,"value":987},{"type":14,"tag":284,"props":1212,"children":1213},{"style":478},[1214],{"type":20,"value":1215},"app",{"type":14,"tag":284,"props":1217,"children":1218},{"style":308},[1219],{"type":20,"value":997},{"type":14,"tag":284,"props":1221,"children":1222},{"class":286,"line":692},[1223],{"type":14,"tag":284,"props":1224,"children":1225},{"style":308},[1226],{"type":20,"value":689},{"type":14,"tag":284,"props":1228,"children":1229},{"class":286,"line":702},[1230],{"type":14,"tag":284,"props":1231,"children":1232},{"style":308},[1233],{"type":20,"value":343},{"type":14,"tag":22,"props":1235,"children":1236},{},[1237,1242,1244,1249],{"type":14,"tag":28,"props":1238,"children":1239},{"className":7},[1240],{"type":20,"value":1241},"PhaseBase\u003CT>",{"type":20,"value":1243}," class requires ",{"type":14,"tag":28,"props":1245,"children":1246},{"className":7},[1247],{"type":20,"value":1248},"Initialize(T t)",{"type":20,"value":1250}," method to be implemented.",{"type":14,"tag":345,"props":1252,"children":1253},{},[1254,1259],{"type":14,"tag":22,"props":1255,"children":1256},{},[1257],{"type":20,"value":1258},":information_source:",{"type":14,"tag":22,"props":1260,"children":1261},{},[1262,1264,1269,1271,1276],{"type":20,"value":1263},"You can provide more than one dependency for a phase. E.g., ",{"type":14,"tag":28,"props":1265,"children":1266},{"className":7},[1267],{"type":20,"value":1268},"Phase\u003CX, Y>",{"type":20,"value":1270},"\nwill require ",{"type":14,"tag":28,"props":1272,"children":1273},{"className":7},[1274],{"type":20,"value":1275},"Initialize(X x, Y y)",{"type":20,"value":1250},{"type":14,"tag":345,"props":1278,"children":1279},{},[1280,1285],{"type":14,"tag":22,"props":1281,"children":1282},{},[1283],{"type":20,"value":1284},":warning:",{"type":14,"tag":22,"props":1286,"children":1287},{},[1288,1290,1294,1296],{"type":20,"value":1289},"Type of the dependency provided, must be exactly the same as the type of\ndependency in ",{"type":14,"tag":28,"props":1291,"children":1292},{"className":7},[1293],{"type":20,"value":183},{"type":20,"value":1295},". For more information\n",{"type":14,"tag":60,"props":1297,"children":1299},{"href":1298},"../architecture/application#running-an-application",[1300],{"type":20,"value":1301},"Running an Application",{"type":14,"tag":365,"props":1303,"children":1305},{"id":1304},"order-of-a-phase",[1306],{"type":20,"value":1307},"Order of a Phase",{"type":14,"tag":22,"props":1309,"children":1310},{},[1311,1315,1317,1322,1324,1329],{"type":14,"tag":28,"props":1312,"children":1313},{"className":7},[1314],{"type":20,"value":725},{"type":20,"value":1316}," classes has ",{"type":14,"tag":28,"props":1318,"children":1319},{"className":7},[1320],{"type":20,"value":1321},"order",{"type":20,"value":1323}," parameter in their constructors. Default order\nis ",{"type":14,"tag":28,"props":1325,"children":1326},{"className":7},[1327],{"type":20,"value":1328},"PhaseOrder.Normal",{"type":20,"value":1330},". If you need to change the order, pass the desired order\nto this parameter as shown below;",{"type":14,"tag":274,"props":1332,"children":1334},{"className":276,"code":1333,"language":278,"meta":7,"style":7},"public class DoThisEarlyOn()\n    : PhaseBase(PhaseOrder.Early)\n{ }\n",[1335],{"type":14,"tag":28,"props":1336,"children":1337},{"__ignoreMap":7},[1338,1358,1392],{"type":14,"tag":284,"props":1339,"children":1340},{"class":286,"line":287},[1341,1345,1349,1354],{"type":14,"tag":284,"props":1342,"children":1343},{"style":291},[1344],{"type":20,"value":294},{"type":14,"tag":284,"props":1346,"children":1347},{"style":291},[1348],{"type":20,"value":299},{"type":14,"tag":284,"props":1350,"children":1351},{"style":302},[1352],{"type":20,"value":1353}," DoThisEarlyOn",{"type":14,"tag":284,"props":1355,"children":1356},{"style":308},[1357],{"type":20,"value":618},{"type":14,"tag":284,"props":1359,"children":1360},{"class":286,"line":319},[1361,1366,1370,1374,1379,1383,1388],{"type":14,"tag":284,"props":1362,"children":1363},{"style":308},[1364],{"type":20,"value":1365},"    : ",{"type":14,"tag":284,"props":1367,"children":1368},{"style":302},[1369],{"type":20,"value":725},{"type":14,"tag":284,"props":1371,"children":1372},{"style":308},[1373],{"type":20,"value":987},{"type":14,"tag":284,"props":1375,"children":1376},{"style":302},[1377],{"type":20,"value":1378},"PhaseOrder",{"type":14,"tag":284,"props":1380,"children":1381},{"style":308},[1382],{"type":20,"value":272},{"type":14,"tag":284,"props":1384,"children":1385},{"style":302},[1386],{"type":20,"value":1387},"Early",{"type":14,"tag":284,"props":1389,"children":1390},{"style":308},[1391],{"type":20,"value":1145},{"type":14,"tag":284,"props":1393,"children":1394},{"class":286,"line":328},[1395],{"type":14,"tag":284,"props":1396,"children":1397},{"style":308},[1398],{"type":20,"value":1399},"{ }\n",{"type":14,"tag":83,"props":1401,"children":1403},{"id":1402},"providing-configuration",[1404],{"type":20,"value":1405},"Providing Configuration",{"type":14,"tag":22,"props":1407,"children":1408},{},[1409,1411,1416],{"type":20,"value":1410},"Layers provide configuration objects phase by phase. This means a layer can\nprovide two different configuration objects for two different phases. For this\nreason, a layer returns ",{"type":14,"tag":28,"props":1412,"children":1413},{"className":7},[1414],{"type":20,"value":1415},"PhaseContext",{"type":20,"value":1417}," instance per phase to which it provides\nconfiguration.",{"type":14,"tag":274,"props":1419,"children":1421},{"className":276,"code":1420,"language":278,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly LayerXConfiguration _configuration = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContext(_configuration);\n}\n",[1422],{"type":14,"tag":28,"props":1423,"children":1424},{"__ignoreMap":7},[1425,1461,1468,1498,1505,1549,1579],{"type":14,"tag":284,"props":1426,"children":1427},{"class":286,"line":287},[1428,1432,1436,1440,1444,1448,1452,1457],{"type":14,"tag":284,"props":1429,"children":1430},{"style":291},[1431],{"type":20,"value":294},{"type":14,"tag":284,"props":1433,"children":1434},{"style":291},[1435],{"type":20,"value":299},{"type":14,"tag":284,"props":1437,"children":1438},{"style":302},[1439],{"type":20,"value":305},{"type":14,"tag":284,"props":1441,"children":1442},{"style":308},[1443],{"type":20,"value":311},{"type":14,"tag":284,"props":1445,"children":1446},{"style":302},[1447],{"type":20,"value":270},{"type":14,"tag":284,"props":1449,"children":1450},{"style":308},[1451],{"type":20,"value":597},{"type":14,"tag":284,"props":1453,"children":1454},{"style":302},[1455],{"type":20,"value":1456},"AddServices",{"type":14,"tag":284,"props":1458,"children":1459},{"style":308},[1460],{"type":20,"value":1102},{"type":14,"tag":284,"props":1462,"children":1463},{"class":286,"line":319},[1464],{"type":14,"tag":284,"props":1465,"children":1466},{"style":308},[1467],{"type":20,"value":325},{"type":14,"tag":284,"props":1469,"children":1470},{"class":286,"line":328},[1471,1476,1481,1486,1490,1494],{"type":14,"tag":284,"props":1472,"children":1473},{"style":291},[1474],{"type":20,"value":1475},"    readonly",{"type":14,"tag":284,"props":1477,"children":1478},{"style":302},[1479],{"type":20,"value":1480}," LayerXConfiguration",{"type":14,"tag":284,"props":1482,"children":1483},{"style":478},[1484],{"type":20,"value":1485}," _configuration",{"type":14,"tag":284,"props":1487,"children":1488},{"style":484},[1489],{"type":20,"value":942},{"type":14,"tag":284,"props":1491,"children":1492},{"style":291},[1493],{"type":20,"value":645},{"type":14,"tag":284,"props":1495,"children":1496},{"style":308},[1497],{"type":20,"value":655},{"type":14,"tag":284,"props":1499,"children":1500},{"class":286,"line":337},[1501],{"type":14,"tag":284,"props":1502,"children":1503},{"emptyLinePlaceholder":696},[1504],{"type":20,"value":699},{"type":14,"tag":284,"props":1506,"children":1507},{"class":286,"line":509},[1508,1512,1516,1521,1526,1530,1534,1539,1544],{"type":14,"tag":284,"props":1509,"children":1510},{"style":291},[1511],{"type":20,"value":465},{"type":14,"tag":284,"props":1513,"children":1514},{"style":291},[1515],{"type":20,"value":470},{"type":14,"tag":284,"props":1517,"children":1518},{"style":302},[1519],{"type":20,"value":1520}," PhaseContext",{"type":14,"tag":284,"props":1522,"children":1523},{"style":610},[1524],{"type":20,"value":1525}," GetContext",{"type":14,"tag":284,"props":1527,"children":1528},{"style":308},[1529],{"type":20,"value":987},{"type":14,"tag":284,"props":1531,"children":1532},{"style":302},[1533],{"type":20,"value":1456},{"type":14,"tag":284,"props":1535,"children":1536},{"style":478},[1537],{"type":20,"value":1538}," phase",{"type":14,"tag":284,"props":1540,"children":1541},{"style":308},[1542],{"type":20,"value":1543},") ",{"type":14,"tag":284,"props":1545,"children":1546},{"style":484},[1547],{"type":20,"value":1548},"=>\n",{"type":14,"tag":284,"props":1550,"children":1551},{"class":286,"line":658},[1552,1557,1561,1566,1570,1575],{"type":14,"tag":284,"props":1553,"children":1554},{"style":478},[1555],{"type":20,"value":1556},"        phase",{"type":14,"tag":284,"props":1558,"children":1559},{"style":308},[1560],{"type":20,"value":272},{"type":14,"tag":284,"props":1562,"children":1563},{"style":610},[1564],{"type":20,"value":1565},"CreateContext",{"type":14,"tag":284,"props":1567,"children":1568},{"style":308},[1569],{"type":20,"value":987},{"type":14,"tag":284,"props":1571,"children":1572},{"style":478},[1573],{"type":20,"value":1574},"_configuration",{"type":14,"tag":284,"props":1576,"children":1577},{"style":308},[1578],{"type":20,"value":997},{"type":14,"tag":284,"props":1580,"children":1581},{"class":286,"line":683},[1582],{"type":14,"tag":284,"props":1583,"children":1584},{"style":308},[1585],{"type":20,"value":343},{"type":14,"tag":22,"props":1587,"children":1588},{},[1589,1591,1595,1597,1602,1604,1608],{"type":20,"value":1590},"In this example, you see a layer named ",{"type":14,"tag":28,"props":1592,"children":1593},{"className":7},[1594],{"type":20,"value":413},{"type":20,"value":1596}," providing a\n",{"type":14,"tag":28,"props":1598,"children":1599},{"className":7},[1600],{"type":20,"value":1601},"LayerXConfiguration",{"type":20,"value":1603}," instance during ",{"type":14,"tag":28,"props":1605,"children":1606},{"className":7},[1607],{"type":20,"value":1456},{"type":20,"value":1609}," phase.",{"type":14,"tag":345,"props":1611,"children":1612},{},[1613,1617],{"type":14,"tag":22,"props":1614,"children":1615},{},[1616],{"type":20,"value":1258},{"type":14,"tag":22,"props":1618,"children":1619},{},[1620,1622,1627,1629,1633],{"type":20,"value":1621},"By default, a layer returns ",{"type":14,"tag":28,"props":1623,"children":1624},{"className":7},[1625],{"type":20,"value":1626},"PhaseContext.Empty",{"type":20,"value":1628}," instance for the phases it\ndoes not provide a configuration. This means ",{"type":14,"tag":28,"props":1630,"children":1631},{"className":7},[1632],{"type":20,"value":65},{"type":20,"value":1634}," skips that layer\nfor the phases it doesn't have anything to configure.",{"type":14,"tag":365,"props":1636,"children":1638},{"id":1637},"using-non-generic-layerbase",[1639,1641],{"type":20,"value":1640},"Using non-generic ",{"type":14,"tag":28,"props":1642,"children":1643},{"className":7},[1644],{"type":20,"value":270},{"type":14,"tag":22,"props":1646,"children":1647},{},[1648,1653,1655,1659,1661,1666],{"type":14,"tag":28,"props":1649,"children":1650},{"className":7},[1651],{"type":20,"value":1652},"LayerBase\u003C>",{"type":20,"value":1654}," classes allow up to three generic arguments. If you need to\nimplement a layer that has things to configure during more than three phases,\nuse non-generic ",{"type":14,"tag":28,"props":1656,"children":1657},{"className":7},[1658],{"type":20,"value":270},{"type":20,"value":1660}," class, override ",{"type":14,"tag":28,"props":1662,"children":1663},{"className":7},[1664],{"type":20,"value":1665},"GetContext(IPhase phase)",{"type":20,"value":1667}," method\nand switch given phase according to its type;",{"type":14,"tag":274,"props":1669,"children":1671},{"className":276,"code":1670,"language":278,"meta":7,"style":7},"public class MyLayer : LayerBase\n{\n    protected override PhaseContext GetContext(IPhase phase) =>\n        phase switch\n        {\n            PhaseA => phase.CreateContext(...),\n            PhaseB => phase.CreateContext(...),\n            _ => base.GetContext(phase)\n        };\n}\n",[1672],{"type":14,"tag":28,"props":1673,"children":1674},{"__ignoreMap":7},[1675,1699,1706,1745,1757,1765,1803,1839,1878,1886],{"type":14,"tag":284,"props":1676,"children":1677},{"class":286,"line":287},[1678,1682,1686,1691,1695],{"type":14,"tag":284,"props":1679,"children":1680},{"style":291},[1681],{"type":20,"value":294},{"type":14,"tag":284,"props":1683,"children":1684},{"style":291},[1685],{"type":20,"value":299},{"type":14,"tag":284,"props":1687,"children":1688},{"style":302},[1689],{"type":20,"value":1690}," MyLayer",{"type":14,"tag":284,"props":1692,"children":1693},{"style":308},[1694],{"type":20,"value":311},{"type":14,"tag":284,"props":1696,"children":1697},{"style":302},[1698],{"type":20,"value":316},{"type":14,"tag":284,"props":1700,"children":1701},{"class":286,"line":319},[1702],{"type":14,"tag":284,"props":1703,"children":1704},{"style":308},[1705],{"type":20,"value":325},{"type":14,"tag":284,"props":1707,"children":1708},{"class":286,"line":328},[1709,1713,1717,1721,1725,1729,1733,1737,1741],{"type":14,"tag":284,"props":1710,"children":1711},{"style":291},[1712],{"type":20,"value":465},{"type":14,"tag":284,"props":1714,"children":1715},{"style":291},[1716],{"type":20,"value":470},{"type":14,"tag":284,"props":1718,"children":1719},{"style":302},[1720],{"type":20,"value":1520},{"type":14,"tag":284,"props":1722,"children":1723},{"style":610},[1724],{"type":20,"value":1525},{"type":14,"tag":284,"props":1726,"children":1727},{"style":308},[1728],{"type":20,"value":987},{"type":14,"tag":284,"props":1730,"children":1731},{"style":302},[1732],{"type":20,"value":602},{"type":14,"tag":284,"props":1734,"children":1735},{"style":478},[1736],{"type":20,"value":1538},{"type":14,"tag":284,"props":1738,"children":1739},{"style":308},[1740],{"type":20,"value":1543},{"type":14,"tag":284,"props":1742,"children":1743},{"style":484},[1744],{"type":20,"value":1548},{"type":14,"tag":284,"props":1746,"children":1747},{"class":286,"line":337},[1748,1752],{"type":14,"tag":284,"props":1749,"children":1750},{"style":478},[1751],{"type":20,"value":1556},{"type":14,"tag":284,"props":1753,"children":1754},{"style":632},[1755],{"type":20,"value":1756}," switch\n",{"type":14,"tag":284,"props":1758,"children":1759},{"class":286,"line":509},[1760],{"type":14,"tag":284,"props":1761,"children":1762},{"style":308},[1763],{"type":20,"value":1764},"        {\n",{"type":14,"tag":284,"props":1766,"children":1767},{"class":286,"line":658},[1768,1773,1777,1781,1785,1789,1793,1798],{"type":14,"tag":284,"props":1769,"children":1770},{"style":302},[1771],{"type":20,"value":1772},"            PhaseA",{"type":14,"tag":284,"props":1774,"children":1775},{"style":484},[1776],{"type":20,"value":487},{"type":14,"tag":284,"props":1778,"children":1779},{"style":478},[1780],{"type":20,"value":1538},{"type":14,"tag":284,"props":1782,"children":1783},{"style":308},[1784],{"type":20,"value":272},{"type":14,"tag":284,"props":1786,"children":1787},{"style":610},[1788],{"type":20,"value":1565},{"type":14,"tag":284,"props":1790,"children":1791},{"style":308},[1792],{"type":20,"value":987},{"type":14,"tag":284,"props":1794,"children":1795},{"style":484},[1796],{"type":20,"value":1797},"..",{"type":14,"tag":284,"props":1799,"children":1800},{"style":308},[1801],{"type":20,"value":1802},".),\n",{"type":14,"tag":284,"props":1804,"children":1805},{"class":286,"line":683},[1806,1811,1815,1819,1823,1827,1831,1835],{"type":14,"tag":284,"props":1807,"children":1808},{"style":302},[1809],{"type":20,"value":1810},"            PhaseB",{"type":14,"tag":284,"props":1812,"children":1813},{"style":484},[1814],{"type":20,"value":487},{"type":14,"tag":284,"props":1816,"children":1817},{"style":478},[1818],{"type":20,"value":1538},{"type":14,"tag":284,"props":1820,"children":1821},{"style":308},[1822],{"type":20,"value":272},{"type":14,"tag":284,"props":1824,"children":1825},{"style":610},[1826],{"type":20,"value":1565},{"type":14,"tag":284,"props":1828,"children":1829},{"style":308},[1830],{"type":20,"value":987},{"type":14,"tag":284,"props":1832,"children":1833},{"style":484},[1834],{"type":20,"value":1797},{"type":14,"tag":284,"props":1836,"children":1837},{"style":308},[1838],{"type":20,"value":1802},{"type":14,"tag":284,"props":1840,"children":1841},{"class":286,"line":692},[1842,1847,1851,1856,1860,1865,1869,1874],{"type":14,"tag":284,"props":1843,"children":1844},{"style":291},[1845],{"type":20,"value":1846},"            _",{"type":14,"tag":284,"props":1848,"children":1849},{"style":484},[1850],{"type":20,"value":487},{"type":14,"tag":284,"props":1852,"children":1853},{"style":291},[1854],{"type":20,"value":1855}," base",{"type":14,"tag":284,"props":1857,"children":1858},{"style":308},[1859],{"type":20,"value":272},{"type":14,"tag":284,"props":1861,"children":1862},{"style":610},[1863],{"type":20,"value":1864},"GetContext",{"type":14,"tag":284,"props":1866,"children":1867},{"style":308},[1868],{"type":20,"value":987},{"type":14,"tag":284,"props":1870,"children":1871},{"style":478},[1872],{"type":20,"value":1873},"phase",{"type":14,"tag":284,"props":1875,"children":1876},{"style":308},[1877],{"type":20,"value":1145},{"type":14,"tag":284,"props":1879,"children":1880},{"class":286,"line":702},[1881],{"type":14,"tag":284,"props":1882,"children":1883},{"style":308},[1884],{"type":20,"value":1885},"        };\n",{"type":14,"tag":284,"props":1887,"children":1888},{"class":286,"line":733},[1889],{"type":14,"tag":284,"props":1890,"children":1891},{"style":308},[1892],{"type":20,"value":343},{"type":14,"tag":365,"props":1894,"children":1896},{"id":1895},"before-and-after-a-phase",[1897],{"type":20,"value":1898},"Before and After a Phase",{"type":14,"tag":22,"props":1900,"children":1901},{},[1902,1904,1909,1911,1916],{"type":20,"value":1903},"Layers might need to do some standard stuff before and after a phase is applied\nto all features for all layers. Use ",{"type":14,"tag":28,"props":1905,"children":1906},{"className":7},[1907],{"type":20,"value":1908},"GetContext()",{"type":20,"value":1910}," method to do stuff before,\nand ",{"type":14,"tag":28,"props":1912,"children":1913},{"className":7},[1914],{"type":20,"value":1915},"onDispose:",{"type":20,"value":1917}," delegate to do stuff after.",{"type":14,"tag":274,"props":1919,"children":1921},{"className":276,"code":1920,"language":278,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly LayerXConfiguration _configuration = new();\n\n    protected override PhaseContext GetContext(AddServices phase)\n    {\n        var services = Context.Get\u003CIServiceCollection>();\n\n        services.AddStandardStuffBefore();\n\n        phase.CreateContext(_configuration,\n            onDispose: () => services.AddStandardStuffAfter()\n        );\n    }\n}\n",[1922],{"type":14,"tag":28,"props":1923,"children":1924},{"__ignoreMap":7},[1925,1960,1967,1994,2001,2036,2043,2086,2093,2114,2121,2149,2185,2194,2202],{"type":14,"tag":284,"props":1926,"children":1927},{"class":286,"line":287},[1928,1932,1936,1940,1944,1948,1952,1956],{"type":14,"tag":284,"props":1929,"children":1930},{"style":291},[1931],{"type":20,"value":294},{"type":14,"tag":284,"props":1933,"children":1934},{"style":291},[1935],{"type":20,"value":299},{"type":14,"tag":284,"props":1937,"children":1938},{"style":302},[1939],{"type":20,"value":305},{"type":14,"tag":284,"props":1941,"children":1942},{"style":308},[1943],{"type":20,"value":311},{"type":14,"tag":284,"props":1945,"children":1946},{"style":302},[1947],{"type":20,"value":270},{"type":14,"tag":284,"props":1949,"children":1950},{"style":308},[1951],{"type":20,"value":597},{"type":14,"tag":284,"props":1953,"children":1954},{"style":302},[1955],{"type":20,"value":1456},{"type":14,"tag":284,"props":1957,"children":1958},{"style":308},[1959],{"type":20,"value":1102},{"type":14,"tag":284,"props":1961,"children":1962},{"class":286,"line":319},[1963],{"type":14,"tag":284,"props":1964,"children":1965},{"style":308},[1966],{"type":20,"value":325},{"type":14,"tag":284,"props":1968,"children":1969},{"class":286,"line":328},[1970,1974,1978,1982,1986,1990],{"type":14,"tag":284,"props":1971,"children":1972},{"style":291},[1973],{"type":20,"value":1475},{"type":14,"tag":284,"props":1975,"children":1976},{"style":302},[1977],{"type":20,"value":1480},{"type":14,"tag":284,"props":1979,"children":1980},{"style":478},[1981],{"type":20,"value":1485},{"type":14,"tag":284,"props":1983,"children":1984},{"style":484},[1985],{"type":20,"value":942},{"type":14,"tag":284,"props":1987,"children":1988},{"style":291},[1989],{"type":20,"value":645},{"type":14,"tag":284,"props":1991,"children":1992},{"style":308},[1993],{"type":20,"value":655},{"type":14,"tag":284,"props":1995,"children":1996},{"class":286,"line":337},[1997],{"type":14,"tag":284,"props":1998,"children":1999},{"emptyLinePlaceholder":696},[2000],{"type":20,"value":699},{"type":14,"tag":284,"props":2002,"children":2003},{"class":286,"line":509},[2004,2008,2012,2016,2020,2024,2028,2032],{"type":14,"tag":284,"props":2005,"children":2006},{"style":291},[2007],{"type":20,"value":465},{"type":14,"tag":284,"props":2009,"children":2010},{"style":291},[2011],{"type":20,"value":470},{"type":14,"tag":284,"props":2013,"children":2014},{"style":302},[2015],{"type":20,"value":1520},{"type":14,"tag":284,"props":2017,"children":2018},{"style":610},[2019],{"type":20,"value":1525},{"type":14,"tag":284,"props":2021,"children":2022},{"style":308},[2023],{"type":20,"value":987},{"type":14,"tag":284,"props":2025,"children":2026},{"style":302},[2027],{"type":20,"value":1456},{"type":14,"tag":284,"props":2029,"children":2030},{"style":478},[2031],{"type":20,"value":1538},{"type":14,"tag":284,"props":2033,"children":2034},{"style":308},[2035],{"type":20,"value":1145},{"type":14,"tag":284,"props":2037,"children":2038},{"class":286,"line":658},[2039],{"type":14,"tag":284,"props":2040,"children":2041},{"style":308},[2042],{"type":20,"value":626},{"type":14,"tag":284,"props":2044,"children":2045},{"class":286,"line":683},[2046,2050,2055,2059,2064,2068,2072,2076,2081],{"type":14,"tag":284,"props":2047,"children":2048},{"style":291},[2049],{"type":20,"value":932},{"type":14,"tag":284,"props":2051,"children":2052},{"style":478},[2053],{"type":20,"value":2054}," services",{"type":14,"tag":284,"props":2056,"children":2057},{"style":484},[2058],{"type":20,"value":942},{"type":14,"tag":284,"props":2060,"children":2061},{"style":478},[2062],{"type":20,"value":2063}," Context",{"type":14,"tag":284,"props":2065,"children":2066},{"style":308},[2067],{"type":20,"value":272},{"type":14,"tag":284,"props":2069,"children":2070},{"style":610},[2071],{"type":20,"value":176},{"type":14,"tag":284,"props":2073,"children":2074},{"style":308},[2075],{"type":20,"value":597},{"type":14,"tag":284,"props":2077,"children":2078},{"style":302},[2079],{"type":20,"value":2080},"IServiceCollection",{"type":14,"tag":284,"props":2082,"children":2083},{"style":308},[2084],{"type":20,"value":2085},">();\n",{"type":14,"tag":284,"props":2087,"children":2088},{"class":286,"line":692},[2089],{"type":14,"tag":284,"props":2090,"children":2091},{"emptyLinePlaceholder":696},[2092],{"type":20,"value":699},{"type":14,"tag":284,"props":2094,"children":2095},{"class":286,"line":702},[2096,2101,2105,2110],{"type":14,"tag":284,"props":2097,"children":2098},{"style":478},[2099],{"type":20,"value":2100},"        services",{"type":14,"tag":284,"props":2102,"children":2103},{"style":308},[2104],{"type":20,"value":272},{"type":14,"tag":284,"props":2106,"children":2107},{"style":610},[2108],{"type":20,"value":2109},"AddStandardStuffBefore",{"type":14,"tag":284,"props":2111,"children":2112},{"style":308},[2113],{"type":20,"value":655},{"type":14,"tag":284,"props":2115,"children":2116},{"class":286,"line":733},[2117],{"type":14,"tag":284,"props":2118,"children":2119},{"emptyLinePlaceholder":696},[2120],{"type":20,"value":699},{"type":14,"tag":284,"props":2122,"children":2123},{"class":286,"line":761},[2124,2128,2132,2136,2140,2144],{"type":14,"tag":284,"props":2125,"children":2126},{"style":478},[2127],{"type":20,"value":1556},{"type":14,"tag":284,"props":2129,"children":2130},{"style":308},[2131],{"type":20,"value":272},{"type":14,"tag":284,"props":2133,"children":2134},{"style":610},[2135],{"type":20,"value":1565},{"type":14,"tag":284,"props":2137,"children":2138},{"style":308},[2139],{"type":20,"value":987},{"type":14,"tag":284,"props":2141,"children":2142},{"style":478},[2143],{"type":20,"value":1574},{"type":14,"tag":284,"props":2145,"children":2146},{"style":308},[2147],{"type":20,"value":2148},",\n",{"type":14,"tag":284,"props":2150,"children":2152},{"class":286,"line":2151},12,[2153,2158,2163,2168,2172,2176,2181],{"type":14,"tag":284,"props":2154,"children":2155},{"style":478},[2156],{"type":20,"value":2157},"            onDispose",{"type":14,"tag":284,"props":2159,"children":2160},{"style":308},[2161],{"type":20,"value":2162},": () ",{"type":14,"tag":284,"props":2164,"children":2165},{"style":484},[2166],{"type":20,"value":2167},"=>",{"type":14,"tag":284,"props":2169,"children":2170},{"style":478},[2171],{"type":20,"value":2054},{"type":14,"tag":284,"props":2173,"children":2174},{"style":308},[2175],{"type":20,"value":272},{"type":14,"tag":284,"props":2177,"children":2178},{"style":610},[2179],{"type":20,"value":2180},"AddStandardStuffAfter",{"type":14,"tag":284,"props":2182,"children":2183},{"style":308},[2184],{"type":20,"value":618},{"type":14,"tag":284,"props":2186,"children":2188},{"class":286,"line":2187},13,[2189],{"type":14,"tag":284,"props":2190,"children":2191},{"style":308},[2192],{"type":20,"value":2193},"        );\n",{"type":14,"tag":284,"props":2195,"children":2197},{"class":286,"line":2196},14,[2198],{"type":14,"tag":284,"props":2199,"children":2200},{"style":308},[2201],{"type":20,"value":689},{"type":14,"tag":284,"props":2203,"children":2205},{"class":286,"line":2204},15,[2206],{"type":14,"tag":284,"props":2207,"children":2208},{"style":308},[2209],{"type":20,"value":343},{"type":14,"tag":345,"props":2211,"children":2212},{},[2213,2217],{"type":14,"tag":22,"props":2214,"children":2215},{},[2216],{"type":20,"value":1258},{"type":14,"tag":22,"props":2218,"children":2219},{},[2220,2222,2226,2228,2232,2234,2238],{"type":20,"value":2221},"Notice that a layer has access to the ",{"type":14,"tag":28,"props":2223,"children":2224},{"className":7},[2225],{"type":20,"value":183},{"type":20,"value":2227}," instance through\n",{"type":14,"tag":28,"props":2229,"children":2230},{"className":7},[2231],{"type":20,"value":831},{"type":20,"value":2233}," property provided in ",{"type":14,"tag":28,"props":2235,"children":2236},{"className":7},[2237],{"type":20,"value":270},{"type":20,"value":2239}," base class.",{"type":14,"tag":345,"props":2241,"children":2242},{},[2243,2247],{"type":14,"tag":22,"props":2244,"children":2245},{},[2246],{"type":20,"value":1284},{"type":14,"tag":22,"props":2248,"children":2249},{},[2250,2254,2256,2260],{"type":14,"tag":28,"props":2251,"children":2252},{"className":7},[2253],{"type":20,"value":1908},{"type":20,"value":2255}," method is called for every layer before applying any of them\nto features. And ",{"type":14,"tag":28,"props":2257,"children":2258},{"className":7},[2259],{"type":20,"value":1915},{"type":20,"value":2261}," actions are called after applying these\ncontexts to all features.",{"type":14,"tag":365,"props":2263,"children":2265},{"id":2264},"providing-multiple-targets",[2266],{"type":20,"value":2267},"Providing Multiple Targets",{"type":14,"tag":22,"props":2269,"children":2270},{},[2271],{"type":20,"value":2272},"It is possible to provide up to three configuration objects for the same phase.\nThere are two ways of providing multiple targets; at once or one by one.",{"type":14,"tag":2274,"props":2275,"children":2277},"h4",{"id":2276},"at-once",[2278],{"type":20,"value":2279},"At Once",{"type":14,"tag":22,"props":2281,"children":2282},{},[2283],{"type":20,"value":2284},"Below code demonstrates providing two configuration objects at once;",{"type":14,"tag":274,"props":2286,"children":2288},{"className":276,"code":2287,"language":278,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContext(_configuration1, _configuration2);\n}\n",[2289],{"type":14,"tag":28,"props":2290,"children":2291},{"__ignoreMap":7},[2292,2327,2334,2363,2392,2399,2438,2475],{"type":14,"tag":284,"props":2293,"children":2294},{"class":286,"line":287},[2295,2299,2303,2307,2311,2315,2319,2323],{"type":14,"tag":284,"props":2296,"children":2297},{"style":291},[2298],{"type":20,"value":294},{"type":14,"tag":284,"props":2300,"children":2301},{"style":291},[2302],{"type":20,"value":299},{"type":14,"tag":284,"props":2304,"children":2305},{"style":302},[2306],{"type":20,"value":305},{"type":14,"tag":284,"props":2308,"children":2309},{"style":308},[2310],{"type":20,"value":311},{"type":14,"tag":284,"props":2312,"children":2313},{"style":302},[2314],{"type":20,"value":270},{"type":14,"tag":284,"props":2316,"children":2317},{"style":308},[2318],{"type":20,"value":597},{"type":14,"tag":284,"props":2320,"children":2321},{"style":302},[2322],{"type":20,"value":1456},{"type":14,"tag":284,"props":2324,"children":2325},{"style":308},[2326],{"type":20,"value":1102},{"type":14,"tag":284,"props":2328,"children":2329},{"class":286,"line":319},[2330],{"type":14,"tag":284,"props":2331,"children":2332},{"style":308},[2333],{"type":20,"value":325},{"type":14,"tag":284,"props":2335,"children":2336},{"class":286,"line":328},[2337,2341,2346,2351,2355,2359],{"type":14,"tag":284,"props":2338,"children":2339},{"style":291},[2340],{"type":20,"value":1475},{"type":14,"tag":284,"props":2342,"children":2343},{"style":302},[2344],{"type":20,"value":2345}," Configuration1",{"type":14,"tag":284,"props":2347,"children":2348},{"style":478},[2349],{"type":20,"value":2350}," _configuration1",{"type":14,"tag":284,"props":2352,"children":2353},{"style":484},[2354],{"type":20,"value":942},{"type":14,"tag":284,"props":2356,"children":2357},{"style":291},[2358],{"type":20,"value":645},{"type":14,"tag":284,"props":2360,"children":2361},{"style":308},[2362],{"type":20,"value":655},{"type":14,"tag":284,"props":2364,"children":2365},{"class":286,"line":337},[2366,2370,2375,2380,2384,2388],{"type":14,"tag":284,"props":2367,"children":2368},{"style":291},[2369],{"type":20,"value":1475},{"type":14,"tag":284,"props":2371,"children":2372},{"style":302},[2373],{"type":20,"value":2374}," Configuration2",{"type":14,"tag":284,"props":2376,"children":2377},{"style":478},[2378],{"type":20,"value":2379}," _configuration2",{"type":14,"tag":284,"props":2381,"children":2382},{"style":484},[2383],{"type":20,"value":942},{"type":14,"tag":284,"props":2385,"children":2386},{"style":291},[2387],{"type":20,"value":645},{"type":14,"tag":284,"props":2389,"children":2390},{"style":308},[2391],{"type":20,"value":655},{"type":14,"tag":284,"props":2393,"children":2394},{"class":286,"line":509},[2395],{"type":14,"tag":284,"props":2396,"children":2397},{"emptyLinePlaceholder":696},[2398],{"type":20,"value":699},{"type":14,"tag":284,"props":2400,"children":2401},{"class":286,"line":658},[2402,2406,2410,2414,2418,2422,2426,2430,2434],{"type":14,"tag":284,"props":2403,"children":2404},{"style":291},[2405],{"type":20,"value":465},{"type":14,"tag":284,"props":2407,"children":2408},{"style":291},[2409],{"type":20,"value":470},{"type":14,"tag":284,"props":2411,"children":2412},{"style":302},[2413],{"type":20,"value":1520},{"type":14,"tag":284,"props":2415,"children":2416},{"style":610},[2417],{"type":20,"value":1525},{"type":14,"tag":284,"props":2419,"children":2420},{"style":308},[2421],{"type":20,"value":987},{"type":14,"tag":284,"props":2423,"children":2424},{"style":302},[2425],{"type":20,"value":1456},{"type":14,"tag":284,"props":2427,"children":2428},{"style":478},[2429],{"type":20,"value":1538},{"type":14,"tag":284,"props":2431,"children":2432},{"style":308},[2433],{"type":20,"value":1543},{"type":14,"tag":284,"props":2435,"children":2436},{"style":484},[2437],{"type":20,"value":1548},{"type":14,"tag":284,"props":2439,"children":2440},{"class":286,"line":683},[2441,2445,2449,2453,2457,2462,2466,2471],{"type":14,"tag":284,"props":2442,"children":2443},{"style":478},[2444],{"type":20,"value":1556},{"type":14,"tag":284,"props":2446,"children":2447},{"style":308},[2448],{"type":20,"value":272},{"type":14,"tag":284,"props":2450,"children":2451},{"style":610},[2452],{"type":20,"value":1565},{"type":14,"tag":284,"props":2454,"children":2455},{"style":308},[2456],{"type":20,"value":987},{"type":14,"tag":284,"props":2458,"children":2459},{"style":478},[2460],{"type":20,"value":2461},"_configuration1",{"type":14,"tag":284,"props":2463,"children":2464},{"style":308},[2465],{"type":20,"value":192},{"type":14,"tag":284,"props":2467,"children":2468},{"style":478},[2469],{"type":20,"value":2470},"_configuration2",{"type":14,"tag":284,"props":2472,"children":2473},{"style":308},[2474],{"type":20,"value":997},{"type":14,"tag":284,"props":2476,"children":2477},{"class":286,"line":692},[2478],{"type":14,"tag":284,"props":2479,"children":2480},{"style":308},[2481],{"type":20,"value":343},{"type":14,"tag":22,"props":2483,"children":2484},{},[2485],{"type":20,"value":2486},"This phase context will require an action with two parameter in a feature;",{"type":14,"tag":274,"props":2488,"children":2490},{"className":276,"code":2489,"language":278,"meta":7,"style":7},"...\npublic void Configure(LayerConfigurator configurator)\n{\n    configurator.Configure((Configuration1 configuration1, Configuration2 configuration2) =>\n    {\n        // use both objects to configure\n    });\n}\n...\n",[2491],{"type":14,"tag":28,"props":2492,"children":2493},{"__ignoreMap":7},[2494,2505,2538,2545,2598,2605,2614,2622,2629],{"type":14,"tag":284,"props":2495,"children":2496},{"class":286,"line":287},[2497,2501],{"type":14,"tag":284,"props":2498,"children":2499},{"style":484},[2500],{"type":20,"value":1797},{"type":14,"tag":284,"props":2502,"children":2503},{"style":308},[2504],{"type":20,"value":506},{"type":14,"tag":284,"props":2506,"children":2507},{"class":286,"line":319},[2508,2512,2516,2521,2525,2529,2534],{"type":14,"tag":284,"props":2509,"children":2510},{"style":291},[2511],{"type":20,"value":294},{"type":14,"tag":284,"props":2513,"children":2514},{"style":291},[2515],{"type":20,"value":908},{"type":14,"tag":284,"props":2517,"children":2518},{"style":610},[2519],{"type":20,"value":2520}," Configure",{"type":14,"tag":284,"props":2522,"children":2523},{"style":308},[2524],{"type":20,"value":987},{"type":14,"tag":284,"props":2526,"children":2527},{"style":302},[2528],{"type":20,"value":211},{"type":14,"tag":284,"props":2530,"children":2531},{"style":478},[2532],{"type":20,"value":2533}," configurator",{"type":14,"tag":284,"props":2535,"children":2536},{"style":308},[2537],{"type":20,"value":1145},{"type":14,"tag":284,"props":2539,"children":2540},{"class":286,"line":328},[2541],{"type":14,"tag":284,"props":2542,"children":2543},{"style":308},[2544],{"type":20,"value":325},{"type":14,"tag":284,"props":2546,"children":2547},{"class":286,"line":337},[2548,2553,2557,2561,2566,2571,2576,2580,2585,2590,2594],{"type":14,"tag":284,"props":2549,"children":2550},{"style":478},[2551],{"type":20,"value":2552},"    configurator",{"type":14,"tag":284,"props":2554,"children":2555},{"style":308},[2556],{"type":20,"value":272},{"type":14,"tag":284,"props":2558,"children":2559},{"style":610},[2560],{"type":20,"value":205},{"type":14,"tag":284,"props":2562,"children":2563},{"style":308},[2564],{"type":20,"value":2565},"((",{"type":14,"tag":284,"props":2567,"children":2568},{"style":302},[2569],{"type":20,"value":2570},"Configuration1",{"type":14,"tag":284,"props":2572,"children":2573},{"style":478},[2574],{"type":20,"value":2575}," configuration1",{"type":14,"tag":284,"props":2577,"children":2578},{"style":308},[2579],{"type":20,"value":192},{"type":14,"tag":284,"props":2581,"children":2582},{"style":302},[2583],{"type":20,"value":2584},"Configuration2",{"type":14,"tag":284,"props":2586,"children":2587},{"style":478},[2588],{"type":20,"value":2589}," configuration2",{"type":14,"tag":284,"props":2591,"children":2592},{"style":308},[2593],{"type":20,"value":1543},{"type":14,"tag":284,"props":2595,"children":2596},{"style":484},[2597],{"type":20,"value":1548},{"type":14,"tag":284,"props":2599,"children":2600},{"class":286,"line":509},[2601],{"type":14,"tag":284,"props":2602,"children":2603},{"style":308},[2604],{"type":20,"value":626},{"type":14,"tag":284,"props":2606,"children":2607},{"class":286,"line":658},[2608],{"type":14,"tag":284,"props":2609,"children":2611},{"style":2610},"--shiki-default:#6A9955",[2612],{"type":20,"value":2613},"        // use both objects to configure\n",{"type":14,"tag":284,"props":2615,"children":2616},{"class":286,"line":683},[2617],{"type":14,"tag":284,"props":2618,"children":2619},{"style":308},[2620],{"type":20,"value":2621},"    });\n",{"type":14,"tag":284,"props":2623,"children":2624},{"class":286,"line":692},[2625],{"type":14,"tag":284,"props":2626,"children":2627},{"style":308},[2628],{"type":20,"value":343},{"type":14,"tag":284,"props":2630,"children":2631},{"class":286,"line":702},[2632,2636],{"type":14,"tag":284,"props":2633,"children":2634},{"style":484},[2635],{"type":20,"value":1797},{"type":14,"tag":284,"props":2637,"children":2638},{"style":308},[2639],{"type":20,"value":506},{"type":14,"tag":22,"props":2641,"children":2642},{},[2643,2645,2651],{"type":20,"value":2644},"See ",{"type":14,"tag":60,"props":2646,"children":2648},{"href":2647},"./feature",[2649],{"type":20,"value":2650},"Feature",{"type":20,"value":2652}," for more information on using layer configurators\nfor features.",{"type":14,"tag":2274,"props":2654,"children":2656},{"id":2655},"one-by-one",[2657],{"type":20,"value":2658},"One by One",{"type":14,"tag":22,"props":2660,"children":2661},{},[2662],{"type":20,"value":2663},"Below code demonstrates providing configuration objects one by one;",{"type":14,"tag":274,"props":2665,"children":2667},{"className":276,"code":2666,"language":278,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContextBuilder()\n            .Add(_configuration1)\n            .Add(_configuration2)\n            .Build()\n        ;\n}\n",[2668],{"type":14,"tag":28,"props":2669,"children":2670},{"__ignoreMap":7},[2671,2706,2713,2740,2767,2774,2813,2833,2857,2880,2895,2903],{"type":14,"tag":284,"props":2672,"children":2673},{"class":286,"line":287},[2674,2678,2682,2686,2690,2694,2698,2702],{"type":14,"tag":284,"props":2675,"children":2676},{"style":291},[2677],{"type":20,"value":294},{"type":14,"tag":284,"props":2679,"children":2680},{"style":291},[2681],{"type":20,"value":299},{"type":14,"tag":284,"props":2683,"children":2684},{"style":302},[2685],{"type":20,"value":305},{"type":14,"tag":284,"props":2687,"children":2688},{"style":308},[2689],{"type":20,"value":311},{"type":14,"tag":284,"props":2691,"children":2692},{"style":302},[2693],{"type":20,"value":270},{"type":14,"tag":284,"props":2695,"children":2696},{"style":308},[2697],{"type":20,"value":597},{"type":14,"tag":284,"props":2699,"children":2700},{"style":302},[2701],{"type":20,"value":1456},{"type":14,"tag":284,"props":2703,"children":2704},{"style":308},[2705],{"type":20,"value":1102},{"type":14,"tag":284,"props":2707,"children":2708},{"class":286,"line":319},[2709],{"type":14,"tag":284,"props":2710,"children":2711},{"style":308},[2712],{"type":20,"value":325},{"type":14,"tag":284,"props":2714,"children":2715},{"class":286,"line":328},[2716,2720,2724,2728,2732,2736],{"type":14,"tag":284,"props":2717,"children":2718},{"style":291},[2719],{"type":20,"value":1475},{"type":14,"tag":284,"props":2721,"children":2722},{"style":302},[2723],{"type":20,"value":2345},{"type":14,"tag":284,"props":2725,"children":2726},{"style":478},[2727],{"type":20,"value":2350},{"type":14,"tag":284,"props":2729,"children":2730},{"style":484},[2731],{"type":20,"value":942},{"type":14,"tag":284,"props":2733,"children":2734},{"style":291},[2735],{"type":20,"value":645},{"type":14,"tag":284,"props":2737,"children":2738},{"style":308},[2739],{"type":20,"value":655},{"type":14,"tag":284,"props":2741,"children":2742},{"class":286,"line":337},[2743,2747,2751,2755,2759,2763],{"type":14,"tag":284,"props":2744,"children":2745},{"style":291},[2746],{"type":20,"value":1475},{"type":14,"tag":284,"props":2748,"children":2749},{"style":302},[2750],{"type":20,"value":2374},{"type":14,"tag":284,"props":2752,"children":2753},{"style":478},[2754],{"type":20,"value":2379},{"type":14,"tag":284,"props":2756,"children":2757},{"style":484},[2758],{"type":20,"value":942},{"type":14,"tag":284,"props":2760,"children":2761},{"style":291},[2762],{"type":20,"value":645},{"type":14,"tag":284,"props":2764,"children":2765},{"style":308},[2766],{"type":20,"value":655},{"type":14,"tag":284,"props":2768,"children":2769},{"class":286,"line":509},[2770],{"type":14,"tag":284,"props":2771,"children":2772},{"emptyLinePlaceholder":696},[2773],{"type":20,"value":699},{"type":14,"tag":284,"props":2775,"children":2776},{"class":286,"line":658},[2777,2781,2785,2789,2793,2797,2801,2805,2809],{"type":14,"tag":284,"props":2778,"children":2779},{"style":291},[2780],{"type":20,"value":465},{"type":14,"tag":284,"props":2782,"children":2783},{"style":291},[2784],{"type":20,"value":470},{"type":14,"tag":284,"props":2786,"children":2787},{"style":302},[2788],{"type":20,"value":1520},{"type":14,"tag":284,"props":2790,"children":2791},{"style":610},[2792],{"type":20,"value":1525},{"type":14,"tag":284,"props":2794,"children":2795},{"style":308},[2796],{"type":20,"value":987},{"type":14,"tag":284,"props":2798,"children":2799},{"style":302},[2800],{"type":20,"value":1456},{"type":14,"tag":284,"props":2802,"children":2803},{"style":478},[2804],{"type":20,"value":1538},{"type":14,"tag":284,"props":2806,"children":2807},{"style":308},[2808],{"type":20,"value":1543},{"type":14,"tag":284,"props":2810,"children":2811},{"style":484},[2812],{"type":20,"value":1548},{"type":14,"tag":284,"props":2814,"children":2815},{"class":286,"line":683},[2816,2820,2824,2829],{"type":14,"tag":284,"props":2817,"children":2818},{"style":478},[2819],{"type":20,"value":1556},{"type":14,"tag":284,"props":2821,"children":2822},{"style":308},[2823],{"type":20,"value":272},{"type":14,"tag":284,"props":2825,"children":2826},{"style":610},[2827],{"type":20,"value":2828},"CreateContextBuilder",{"type":14,"tag":284,"props":2830,"children":2831},{"style":308},[2832],{"type":20,"value":618},{"type":14,"tag":284,"props":2834,"children":2835},{"class":286,"line":692},[2836,2841,2845,2849,2853],{"type":14,"tag":284,"props":2837,"children":2838},{"style":308},[2839],{"type":20,"value":2840},"            .",{"type":14,"tag":284,"props":2842,"children":2843},{"style":610},[2844],{"type":20,"value":154},{"type":14,"tag":284,"props":2846,"children":2847},{"style":308},[2848],{"type":20,"value":987},{"type":14,"tag":284,"props":2850,"children":2851},{"style":478},[2852],{"type":20,"value":2461},{"type":14,"tag":284,"props":2854,"children":2855},{"style":308},[2856],{"type":20,"value":1145},{"type":14,"tag":284,"props":2858,"children":2859},{"class":286,"line":702},[2860,2864,2868,2872,2876],{"type":14,"tag":284,"props":2861,"children":2862},{"style":308},[2863],{"type":20,"value":2840},{"type":14,"tag":284,"props":2865,"children":2866},{"style":610},[2867],{"type":20,"value":154},{"type":14,"tag":284,"props":2869,"children":2870},{"style":308},[2871],{"type":20,"value":987},{"type":14,"tag":284,"props":2873,"children":2874},{"style":478},[2875],{"type":20,"value":2470},{"type":14,"tag":284,"props":2877,"children":2878},{"style":308},[2879],{"type":20,"value":1145},{"type":14,"tag":284,"props":2881,"children":2882},{"class":286,"line":733},[2883,2887,2891],{"type":14,"tag":284,"props":2884,"children":2885},{"style":308},[2886],{"type":20,"value":2840},{"type":14,"tag":284,"props":2888,"children":2889},{"style":610},[2890],{"type":20,"value":233},{"type":14,"tag":284,"props":2892,"children":2893},{"style":308},[2894],{"type":20,"value":618},{"type":14,"tag":284,"props":2896,"children":2897},{"class":286,"line":761},[2898],{"type":14,"tag":284,"props":2899,"children":2900},{"style":308},[2901],{"type":20,"value":2902},"        ;\n",{"type":14,"tag":284,"props":2904,"children":2905},{"class":286,"line":2151},[2906],{"type":14,"tag":284,"props":2907,"children":2908},{"style":308},[2909],{"type":20,"value":343},{"type":14,"tag":22,"props":2911,"children":2912},{},[2913],{"type":20,"value":2914},"This phase context will require two different actions in a feature;",{"type":14,"tag":274,"props":2916,"children":2918},{"className":276,"code":2917,"language":278,"meta":7,"style":7},"...\npublic void Configure(LayerConfigurator configurator)\n{\n    configurator.Configure((Configuration1 configuration1) =>\n    {\n        // configure one by one\n    });\n\n    configurator.Configure((Configuration2 configuration2) =>\n    {\n        // configure one by one\n    });\n}\n...\n",[2919],{"type":14,"tag":28,"props":2920,"children":2921},{"__ignoreMap":7},[2922,2933,2964,2971,3006,3013,3021,3028,3035,3070,3077,3084,3091,3098],{"type":14,"tag":284,"props":2923,"children":2924},{"class":286,"line":287},[2925,2929],{"type":14,"tag":284,"props":2926,"children":2927},{"style":484},[2928],{"type":20,"value":1797},{"type":14,"tag":284,"props":2930,"children":2931},{"style":308},[2932],{"type":20,"value":506},{"type":14,"tag":284,"props":2934,"children":2935},{"class":286,"line":319},[2936,2940,2944,2948,2952,2956,2960],{"type":14,"tag":284,"props":2937,"children":2938},{"style":291},[2939],{"type":20,"value":294},{"type":14,"tag":284,"props":2941,"children":2942},{"style":291},[2943],{"type":20,"value":908},{"type":14,"tag":284,"props":2945,"children":2946},{"style":610},[2947],{"type":20,"value":2520},{"type":14,"tag":284,"props":2949,"children":2950},{"style":308},[2951],{"type":20,"value":987},{"type":14,"tag":284,"props":2953,"children":2954},{"style":302},[2955],{"type":20,"value":211},{"type":14,"tag":284,"props":2957,"children":2958},{"style":478},[2959],{"type":20,"value":2533},{"type":14,"tag":284,"props":2961,"children":2962},{"style":308},[2963],{"type":20,"value":1145},{"type":14,"tag":284,"props":2965,"children":2966},{"class":286,"line":328},[2967],{"type":14,"tag":284,"props":2968,"children":2969},{"style":308},[2970],{"type":20,"value":325},{"type":14,"tag":284,"props":2972,"children":2973},{"class":286,"line":337},[2974,2978,2982,2986,2990,2994,2998,3002],{"type":14,"tag":284,"props":2975,"children":2976},{"style":478},[2977],{"type":20,"value":2552},{"type":14,"tag":284,"props":2979,"children":2980},{"style":308},[2981],{"type":20,"value":272},{"type":14,"tag":284,"props":2983,"children":2984},{"style":610},[2985],{"type":20,"value":205},{"type":14,"tag":284,"props":2987,"children":2988},{"style":308},[2989],{"type":20,"value":2565},{"type":14,"tag":284,"props":2991,"children":2992},{"style":302},[2993],{"type":20,"value":2570},{"type":14,"tag":284,"props":2995,"children":2996},{"style":478},[2997],{"type":20,"value":2575},{"type":14,"tag":284,"props":2999,"children":3000},{"style":308},[3001],{"type":20,"value":1543},{"type":14,"tag":284,"props":3003,"children":3004},{"style":484},[3005],{"type":20,"value":1548},{"type":14,"tag":284,"props":3007,"children":3008},{"class":286,"line":509},[3009],{"type":14,"tag":284,"props":3010,"children":3011},{"style":308},[3012],{"type":20,"value":626},{"type":14,"tag":284,"props":3014,"children":3015},{"class":286,"line":658},[3016],{"type":14,"tag":284,"props":3017,"children":3018},{"style":2610},[3019],{"type":20,"value":3020},"        // configure one by one\n",{"type":14,"tag":284,"props":3022,"children":3023},{"class":286,"line":683},[3024],{"type":14,"tag":284,"props":3025,"children":3026},{"style":308},[3027],{"type":20,"value":2621},{"type":14,"tag":284,"props":3029,"children":3030},{"class":286,"line":692},[3031],{"type":14,"tag":284,"props":3032,"children":3033},{"emptyLinePlaceholder":696},[3034],{"type":20,"value":699},{"type":14,"tag":284,"props":3036,"children":3037},{"class":286,"line":702},[3038,3042,3046,3050,3054,3058,3062,3066],{"type":14,"tag":284,"props":3039,"children":3040},{"style":478},[3041],{"type":20,"value":2552},{"type":14,"tag":284,"props":3043,"children":3044},{"style":308},[3045],{"type":20,"value":272},{"type":14,"tag":284,"props":3047,"children":3048},{"style":610},[3049],{"type":20,"value":205},{"type":14,"tag":284,"props":3051,"children":3052},{"style":308},[3053],{"type":20,"value":2565},{"type":14,"tag":284,"props":3055,"children":3056},{"style":302},[3057],{"type":20,"value":2584},{"type":14,"tag":284,"props":3059,"children":3060},{"style":478},[3061],{"type":20,"value":2589},{"type":14,"tag":284,"props":3063,"children":3064},{"style":308},[3065],{"type":20,"value":1543},{"type":14,"tag":284,"props":3067,"children":3068},{"style":484},[3069],{"type":20,"value":1548},{"type":14,"tag":284,"props":3071,"children":3072},{"class":286,"line":733},[3073],{"type":14,"tag":284,"props":3074,"children":3075},{"style":308},[3076],{"type":20,"value":626},{"type":14,"tag":284,"props":3078,"children":3079},{"class":286,"line":761},[3080],{"type":14,"tag":284,"props":3081,"children":3082},{"style":2610},[3083],{"type":20,"value":3020},{"type":14,"tag":284,"props":3085,"children":3086},{"class":286,"line":2151},[3087],{"type":14,"tag":284,"props":3088,"children":3089},{"style":308},[3090],{"type":20,"value":2621},{"type":14,"tag":284,"props":3092,"children":3093},{"class":286,"line":2187},[3094],{"type":14,"tag":284,"props":3095,"children":3096},{"style":308},[3097],{"type":20,"value":343},{"type":14,"tag":284,"props":3099,"children":3100},{"class":286,"line":2196},[3101,3105],{"type":14,"tag":284,"props":3102,"children":3103},{"style":484},[3104],{"type":20,"value":1797},{"type":14,"tag":284,"props":3106,"children":3107},{"style":308},[3108],{"type":20,"value":506},{"type":14,"tag":345,"props":3110,"children":3111},{},[3112,3116],{"type":14,"tag":22,"props":3113,"children":3114},{},[3115],{"type":20,"value":352},{"type":14,"tag":22,"props":3117,"children":3118},{},[3119,3124,3126,3131],{"type":14,"tag":28,"props":3120,"children":3121},{"className":7},[3122],{"type":20,"value":3123},"phase.CreateContext()",{"type":20,"value":3125}," is a helper method that utilizes\n",{"type":14,"tag":28,"props":3127,"children":3128},{"className":7},[3129],{"type":20,"value":3130},"phase.CreateContextBuilder()",{"type":20,"value":3132}," behind the scenes.",{"type":14,"tag":2274,"props":3134,"children":3136},{"id":3135},"using-in-combination",[3137],{"type":20,"value":3138},"Using in Combination",{"type":14,"tag":22,"props":3140,"children":3141},{},[3142],{"type":20,"value":3143},"You may combine these two ways to provide configuration;",{"type":14,"tag":274,"props":3145,"children":3147},{"className":276,"code":3146,"language":278,"meta":7,"style":7},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n    readonly Configuration3 _configuration3 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContextBuilder()\n            .Add(_configuration1, _configuration2)\n            .Add(_configuration3)\n            .Build()\n        ;\n}\n",[3148],{"type":14,"tag":28,"props":3149,"children":3150},{"__ignoreMap":7},[3151,3186,3193,3220,3247,3276,3283,3322,3341,3372,3396,3411,3418],{"type":14,"tag":284,"props":3152,"children":3153},{"class":286,"line":287},[3154,3158,3162,3166,3170,3174,3178,3182],{"type":14,"tag":284,"props":3155,"children":3156},{"style":291},[3157],{"type":20,"value":294},{"type":14,"tag":284,"props":3159,"children":3160},{"style":291},[3161],{"type":20,"value":299},{"type":14,"tag":284,"props":3163,"children":3164},{"style":302},[3165],{"type":20,"value":305},{"type":14,"tag":284,"props":3167,"children":3168},{"style":308},[3169],{"type":20,"value":311},{"type":14,"tag":284,"props":3171,"children":3172},{"style":302},[3173],{"type":20,"value":270},{"type":14,"tag":284,"props":3175,"children":3176},{"style":308},[3177],{"type":20,"value":597},{"type":14,"tag":284,"props":3179,"children":3180},{"style":302},[3181],{"type":20,"value":1456},{"type":14,"tag":284,"props":3183,"children":3184},{"style":308},[3185],{"type":20,"value":1102},{"type":14,"tag":284,"props":3187,"children":3188},{"class":286,"line":319},[3189],{"type":14,"tag":284,"props":3190,"children":3191},{"style":308},[3192],{"type":20,"value":325},{"type":14,"tag":284,"props":3194,"children":3195},{"class":286,"line":328},[3196,3200,3204,3208,3212,3216],{"type":14,"tag":284,"props":3197,"children":3198},{"style":291},[3199],{"type":20,"value":1475},{"type":14,"tag":284,"props":3201,"children":3202},{"style":302},[3203],{"type":20,"value":2345},{"type":14,"tag":284,"props":3205,"children":3206},{"style":478},[3207],{"type":20,"value":2350},{"type":14,"tag":284,"props":3209,"children":3210},{"style":484},[3211],{"type":20,"value":942},{"type":14,"tag":284,"props":3213,"children":3214},{"style":291},[3215],{"type":20,"value":645},{"type":14,"tag":284,"props":3217,"children":3218},{"style":308},[3219],{"type":20,"value":655},{"type":14,"tag":284,"props":3221,"children":3222},{"class":286,"line":337},[3223,3227,3231,3235,3239,3243],{"type":14,"tag":284,"props":3224,"children":3225},{"style":291},[3226],{"type":20,"value":1475},{"type":14,"tag":284,"props":3228,"children":3229},{"style":302},[3230],{"type":20,"value":2374},{"type":14,"tag":284,"props":3232,"children":3233},{"style":478},[3234],{"type":20,"value":2379},{"type":14,"tag":284,"props":3236,"children":3237},{"style":484},[3238],{"type":20,"value":942},{"type":14,"tag":284,"props":3240,"children":3241},{"style":291},[3242],{"type":20,"value":645},{"type":14,"tag":284,"props":3244,"children":3245},{"style":308},[3246],{"type":20,"value":655},{"type":14,"tag":284,"props":3248,"children":3249},{"class":286,"line":509},[3250,3254,3259,3264,3268,3272],{"type":14,"tag":284,"props":3251,"children":3252},{"style":291},[3253],{"type":20,"value":1475},{"type":14,"tag":284,"props":3255,"children":3256},{"style":302},[3257],{"type":20,"value":3258}," Configuration3",{"type":14,"tag":284,"props":3260,"children":3261},{"style":478},[3262],{"type":20,"value":3263}," _configuration3",{"type":14,"tag":284,"props":3265,"children":3266},{"style":484},[3267],{"type":20,"value":942},{"type":14,"tag":284,"props":3269,"children":3270},{"style":291},[3271],{"type":20,"value":645},{"type":14,"tag":284,"props":3273,"children":3274},{"style":308},[3275],{"type":20,"value":655},{"type":14,"tag":284,"props":3277,"children":3278},{"class":286,"line":658},[3279],{"type":14,"tag":284,"props":3280,"children":3281},{"emptyLinePlaceholder":696},[3282],{"type":20,"value":699},{"type":14,"tag":284,"props":3284,"children":3285},{"class":286,"line":683},[3286,3290,3294,3298,3302,3306,3310,3314,3318],{"type":14,"tag":284,"props":3287,"children":3288},{"style":291},[3289],{"type":20,"value":465},{"type":14,"tag":284,"props":3291,"children":3292},{"style":291},[3293],{"type":20,"value":470},{"type":14,"tag":284,"props":3295,"children":3296},{"style":302},[3297],{"type":20,"value":1520},{"type":14,"tag":284,"props":3299,"children":3300},{"style":610},[3301],{"type":20,"value":1525},{"type":14,"tag":284,"props":3303,"children":3304},{"style":308},[3305],{"type":20,"value":987},{"type":14,"tag":284,"props":3307,"children":3308},{"style":302},[3309],{"type":20,"value":1456},{"type":14,"tag":284,"props":3311,"children":3312},{"style":478},[3313],{"type":20,"value":1538},{"type":14,"tag":284,"props":3315,"children":3316},{"style":308},[3317],{"type":20,"value":1543},{"type":14,"tag":284,"props":3319,"children":3320},{"style":484},[3321],{"type":20,"value":1548},{"type":14,"tag":284,"props":3323,"children":3324},{"class":286,"line":692},[3325,3329,3333,3337],{"type":14,"tag":284,"props":3326,"children":3327},{"style":478},[3328],{"type":20,"value":1556},{"type":14,"tag":284,"props":3330,"children":3331},{"style":308},[3332],{"type":20,"value":272},{"type":14,"tag":284,"props":3334,"children":3335},{"style":610},[3336],{"type":20,"value":2828},{"type":14,"tag":284,"props":3338,"children":3339},{"style":308},[3340],{"type":20,"value":618},{"type":14,"tag":284,"props":3342,"children":3343},{"class":286,"line":702},[3344,3348,3352,3356,3360,3364,3368],{"type":14,"tag":284,"props":3345,"children":3346},{"style":308},[3347],{"type":20,"value":2840},{"type":14,"tag":284,"props":3349,"children":3350},{"style":610},[3351],{"type":20,"value":154},{"type":14,"tag":284,"props":3353,"children":3354},{"style":308},[3355],{"type":20,"value":987},{"type":14,"tag":284,"props":3357,"children":3358},{"style":478},[3359],{"type":20,"value":2461},{"type":14,"tag":284,"props":3361,"children":3362},{"style":308},[3363],{"type":20,"value":192},{"type":14,"tag":284,"props":3365,"children":3366},{"style":478},[3367],{"type":20,"value":2470},{"type":14,"tag":284,"props":3369,"children":3370},{"style":308},[3371],{"type":20,"value":1145},{"type":14,"tag":284,"props":3373,"children":3374},{"class":286,"line":733},[3375,3379,3383,3387,3392],{"type":14,"tag":284,"props":3376,"children":3377},{"style":308},[3378],{"type":20,"value":2840},{"type":14,"tag":284,"props":3380,"children":3381},{"style":610},[3382],{"type":20,"value":154},{"type":14,"tag":284,"props":3384,"children":3385},{"style":308},[3386],{"type":20,"value":987},{"type":14,"tag":284,"props":3388,"children":3389},{"style":478},[3390],{"type":20,"value":3391},"_configuration3",{"type":14,"tag":284,"props":3393,"children":3394},{"style":308},[3395],{"type":20,"value":1145},{"type":14,"tag":284,"props":3397,"children":3398},{"class":286,"line":761},[3399,3403,3407],{"type":14,"tag":284,"props":3400,"children":3401},{"style":308},[3402],{"type":20,"value":2840},{"type":14,"tag":284,"props":3404,"children":3405},{"style":610},[3406],{"type":20,"value":233},{"type":14,"tag":284,"props":3408,"children":3409},{"style":308},[3410],{"type":20,"value":618},{"type":14,"tag":284,"props":3412,"children":3413},{"class":286,"line":2151},[3414],{"type":14,"tag":284,"props":3415,"children":3416},{"style":308},[3417],{"type":20,"value":2902},{"type":14,"tag":284,"props":3419,"children":3420},{"class":286,"line":2187},[3421],{"type":14,"tag":284,"props":3422,"children":3423},{"style":308},[3424],{"type":20,"value":343},{"type":14,"tag":22,"props":3426,"children":3427},{},[3428],{"type":20,"value":3429},"This phase context will require two different actions;",{"type":14,"tag":95,"props":3431,"children":3432},{},[3433,3443],{"type":14,"tag":99,"props":3434,"children":3435},{},[3436,3438],{"type":20,"value":3437},"For the first two configuration objects: ",{"type":14,"tag":28,"props":3439,"children":3440},{"className":7},[3441],{"type":20,"value":3442},"(Configuration1 configuration1, Configuration2 configuration2)",{"type":14,"tag":99,"props":3444,"children":3445},{},[3446,3448,3453],{"type":20,"value":3447},"For the last configuration object: ",{"type":14,"tag":28,"props":3449,"children":3450},{"className":7},[3451],{"type":20,"value":3452},"(Configuration3 configuration3)",{"type":20,"value":272},{"type":14,"tag":3455,"props":3456,"children":3457},"style",{},[3458],{"type":20,"value":3459},"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":319,"depth":319,"links":3461},[3462,3463,3467,3472],{"id":85,"depth":319,"text":88},{"id":257,"depth":319,"text":260,"children":3464},[3465],{"id":367,"depth":328,"text":3466},"Id of a Layer",{"id":517,"depth":319,"text":520,"children":3468},[3469,3470,3471],{"id":807,"depth":328,"text":810},{"id":1031,"depth":328,"text":1034},{"id":1304,"depth":328,"text":1307},{"id":1402,"depth":319,"text":1405,"children":3473},[3474,3476,3477],{"id":1637,"depth":328,"text":3475},"Using non-generic LayerBase",{"id":1895,"depth":328,"text":1898},{"id":2264,"depth":328,"text":2267},"markdown","content:architecture:layer.md","content","architecture/layer.md","md",{},{"content-query-hBLt6OxXWy":3485},null,1706533107489,{"sectionStore":3488,"pageStore":3505},{"sections":3489},[3490,3493,3496,3499,3502],{"_path":3491,"_dir":7,"title":3492},"/blueprints/","Blueprints",{"_path":3494,"_dir":7,"title":3495},"/features/","Features",{"_path":3497,"_dir":7,"title":3498},"/layers/","Layers",{"_path":3500,"_dir":7,"title":3501},"/architecture/","Architecture",{"_path":3503,"_dir":7,"title":3504},"/release-notes/","Release Notes",{"pages":3506},[3507,3511,3513,3514],{"_path":3500,"title":3501,"pages":3508},[3509,17,3510],"application","feature",{"_path":3512,"title":65},"/architecture/application",{"_path":4,"title":8},{"_path":3515,"title":2650},"/architecture/feature"]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:false,h3:false,h4:false,h5:false,h6:false}}},baseURL:"/",githubURL:"/mouseless/do",content:{locales:[],defaultLocale:"",integrity:1706533095377,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"slack-dark",preload:["diff","ts","js","css","java","markdown","sql","xml","json","csharp","md","bash"]},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body>
</html>