<!DOCTYPE html><html  data-capo=""><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Layer</title>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
<link rel="stylesheet" type="text/css" href="https://brand.mouseless.codes/assets/css/default.css">
<link rel="stylesheet" href="/_nuxt/entry.r1NiT3Uo.css">
<link rel="stylesheet" href="/_nuxt/default.SuHowHi9.css">
<link rel="stylesheet" href="/_nuxt/Header.qFpqKbR9.css">
<link rel="stylesheet" href="/_nuxt/Side.CbCxvN1i.css">
<link rel="stylesheet" href="/_nuxt/Footer.ByNwmIyK.css">
<link rel="stylesheet" href="/_nuxt/_...DiHJ39y2.css">
<link rel="stylesheet" href="/_nuxt/BottomNavigation.CyL946Hp.css">
<link rel="stylesheet" href="/_nuxt/Toc.B7vAo0td.css">
<link rel="stylesheet" href="/_nuxt/ProseA.KOdrHyG9.css">
<link rel="stylesheet" href="/_nuxt/ProsePre.CchFRBtv.css">
<link rel="stylesheet" href="/_nuxt/ProseBlockquote.2WWftxDf.css">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DzrA8n9g.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BUwbsJr9.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CYY4qJMM.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CAazOjMi.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C733S48k.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DdX3FCiP.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BQ3ik6J_.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DoM0BCl-.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cssf7Bth.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BjwVFlzZ.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/of5sZTY8.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/8C0gRsju.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BnSrTpji.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BRMiWS4o.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C-v3KzvZ.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dnd51l0P.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/KM33hoV9.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ChcB7ooW.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/YYn7Ya4b.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/KKHKEYCI.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DGVYgHC_.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Bek45OQR.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/-drcbVX0.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/b04_jGjw.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BcE-jZix.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/B81ravb_.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C7rah1zz.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/LDcTujKZ.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BJv4EaOD.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C8qq0qvm.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CEwwskIr.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CBZ1kYh9.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BawjjFhV.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Djc2VM6r.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/RNkxj6d7.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BD9sP00h.js">
<link rel="prefetch" as="style" href="/_nuxt/error-404.CjGVuf6H.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/Cu1S24y-.js">
<link rel="prefetch" as="style" href="/_nuxt/error-500.DFBAsgKS.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/DvPEfW8Q.js">
<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Baked (Objects)">
<meta property="og:description" content="An opinionated framework for .NET">
<meta property="og:image" content="https://baked.mouseless.codes/favicon.ico">
<meta property="og:image:width" content="50">
<meta property="og:image:height" content="50">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<meta property="og:title" content="Layer">
<meta name="description" content="Each ILayer implementation represents an internal system component of the
software you develop. A layer provides application features with configuration
of this system component so that the features can bind domain objects and
system components together.">
<meta property="og:description" content="Each ILayer implementation represents an internal system component of the
software you develop. A layer provides application features with configuration
of this system component so that the features can bind domain objects and
system components together.">
<script type="module" src="/_nuxt/DzrA8n9g.js" crossorigin></script></head><body><div id="__nuxt"><!--[--><div class="top" data-v-43e4ab6d data-v-eb8c13b1><header data-v-eb8c13b1><div class="logo" data-v-eb8c13b1><a href="/" class="" data-v-eb8c13b1><img class="baked logo" data-v-eb8c13b1></a></div><!----><a class="bars" data-v-eb8c13b1><i class="fa-solid fa-bars" data-v-eb8c13b1></i></a><nav class="" data-v-eb8c13b1><a class="close" data-v-eb8c13b1><i class="fa-solid fa-close" data-v-eb8c13b1></i></a><!--[--><a href="/recipes/" class="" data-v-eb8c13b1>Recipes</a><a href="/features/" class="" data-v-eb8c13b1>Features</a><a href="/layers/" class="" data-v-eb8c13b1>Layers</a><a href="/architecture/" class="active" data-v-eb8c13b1>Architecture</a><a href="/release-notes/" class="" data-v-eb8c13b1>Release Notes</a><!--]--><a href="https://github.com/mouseless/baked" rel="noopener noreferrer" target="_blank" data-v-eb8c13b1><i class="fa-brands fa-github" data-v-eb8c13b1></i></a></nav></header></div><div class="content" data-v-43e4ab6d><nav class="side" data-v-43e4ab6d data-v-3a8dc5b3><h4 data-v-3a8dc5b3><a data-v-3a8dc5b3>Pages</a></h4><ul class="" data-v-3a8dc5b3><li data-v-3a8dc5b3><!--[--><!--]--></li></ul></nav><article data-v-43e4ab6d><!--[--><!--[--><div class="container" data-v-162c8372><div class="content" data-v-162c8372><div class="toc-root" data-v-162c8372><h1 id="layer"><!--[-->Layer<!--]--></h1><p><!--[-->Each <code class=""><!--[-->ILayer<!--]--></code> implementation represents an internal system component of the
software you develop. A layer provides application features with configuration
of this system component so that the features can bind domain objects and
system components together.<!--]--></p><p><!--[-->Let&#39;s take relational database as an example. A relational database is treated
as an internal system component and is introduced by the <code class=""><!--[-->DataAccessLayer<!--]--></code> along
with a configuration API. This API enables a feature to map your domain entities
to database tables.<!--]--></p><p><!--[-->Another good example is the <code class=""><!--[-->HttpServerLayer<!--]--></code>. This layer introduces the ASP.NET
Core framework into your application. It provides three phases, as mentioned in
<a href="/architecture/application" class="" data-v-af122455><!--[-->Application<!--]--><!----></a>, along with <code class=""><!--[-->IMiddlewareCollection<!--]--></code> and
<code class=""><!--[-->IEndpointRouteBuilder<!--]--></code> objects as its configuration API. This way, any feature
has the ability to use a middleware or add routes to the application.<!--]--></p><h2 id="conventions"><!--[-->Conventions<!--]--></h2><p><!--[-->For a consistent developer experience, follow below conventions when
implementing a new layer;<!--]--></p><ol><!--[--><li><!--[-->Place all layer related classes under the same folder named after layer,
e.g., <code class=""><!--[-->Runtime/<!--]--></code><!--]--></li><li><!--[-->Use <code class=""><!--[-->Layer<!--]--></code> suffix in layer class name, e.g.,
<code class=""><!--[-->Runtime/RuntimeLayer.cs<!--]--></code><!--]--></li><li><!--[-->Provide extension methods in <code class=""><!--[-->Baked<!--]--></code> namespace, e.g.,
<code class=""><!--[-->Runtime/RuntimeExtensions.cs<!--]--></code>;
<ol><!--[--><li><!--[--><code class=""><!--[-->Add<!--]--></code> extension to <code class=""><!--[-->List&lt;ILayer&gt;<!--]--></code>, e.g., <code class=""><!--[-->AddRuntime()<!--]--></code><!--]--></li><li><!--[--><code class=""><!--[-->Get<!--]--></code> extensions to <code class=""><!--[-->ApplicationContext<!--]--></code>, e.g.,
<code class=""><!--[-->GetWebApplicationBuilder()<!--]--></code>, <code class=""><!--[-->GetWebApplication()<!--]--></code><!--]--></li><li><!--[--><code class=""><!--[-->Configure<!--]--></code> extensions to <code class=""><!--[-->LayerConfigurator<!--]--></code> per configuration
target(s), e.g., <code class=""><!--[-->ConfigureServiceCollection()<!--]--></code><!--]--></li><!--]--></ol><!--]--></li><li><!--[-->Place phase implementations as nested classes under the layer class<!--]--></li><li><!--[-->Don&#39;t use any suffix for phases and use method-like names, e.g., <code class=""><!--[-->Build<!--]--></code> and
<code class=""><!--[-->Run<!--]--></code><!--]--></li><!--]--></ol><p><!--[-->Please refer to existing layers in <a href="https://github.com/mouseless/baked" rel="nofollow" target="_blank" class="external" data-v-af122455><!--[-->github.com/mouseless/baked<!--]--><i class="fa-solid fa-arrow-up-right-from-square" data-v-af122455></i></a> for examples.<!--]--></p><h2 id="creating-a-layer"><!--[-->Creating A Layer<!--]--></h2><p><!--[-->To create a layer, create a class using above conventions and extend
<code class=""><!--[-->LayerBase<!--]--></code>.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">    ...
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="tip" data-v-52748c37><i class="fa fa-lightbulb" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->You can directly implement provided interface <code class=""><!--[-->ILayer<!--]--></code>, however we&#39;ve created
some base classes to make it easier for you to create layers. All examples
demonstrate usage of these base classes.<!--]--></p><!--]--></div></blockquote><h3 id="id-of-a-layer"><!--[--><code class=""><!--[-->Id<!--]--></code> of a Layer<!--]--></h3><p><!--[--><code class=""><!--[-->ILayer<!--]--></code> has an <code class=""><!--[-->Id<!--]--></code> property which should be a unique per <code class=""><!--[-->Application<!--]--></code>
instance. <code class=""><!--[-->LayerBase<!--]--></code> sets the <code class=""><!--[-->Id<!--]--></code> as name of the concrete class e.g.,
<code class=""><!--[-->LayerX<!--]--></code> at above example.<!--]--></p><p><!--[-->You can override its value in layer implementation class as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> string</span><span style="--shiki-default:#9CDCFE"> Id</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#CE9178"> &quot;CustomUniqueId&quot;
</span></span><span class="line" line="4"><span style="--shiki-default:#D4D4D4">    ..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><h2 id="adding-phases"><!--[-->Adding Phases<!--]--></h2><p><!--[-->By default <code class=""><!--[-->LayerBase<!--]--></code> returns no phases. To add one or more phases into the
application, you need to override <code class=""><!--[-->GetPhases()<!--]--></code> method as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> SampleLayer</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> IEnumerable</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">IPhase</span><span style="--shiki-default:#E6E6E6">&gt; </span><span style="--shiki-default:#DCDCAA">GetPhases</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="5"><span style="--shiki-default:#C586C0">        yield</span><span style="--shiki-default:#C586C0"> return</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#4EC9B0"> DoA</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span style="--shiki-default:#C586C0">        yield</span><span style="--shiki-default:#C586C0"> return</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#4EC9B0"> DoB</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#569CD6">    public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> DoA</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6"> { ... }
</span></span><span class="line" line="10"><span style="--shiki-default:#569CD6">    public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> DoB</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6"> { ... }
</span></span><span class="line" line="11"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->Here <code class=""><!--[-->SampleLayer<!--]--></code> adds two phases, <code class=""><!--[-->DoA<!--]--></code> and <code class=""><!--[-->DoB<!--]--></code>, to the application.<!--]--></p><blockquote class="tip" data-v-52748c37><i class="fa fa-lightbulb" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->By convention place the phase implementations as a nested class in the layer
it is added.<!--]--></p><!--]--></div></blockquote><h3 id="initializing-a-phase"><!--[-->Initializing a Phase<!--]--></h3><p><!--[--><code class=""><!--[-->PhaseBase<!--]--></code> class has <code class=""><!--[-->Initialize()<!--]--></code> method to override so that it can add an
object to the application context via <code class=""><!--[-->Context<!--]--></code> property. Base <code class=""><!--[-->Initialize()<!--]--></code>
method does not add any objects to the application. Below, you can see how
<code class=""><!--[-->CreateBuilder<!--]--></code> phase adds <code class=""><!--[-->WebApplicationBuilder<!--]--></code> to the context;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> CreateBuilder</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Initialize</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">        var</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#9CDCFE"> WebApplication</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateBuilder</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">build</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="tip" data-v-52748c37><i class="fa fa-lightbulb" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->You can directly implement provided interface <code class=""><!--[-->IPhase<!--]--></code>, however we&#39;ve created
some base classes to make it easier for you to create phases. All examples
demonstrate usage of these base classes.<!--]--></p><!--]--></div></blockquote><h3 id="readiness-via-dependencies"><!--[-->Readiness via Dependencies<!--]--></h3><p><!--[-->You can define context dependencies via generic <code class=""><!--[-->PhaseBase&lt;&gt;<!--]--></code> classes to make
the phase wait until context is ready to provide that dependency. For example,
<code class=""><!--[-->Build<!--]--></code> depends on the <code class=""><!--[-->WebApplicationBuilder<!--]--></code> instance as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> Build</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">WebApplicationBuilder</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Initialize</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">WebApplicationBuilder</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">        var</span><span style="--shiki-default:#9CDCFE"> app</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Build</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">app</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[--><code class=""><!--[-->PhaseBase&lt;T&gt;<!--]--></code> class requires <code class=""><!--[-->Initialize(T t)<!--]--></code> method to be implemented.<!--]--></p><blockquote class="info" data-v-52748c37><i class="fa fa-circle-info" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->You can provide more than one dependency for a phase. E.g., <code class=""><!--[-->Phase&lt;X, Y&gt;<!--]--></code>
will require <code class=""><!--[-->Initialize(X x, Y y)<!--]--></code> method to be implemented.<!--]--></p><!--]--></div></blockquote><blockquote class="warning" data-v-52748c37><i class="fa fa-warning" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->Type of the dependency provided, must be exactly the same as the type of
dependency in <code class=""><!--[-->ApplicationContext<!--]--></code>. For more information
<a href="/architecture/application#running-an-application" class="" data-v-af122455><!--[-->Running an Application<!--]--><!----></a><!--]--></p><!--]--></div></blockquote><p><!--[-->Phases can also define context dependencies from other phase artifacts. For
example <code class=""><!--[-->HttpServerLayer.Build<!--]--></code> phase can require <code class=""><!--[-->IServiceCollection<!--]--></code> which
will be provided during <code class=""><!--[-->DependencyInjectionLayer.AddServices<!--]--></code> phase.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6A9955">// DependencyInjectionLayer
</span></span><span class="line" line="2"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> AddServices</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">IServiceCollection</span><span style="--shiki-default:#9CDCFE"> _services</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">    : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">PhaseOrder</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#4EC9B0">Early</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="4"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Initialize</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="6"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_services</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">}
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#6A9955">// HttpServerLayer
</span></span><span class="line" line="12"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> Build</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">    : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">WebApplicationBuilder</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#4EC9B0">IServiceCollection</span><span style="--shiki-default:#E6E6E6">&gt;(</span><span style="--shiki-default:#4EC9B0">PhaseOrder</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#4EC9B0">Latest</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="14"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="15"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Initialize</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">WebApplicationBuilder</span><span style="--shiki-default:#9CDCFE"> build</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#4EC9B0">IServiceCollection</span><span style="--shiki-default:#9CDCFE"> services</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="16"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="17"><span style="--shiki-default:#D4D4D4">        ..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="18"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="19"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="warning" data-v-52748c37><i class="fa fa-warning" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->This type of artifact requirement will create a dependency between phases
which results to a layer to layer dependency. In the above example <code class=""><!--[-->Build<!--]--></code>
phase will never execute unless <code class=""><!--[-->DependencyLayer<!--]--></code> is added to the application<!--]--></p><!--]--></div></blockquote><h3 id="order-of-a-phase"><!--[-->Order of a Phase<!--]--></h3><p><!--[--><code class=""><!--[-->PhaseBase<!--]--></code> classes has <code class=""><!--[-->order<!--]--></code> parameter in their constructors. Default order
is <code class=""><!--[-->PhaseOrder.Normal<!--]--></code>. If you need to change the order, pass the desired order
to this parameter as shown below;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> DoThisEarlyOn</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">    : </span><span style="--shiki-default:#4EC9B0">PhaseBase</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">PhaseOrder</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#4EC9B0">Early</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">{ }
</span></span></code><!--]--></pre><!--]--><h2 id="providing-configuration"><!--[-->Providing Configuration<!--]--></h2><p><!--[-->Layers provide configuration objects phase by phase. This means a layer can
provide two different configuration objects for two different phases. For this
reason, a layer returns <code class=""><!--[-->PhaseContext<!--]--></code> instance per phase to which it provides
configuration.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> LayerXConfiguration</span><span style="--shiki-default:#9CDCFE"> _configuration</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="6"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->In this example, you see a layer named <code class=""><!--[-->LayerX<!--]--></code> providing a
<code class=""><!--[-->LayerXConfiguration<!--]--></code> instance during <code class=""><!--[-->AddServices<!--]--></code> phase.<!--]--></p><blockquote class="info" data-v-52748c37><i class="fa fa-circle-info" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->By default, a layer returns <code class=""><!--[-->PhaseContext.Empty<!--]--></code> instance for the phases it
does not provide a configuration. This means <code class=""><!--[-->Application<!--]--></code> skips that layer
for the phases it doesn&#39;t have anything to configure.<!--]--></p><!--]--></div></blockquote><h3 id="using-non-generic-layerbase"><!--[-->Using non-generic <code class=""><!--[-->LayerBase<!--]--></code><!--]--></h3><p><!--[--><code class=""><!--[-->LayerBase&lt;&gt;<!--]--></code> classes allow up to three generic arguments. If you need to
implement a layer that has things to configure during more than three phases,
use non-generic <code class=""><!--[-->LayerBase<!--]--></code> class, override <code class=""><!--[-->GetContext(IPhase phase)<!--]--></code> method
and switch given phase according to its type;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> MyLayer</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">IPhase</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#C586C0"> switch
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">        {
</span></span><span class="line" line="6"><span style="--shiki-default:#4EC9B0">            PhaseA</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.),
</span></span><span class="line" line="7"><span style="--shiki-default:#4EC9B0">            PhaseB</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.),
</span></span><span class="line" line="8"><span style="--shiki-default:#569CD6">            _</span><span style="--shiki-default:#D4D4D4"> =&gt;</span><span style="--shiki-default:#569CD6"> base</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">phase</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">        };
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><h3 id="before-and-after-a-phase"><!--[-->Before and After a Phase<!--]--></h3><p><!--[-->Layers might need to do some standard stuff before and after a phase is applied
to all features for all layers. Use <code class=""><!--[-->GetContext()<!--]--></code> method to do stuff before,
and <code class=""><!--[-->onDispose:<!--]--></code> delegate to do stuff after.<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> LayerXConfiguration</span><span style="--shiki-default:#9CDCFE"> _configuration</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="6"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="7"><span style="--shiki-default:#569CD6">        var</span><span style="--shiki-default:#9CDCFE"> services</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#9CDCFE"> Context</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Get</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">IServiceCollection</span><span style="--shiki-default:#E6E6E6">&gt;();
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#9CDCFE">        services</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddStandardStuffBefore</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration</span><span style="--shiki-default:#E6E6E6">,
</span></span><span class="line" line="12"><span style="--shiki-default:#9CDCFE">            onDispose</span><span style="--shiki-default:#E6E6E6">: () </span><span style="--shiki-default:#D4D4D4">=&gt;</span><span style="--shiki-default:#9CDCFE"> services</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">AddStandardStuffAfter</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">        );
</span></span><span class="line" line="14"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="15"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="info" data-v-52748c37><i class="fa fa-circle-info" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[-->Notice that a layer has access to the <code class=""><!--[-->ApplicationContext<!--]--></code> instance through
<code class=""><!--[-->Context<!--]--></code> property provided in <code class=""><!--[-->LayerBase<!--]--></code> base class.<!--]--></p><!--]--></div></blockquote><blockquote class="warning" data-v-52748c37><i class="fa fa-warning" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[--><code class=""><!--[-->GetContext()<!--]--></code> method is called for every layer before applying any of them
to features. And <code class=""><!--[-->onDispose:<!--]--></code> actions are called after applying these
contexts to all features.<!--]--></p><!--]--></div></blockquote><h3 id="providing-multiple-targets"><!--[-->Providing Multiple Targets<!--]--></h3><p><!--[-->It is possible to provide up to three configuration objects for the same phase.
There are two ways of providing multiple targets; at once or one by one.<!--]--></p><h4 id="at-once"><!--[-->At Once<!--]--></h4><p><!--[-->Below code demonstrates providing two configuration objects at once;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration1</span><span style="--shiki-default:#9CDCFE"> _configuration1</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration2</span><span style="--shiki-default:#9CDCFE"> _configuration2</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration1</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#9CDCFE">_configuration2</span><span style="--shiki-default:#E6E6E6">);
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->This phase context will require an action with two parameter in a feature;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="2"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Configure</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">LayerConfigurator</span><span style="--shiki-default:#9CDCFE"> configurator</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">    configurator</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Configure</span><span style="--shiki-default:#E6E6E6">((</span><span style="--shiki-default:#4EC9B0">Configuration1</span><span style="--shiki-default:#9CDCFE"> configuration1</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#4EC9B0">Configuration2</span><span style="--shiki-default:#9CDCFE"> configuration2</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="6"><span style="--shiki-default:#6A9955">        // use both objects to configure
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">    });
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">}
</span></span><span class="line" line="9"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span></code><!--]--></pre><!--]--><p><!--[-->See <a href="/architecture/feature" class="" data-v-af122455><!--[-->Feature<!--]--><!----></a> for more information on using layer configurators
for features.<!--]--></p><h4 id="one-by-one"><!--[-->One by One<!--]--></h4><p><!--[-->Below code demonstrates providing configuration objects one by one;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration1</span><span style="--shiki-default:#9CDCFE"> _configuration1</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration2</span><span style="--shiki-default:#9CDCFE"> _configuration2</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContextBuilder</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="8"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration1</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration2</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Build</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="11"><span style="--shiki-default:#E6E6E6">        ;
</span></span><span class="line" line="12"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->This phase context will require two different actions in a feature;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span><span class="line" line="2"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> void</span><span style="--shiki-default:#DCDCAA"> Configure</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">LayerConfigurator</span><span style="--shiki-default:#9CDCFE"> configurator</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="3"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">    configurator</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Configure</span><span style="--shiki-default:#E6E6E6">((</span><span style="--shiki-default:#4EC9B0">Configuration1</span><span style="--shiki-default:#9CDCFE"> configuration1</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="6"><span style="--shiki-default:#6A9955">        // configure one by one
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">    });
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#9CDCFE">    configurator</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">Configure</span><span style="--shiki-default:#E6E6E6">((</span><span style="--shiki-default:#4EC9B0">Configuration2</span><span style="--shiki-default:#9CDCFE"> configuration2</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">    {
</span></span><span class="line" line="11"><span style="--shiki-default:#6A9955">        // configure one by one
</span></span><span class="line" line="12"><span style="--shiki-default:#E6E6E6">    });
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">}
</span></span><span class="line" line="14"><span style="--shiki-default:#D4D4D4">..</span><span style="--shiki-default:#E6E6E6">.
</span></span></code><!--]--></pre><!--]--><blockquote class="tip" data-v-52748c37><i class="fa fa-lightbulb" data-v-52748c37></i><div data-v-52748c37><!--[--><p><!--[--><code class=""><!--[-->phase.CreateContext()<!--]--></code> is a helper method that utilizes
<code class=""><!--[-->phase.CreateContextBuilder()<!--]--></code> behind the scenes.<!--]--></p><!--]--></div></blockquote><h4 id="using-in-combination"><!--[-->Using in Combination<!--]--></h4><p><!--[-->You may combine these two ways to provide configuration;<!--]--></p><!--[--><pre class="language-csharp shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">public</span><span style="--shiki-default:#569CD6"> class</span><span style="--shiki-default:#4EC9B0"> LayerX</span><span style="--shiki-default:#E6E6E6"> : </span><span style="--shiki-default:#4EC9B0">LayerBase</span><span style="--shiki-default:#E6E6E6">&lt;</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#E6E6E6">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration1</span><span style="--shiki-default:#9CDCFE"> _configuration1</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="4"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration2</span><span style="--shiki-default:#9CDCFE"> _configuration2</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    readonly</span><span style="--shiki-default:#4EC9B0"> Configuration3</span><span style="--shiki-default:#9CDCFE"> _configuration3</span><span style="--shiki-default:#D4D4D4"> =</span><span style="--shiki-default:#569CD6"> new</span><span style="--shiki-default:#E6E6E6">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#569CD6">    protected</span><span style="--shiki-default:#569CD6"> override</span><span style="--shiki-default:#4EC9B0"> PhaseContext</span><span style="--shiki-default:#DCDCAA"> GetContext</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#4EC9B0">AddServices</span><span style="--shiki-default:#9CDCFE"> phase</span><span style="--shiki-default:#E6E6E6">) </span><span style="--shiki-default:#D4D4D4">=&gt;
</span></span><span class="line" line="8"><span style="--shiki-default:#9CDCFE">        phase</span><span style="--shiki-default:#E6E6E6">.</span><span style="--shiki-default:#DCDCAA">CreateContextBuilder</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration1</span><span style="--shiki-default:#E6E6E6">, </span><span style="--shiki-default:#9CDCFE">_configuration2</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="10"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Add</span><span style="--shiki-default:#E6E6E6">(</span><span style="--shiki-default:#9CDCFE">_configuration3</span><span style="--shiki-default:#E6E6E6">)
</span></span><span class="line" line="11"><span style="--shiki-default:#E6E6E6">            .</span><span style="--shiki-default:#DCDCAA">Build</span><span style="--shiki-default:#E6E6E6">()
</span></span><span class="line" line="12"><span style="--shiki-default:#E6E6E6">        ;
</span></span><span class="line" line="13"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->This phase context will require two different actions;<!--]--></p><ol><!--[--><li><!--[-->For the first two configuration objects: <code class=""><!--[-->(Configuration1 configuration1, Configuration2 configuration2)<!--]--></code><!--]--></li><li><!--[-->For the last configuration object: <code class=""><!--[-->(Configuration3 configuration3)<!--]--></code>.<!--]--></li><!--]--></ol><style>html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></div><div class="navigation-buttons-container" data-v-162c8372 data-v-cb256488><div class="button left" data-v-cb256488><a href="/architecture/application" class="" data-v-cb256488><div class="link-text" data-v-cb256488><i class="fa-solid fa-caret-left" data-v-cb256488></i> Previous <h3 data-v-cb256488>Application</h3></div></a></div><div class="button right" data-v-cb256488><a href="/architecture/feature" class="" data-v-cb256488><div class="link-text" data-v-cb256488> Next <i class="fa-solid fa-caret-right" data-v-cb256488></i><h3 data-v-cb256488>Feature</h3></div></a></div></div></div><nav data-v-162c8372 data-v-39cd5078><h4 data-v-39cd5078><a data-v-39cd5078>On This Page</a></h4><ul class="" data-v-39cd5078><!--[--><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#conventions" class="router-link-active router-link-exact-active" data-v-39cd5078>Conventions</a><ul data-v-39cd5078><!--[--><!--]--></ul></li><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#creating-a-layer" class="router-link-active router-link-exact-active" data-v-39cd5078>Creating A Layer</a><ul data-v-39cd5078><!--[--><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#id-of-a-layer" class="router-link-active router-link-exact-active" data-v-39cd5078>Id of a Layer</a></li><!--]--></ul></li><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#adding-phases" class="router-link-active router-link-exact-active" data-v-39cd5078>Adding Phases</a><ul data-v-39cd5078><!--[--><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#initializing-a-phase" class="router-link-active router-link-exact-active" data-v-39cd5078>Initializing a Phase</a></li><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#readiness-via-dependencies" class="router-link-active router-link-exact-active" data-v-39cd5078>Readiness via Dependencies</a></li><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#order-of-a-phase" class="router-link-active router-link-exact-active" data-v-39cd5078>Order of a Phase</a></li><!--]--></ul></li><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#providing-configuration" class="router-link-active router-link-exact-active" data-v-39cd5078>Providing Configuration</a><ul data-v-39cd5078><!--[--><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#using-non-generic-layerbase" class="router-link-active router-link-exact-active" data-v-39cd5078>Using non-generic LayerBase</a></li><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#before-and-after-a-phase" class="router-link-active router-link-exact-active" data-v-39cd5078>Before and After a Phase</a></li><li data-v-39cd5078><a aria-current="page" href="/architecture/layer#providing-multiple-targets" class="router-link-active router-link-exact-active" data-v-39cd5078>Providing Multiple Targets</a></li><!--]--></ul></li><!--]--><li data-v-39cd5078><a class="return-to-top" href="#" data-v-39cd5078>Return to top</a></li></ul></nav></div><!--]--><!--]--></article></div><div class="bottom" data-v-43e4ab6d data-v-090171b9><footer data-v-090171b9><div class="logo" data-v-090171b9><a href="/" class="" data-v-090171b9><img class="baked logo mono" data-v-090171b9></a><span data-v-090171b9>Copyright (c) 2024 Mouseless - MIT License</span></div><nav data-v-090171b9><!--[--><a href="/recipes/" class="" data-v-090171b9>Recipes</a><a href="/features/" class="" data-v-090171b9>Features</a><a href="/layers/" class="" data-v-090171b9>Layers</a><a href="/architecture/" class="" data-v-090171b9>Architecture</a><a href="/release-notes/" class="" data-v-090171b9>Release Notes</a><!--]--><a href="https://github.com/mouseless/baked" rel="noopener noreferrer" target="_blank" data-v-090171b9><i class="fa-brands fa-github" data-v-090171b9></i> /mouseless/baked</a></nav></footer></div><!--]--></div><div id="teleports"></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true">[["ShallowReactive",1],{"data":2,"state":3976,"once":3978,"_errors":3979,"serverRendered":733,"path":5,"prerenderedAt":3982,"pinia":3983},["ShallowReactive",3],{"content-query-hBLt6OxXWy":4},{"_path":5,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":9,"description":10,"body":11,"_type":3970,"_id":3971,"_source":3972,"_file":3973,"_stem":3974,"_extension":3975},"/architecture/layer","architecture",false,"","Layer","Each ILayer implementation represents an internal system component of the\nsoftware you develop. A layer provides application features with configuration\nof this system component so that the features can bind domain objects and\nsystem components together.",{"type":12,"children":13,"toc":3952},"root",[14,22,37,50,88,95,100,263,278,284,297,368,392,405,451,456,550,556,576,804,833,848,854,903,1061,1082,1088,1115,1290,1309,1340,1369,1398,1739,1769,1775,1801,1867,1873,1886,2054,2080,2110,2121,2147,2372,2378,2399,2685,2721,2748,2754,2759,2766,2771,2968,2973,3125,3138,3144,3149,3395,3400,3594,3623,3629,3634,3915,3920,3946],{"type":15,"tag":16,"props":17,"children":19},"element","h1",{"id":18},"layer",[20],{"type":21,"value":9},"text",{"type":15,"tag":23,"props":24,"children":25},"p",{},[26,28,35],{"type":21,"value":27},"Each ",{"type":15,"tag":29,"props":30,"children":32},"code",{"className":31},[],[33],{"type":21,"value":34},"ILayer",{"type":21,"value":36}," implementation represents an internal system component of the\nsoftware you develop. A layer provides application features with configuration\nof this system component so that the features can bind domain objects and\nsystem components together.",{"type":15,"tag":23,"props":38,"children":39},{},[40,42,48],{"type":21,"value":41},"Let's take relational database as an example. A relational database is treated\nas an internal system component and is introduced by the ",{"type":15,"tag":29,"props":43,"children":45},{"className":44},[],[46],{"type":21,"value":47},"DataAccessLayer",{"type":21,"value":49}," along\nwith a configuration API. This API enables a feature to map your domain entities\nto database tables.",{"type":15,"tag":23,"props":51,"children":52},{},[53,55,61,63,70,72,78,80,86],{"type":21,"value":54},"Another good example is the ",{"type":15,"tag":29,"props":56,"children":58},{"className":57},[],[59],{"type":21,"value":60},"HttpServerLayer",{"type":21,"value":62},". This layer introduces the ASP.NET\nCore framework into your application. It provides three phases, as mentioned in\n",{"type":15,"tag":64,"props":65,"children":67},"a",{"href":66},"./application",[68],{"type":21,"value":69},"Application",{"type":21,"value":71},", along with ",{"type":15,"tag":29,"props":73,"children":75},{"className":74},[],[76],{"type":21,"value":77},"IMiddlewareCollection",{"type":21,"value":79}," and\n",{"type":15,"tag":29,"props":81,"children":83},{"className":82},[],[84],{"type":21,"value":85},"IEndpointRouteBuilder",{"type":21,"value":87}," objects as its configuration API. This way, any feature\nhas the ability to use a middleware or add routes to the application.",{"type":15,"tag":89,"props":90,"children":92},"h2",{"id":91},"conventions",[93],{"type":21,"value":94},"Conventions",{"type":15,"tag":23,"props":96,"children":97},{},[98],{"type":21,"value":99},"For a consistent developer experience, follow below conventions when\nimplementing a new layer;",{"type":15,"tag":101,"props":102,"children":103},"ol",{},[104,116,134,240,245],{"type":15,"tag":105,"props":106,"children":107},"li",{},[108,110],{"type":21,"value":109},"Place all layer related classes under the same folder named after layer,\ne.g., ",{"type":15,"tag":29,"props":111,"children":113},{"className":112},[],[114],{"type":21,"value":115},"Runtime/",{"type":15,"tag":105,"props":117,"children":118},{},[119,121,126,128],{"type":21,"value":120},"Use ",{"type":15,"tag":29,"props":122,"children":124},{"className":123},[],[125],{"type":21,"value":9},{"type":21,"value":127}," suffix in layer class name, e.g.,\n",{"type":15,"tag":29,"props":129,"children":131},{"className":130},[],[132],{"type":21,"value":133},"Runtime/RuntimeLayer.cs",{"type":15,"tag":105,"props":135,"children":136},{},[137,139,145,147,153,155],{"type":21,"value":138},"Provide extension methods in ",{"type":15,"tag":29,"props":140,"children":142},{"className":141},[],[143],{"type":21,"value":144},"Baked",{"type":21,"value":146}," namespace, e.g.,\n",{"type":15,"tag":29,"props":148,"children":150},{"className":149},[],[151],{"type":21,"value":152},"Runtime/RuntimeExtensions.cs",{"type":21,"value":154},";\n",{"type":15,"tag":101,"props":156,"children":157},{},[158,183,216],{"type":15,"tag":105,"props":159,"children":160},{},[161,167,169,175,177],{"type":15,"tag":29,"props":162,"children":164},{"className":163},[],[165],{"type":21,"value":166},"Add",{"type":21,"value":168}," extension to ",{"type":15,"tag":29,"props":170,"children":172},{"className":171},[],[173],{"type":21,"value":174},"List\u003CILayer>",{"type":21,"value":176},", e.g., ",{"type":15,"tag":29,"props":178,"children":180},{"className":179},[],[181],{"type":21,"value":182},"AddRuntime()",{"type":15,"tag":105,"props":184,"children":185},{},[186,192,194,200,202,208,210],{"type":15,"tag":29,"props":187,"children":189},{"className":188},[],[190],{"type":21,"value":191},"Get",{"type":21,"value":193}," extensions to ",{"type":15,"tag":29,"props":195,"children":197},{"className":196},[],[198],{"type":21,"value":199},"ApplicationContext",{"type":21,"value":201},", e.g.,\n",{"type":15,"tag":29,"props":203,"children":205},{"className":204},[],[206],{"type":21,"value":207},"GetWebApplicationBuilder()",{"type":21,"value":209},", ",{"type":15,"tag":29,"props":211,"children":213},{"className":212},[],[214],{"type":21,"value":215},"GetWebApplication()",{"type":15,"tag":105,"props":217,"children":218},{},[219,225,226,232,234],{"type":15,"tag":29,"props":220,"children":222},{"className":221},[],[223],{"type":21,"value":224},"Configure",{"type":21,"value":193},{"type":15,"tag":29,"props":227,"children":229},{"className":228},[],[230],{"type":21,"value":231},"LayerConfigurator",{"type":21,"value":233}," per configuration\ntarget(s), e.g., ",{"type":15,"tag":29,"props":235,"children":237},{"className":236},[],[238],{"type":21,"value":239},"ConfigureServiceCollection()",{"type":15,"tag":105,"props":241,"children":242},{},[243],{"type":21,"value":244},"Place phase implementations as nested classes under the layer class",{"type":15,"tag":105,"props":246,"children":247},{},[248,250,256,257],{"type":21,"value":249},"Don't use any suffix for phases and use method-like names, e.g., ",{"type":15,"tag":29,"props":251,"children":253},{"className":252},[],[254],{"type":21,"value":255},"Build",{"type":21,"value":79},{"type":15,"tag":29,"props":258,"children":260},{"className":259},[],[261],{"type":21,"value":262},"Run",{"type":15,"tag":23,"props":264,"children":265},{},[266,268,276],{"type":21,"value":267},"Please refer to existing layers in ",{"type":15,"tag":64,"props":269,"children":273},{"href":270,"rel":271},"https://github.com/mouseless/baked",[272],"nofollow",[274],{"type":21,"value":275},"github.com/mouseless/baked",{"type":21,"value":277}," for examples.",{"type":15,"tag":89,"props":279,"children":281},{"id":280},"creating-a-layer",[282],{"type":21,"value":283},"Creating A Layer",{"type":15,"tag":23,"props":285,"children":286},{},[287,289,295],{"type":21,"value":288},"To create a layer, create a class using above conventions and extend\n",{"type":15,"tag":29,"props":290,"children":292},{"className":291},[],[293],{"type":21,"value":294},"LayerBase",{"type":21,"value":296},".",{"type":15,"tag":298,"props":299,"children":303},"pre",{"className":300,"code":301,"language":302,"meta":8,"style":8},"language-csharp shiki shiki-themes slack-dark","public class LayerX : LayerBase\n{\n    ...\n}\n","csharp",[304],{"type":15,"tag":29,"props":305,"children":306},{"__ignoreMap":8},[307,341,350,359],{"type":15,"tag":308,"props":309,"children":312},"span",{"class":310,"line":311},"line",1,[313,319,324,330,336],{"type":15,"tag":308,"props":314,"children":316},{"style":315},"--shiki-default:#569CD6",[317],{"type":21,"value":318},"public",{"type":15,"tag":308,"props":320,"children":321},{"style":315},[322],{"type":21,"value":323}," class",{"type":15,"tag":308,"props":325,"children":327},{"style":326},"--shiki-default:#4EC9B0",[328],{"type":21,"value":329}," LayerX",{"type":15,"tag":308,"props":331,"children":333},{"style":332},"--shiki-default:#E6E6E6",[334],{"type":21,"value":335}," : ",{"type":15,"tag":308,"props":337,"children":338},{"style":326},[339],{"type":21,"value":340},"LayerBase\n",{"type":15,"tag":308,"props":342,"children":344},{"class":310,"line":343},2,[345],{"type":15,"tag":308,"props":346,"children":347},{"style":332},[348],{"type":21,"value":349},"{\n",{"type":15,"tag":308,"props":351,"children":353},{"class":310,"line":352},3,[354],{"type":15,"tag":308,"props":355,"children":356},{"style":332},[357],{"type":21,"value":358},"    ...\n",{"type":15,"tag":308,"props":360,"children":362},{"class":310,"line":361},4,[363],{"type":15,"tag":308,"props":364,"children":365},{"style":332},[366],{"type":21,"value":367},"}\n",{"type":15,"tag":369,"props":370,"children":371},"blockquote",{},[372,380],{"type":15,"tag":23,"props":373,"children":374},{},[375],{"type":15,"tag":308,"props":376,"children":377},{},[378],{"type":21,"value":379},"!TIP",{"type":15,"tag":23,"props":381,"children":382},{},[383,385,390],{"type":21,"value":384},"You can directly implement provided interface ",{"type":15,"tag":29,"props":386,"children":388},{"className":387},[],[389],{"type":21,"value":34},{"type":21,"value":391},", however we've created\nsome base classes to make it easier for you to create layers. All examples\ndemonstrate usage of these base classes.",{"type":15,"tag":393,"props":394,"children":396},"h3",{"id":395},"id-of-a-layer",[397,403],{"type":15,"tag":29,"props":398,"children":400},{"className":399},[],[401],{"type":21,"value":402},"Id",{"type":21,"value":404}," of a Layer",{"type":15,"tag":23,"props":406,"children":407},{},[408,413,415,420,422,427,429,434,436,441,443,449],{"type":15,"tag":29,"props":409,"children":411},{"className":410},[],[412],{"type":21,"value":34},{"type":21,"value":414}," has an ",{"type":15,"tag":29,"props":416,"children":418},{"className":417},[],[419],{"type":21,"value":402},{"type":21,"value":421}," property which should be a unique per ",{"type":15,"tag":29,"props":423,"children":425},{"className":424},[],[426],{"type":21,"value":69},{"type":21,"value":428},"\ninstance. ",{"type":15,"tag":29,"props":430,"children":432},{"className":431},[],[433],{"type":21,"value":294},{"type":21,"value":435}," sets the ",{"type":15,"tag":29,"props":437,"children":439},{"className":438},[],[440],{"type":21,"value":402},{"type":21,"value":442}," as name of the concrete class e.g.,\n",{"type":15,"tag":29,"props":444,"children":446},{"className":445},[],[447],{"type":21,"value":448},"LayerX",{"type":21,"value":450}," at above example.",{"type":15,"tag":23,"props":452,"children":453},{},[454],{"type":21,"value":455},"You can override its value in layer implementation class as shown below;",{"type":15,"tag":298,"props":457,"children":459},{"className":300,"code":458,"language":302,"meta":8,"style":8},"public class LayerX : LayerBase\n{\n    protected override string Id => \"CustomUniqueId\"\n    ...\n}\n",[460],{"type":15,"tag":29,"props":461,"children":462},{"__ignoreMap":8},[463,486,493,529,542],{"type":15,"tag":308,"props":464,"children":465},{"class":310,"line":311},[466,470,474,478,482],{"type":15,"tag":308,"props":467,"children":468},{"style":315},[469],{"type":21,"value":318},{"type":15,"tag":308,"props":471,"children":472},{"style":315},[473],{"type":21,"value":323},{"type":15,"tag":308,"props":475,"children":476},{"style":326},[477],{"type":21,"value":329},{"type":15,"tag":308,"props":479,"children":480},{"style":332},[481],{"type":21,"value":335},{"type":15,"tag":308,"props":483,"children":484},{"style":326},[485],{"type":21,"value":340},{"type":15,"tag":308,"props":487,"children":488},{"class":310,"line":343},[489],{"type":15,"tag":308,"props":490,"children":491},{"style":332},[492],{"type":21,"value":349},{"type":15,"tag":308,"props":494,"children":495},{"class":310,"line":352},[496,501,506,511,517,523],{"type":15,"tag":308,"props":497,"children":498},{"style":315},[499],{"type":21,"value":500},"    protected",{"type":15,"tag":308,"props":502,"children":503},{"style":315},[504],{"type":21,"value":505}," override",{"type":15,"tag":308,"props":507,"children":508},{"style":315},[509],{"type":21,"value":510}," string",{"type":15,"tag":308,"props":512,"children":514},{"style":513},"--shiki-default:#9CDCFE",[515],{"type":21,"value":516}," Id",{"type":15,"tag":308,"props":518,"children":520},{"style":519},"--shiki-default:#D4D4D4",[521],{"type":21,"value":522}," =>",{"type":15,"tag":308,"props":524,"children":526},{"style":525},"--shiki-default:#CE9178",[527],{"type":21,"value":528}," \"CustomUniqueId\"\n",{"type":15,"tag":308,"props":530,"children":531},{"class":310,"line":361},[532,537],{"type":15,"tag":308,"props":533,"children":534},{"style":519},[535],{"type":21,"value":536},"    ..",{"type":15,"tag":308,"props":538,"children":539},{"style":332},[540],{"type":21,"value":541},".\n",{"type":15,"tag":308,"props":543,"children":545},{"class":310,"line":544},5,[546],{"type":15,"tag":308,"props":547,"children":548},{"style":332},[549],{"type":21,"value":367},{"type":15,"tag":89,"props":551,"children":553},{"id":552},"adding-phases",[554],{"type":21,"value":555},"Adding Phases",{"type":15,"tag":23,"props":557,"children":558},{},[559,561,566,568,574],{"type":21,"value":560},"By default ",{"type":15,"tag":29,"props":562,"children":564},{"className":563},[],[565],{"type":21,"value":294},{"type":21,"value":567}," returns no phases. To add one or more phases into the\napplication, you need to override ",{"type":15,"tag":29,"props":569,"children":571},{"className":570},[],[572],{"type":21,"value":573},"GetPhases()",{"type":21,"value":575}," method as shown below;",{"type":15,"tag":298,"props":577,"children":579},{"className":300,"code":578,"language":302,"meta":8,"style":8},"public class SampleLayer : LayerBase\n{\n    protected override IEnumerable\u003CIPhase> GetPhases()\n    {\n        yield return new DoA();\n        yield return new DoB();\n    }\n\n    public class DoA : PhaseBase { ... }\n    public class DoB : PhaseBase { ... }\n}\n",[580],{"type":15,"tag":29,"props":581,"children":582},{"__ignoreMap":8},[583,607,614,656,664,693,718,727,737,768,796],{"type":15,"tag":308,"props":584,"children":585},{"class":310,"line":311},[586,590,594,599,603],{"type":15,"tag":308,"props":587,"children":588},{"style":315},[589],{"type":21,"value":318},{"type":15,"tag":308,"props":591,"children":592},{"style":315},[593],{"type":21,"value":323},{"type":15,"tag":308,"props":595,"children":596},{"style":326},[597],{"type":21,"value":598}," SampleLayer",{"type":15,"tag":308,"props":600,"children":601},{"style":332},[602],{"type":21,"value":335},{"type":15,"tag":308,"props":604,"children":605},{"style":326},[606],{"type":21,"value":340},{"type":15,"tag":308,"props":608,"children":609},{"class":310,"line":343},[610],{"type":15,"tag":308,"props":611,"children":612},{"style":332},[613],{"type":21,"value":349},{"type":15,"tag":308,"props":615,"children":616},{"class":310,"line":352},[617,621,625,630,635,640,645,651],{"type":15,"tag":308,"props":618,"children":619},{"style":315},[620],{"type":21,"value":500},{"type":15,"tag":308,"props":622,"children":623},{"style":315},[624],{"type":21,"value":505},{"type":15,"tag":308,"props":626,"children":627},{"style":326},[628],{"type":21,"value":629}," IEnumerable",{"type":15,"tag":308,"props":631,"children":632},{"style":332},[633],{"type":21,"value":634},"\u003C",{"type":15,"tag":308,"props":636,"children":637},{"style":326},[638],{"type":21,"value":639},"IPhase",{"type":15,"tag":308,"props":641,"children":642},{"style":332},[643],{"type":21,"value":644},"> ",{"type":15,"tag":308,"props":646,"children":648},{"style":647},"--shiki-default:#DCDCAA",[649],{"type":21,"value":650},"GetPhases",{"type":15,"tag":308,"props":652,"children":653},{"style":332},[654],{"type":21,"value":655},"()\n",{"type":15,"tag":308,"props":657,"children":658},{"class":310,"line":361},[659],{"type":15,"tag":308,"props":660,"children":661},{"style":332},[662],{"type":21,"value":663},"    {\n",{"type":15,"tag":308,"props":665,"children":666},{"class":310,"line":544},[667,673,678,683,688],{"type":15,"tag":308,"props":668,"children":670},{"style":669},"--shiki-default:#C586C0",[671],{"type":21,"value":672},"        yield",{"type":15,"tag":308,"props":674,"children":675},{"style":669},[676],{"type":21,"value":677}," return",{"type":15,"tag":308,"props":679,"children":680},{"style":315},[681],{"type":21,"value":682}," new",{"type":15,"tag":308,"props":684,"children":685},{"style":326},[686],{"type":21,"value":687}," DoA",{"type":15,"tag":308,"props":689,"children":690},{"style":332},[691],{"type":21,"value":692},"();\n",{"type":15,"tag":308,"props":694,"children":696},{"class":310,"line":695},6,[697,701,705,709,714],{"type":15,"tag":308,"props":698,"children":699},{"style":669},[700],{"type":21,"value":672},{"type":15,"tag":308,"props":702,"children":703},{"style":669},[704],{"type":21,"value":677},{"type":15,"tag":308,"props":706,"children":707},{"style":315},[708],{"type":21,"value":682},{"type":15,"tag":308,"props":710,"children":711},{"style":326},[712],{"type":21,"value":713}," DoB",{"type":15,"tag":308,"props":715,"children":716},{"style":332},[717],{"type":21,"value":692},{"type":15,"tag":308,"props":719,"children":721},{"class":310,"line":720},7,[722],{"type":15,"tag":308,"props":723,"children":724},{"style":332},[725],{"type":21,"value":726},"    }\n",{"type":15,"tag":308,"props":728,"children":730},{"class":310,"line":729},8,[731],{"type":15,"tag":308,"props":732,"children":734},{"emptyLinePlaceholder":733},true,[735],{"type":21,"value":736},"\n",{"type":15,"tag":308,"props":738,"children":740},{"class":310,"line":739},9,[741,746,750,754,758,763],{"type":15,"tag":308,"props":742,"children":743},{"style":315},[744],{"type":21,"value":745},"    public",{"type":15,"tag":308,"props":747,"children":748},{"style":315},[749],{"type":21,"value":323},{"type":15,"tag":308,"props":751,"children":752},{"style":326},[753],{"type":21,"value":687},{"type":15,"tag":308,"props":755,"children":756},{"style":332},[757],{"type":21,"value":335},{"type":15,"tag":308,"props":759,"children":760},{"style":326},[761],{"type":21,"value":762},"PhaseBase",{"type":15,"tag":308,"props":764,"children":765},{"style":332},[766],{"type":21,"value":767}," { ... }\n",{"type":15,"tag":308,"props":769,"children":771},{"class":310,"line":770},10,[772,776,780,784,788,792],{"type":15,"tag":308,"props":773,"children":774},{"style":315},[775],{"type":21,"value":745},{"type":15,"tag":308,"props":777,"children":778},{"style":315},[779],{"type":21,"value":323},{"type":15,"tag":308,"props":781,"children":782},{"style":326},[783],{"type":21,"value":713},{"type":15,"tag":308,"props":785,"children":786},{"style":332},[787],{"type":21,"value":335},{"type":15,"tag":308,"props":789,"children":790},{"style":326},[791],{"type":21,"value":762},{"type":15,"tag":308,"props":793,"children":794},{"style":332},[795],{"type":21,"value":767},{"type":15,"tag":308,"props":797,"children":799},{"class":310,"line":798},11,[800],{"type":15,"tag":308,"props":801,"children":802},{"style":332},[803],{"type":21,"value":367},{"type":15,"tag":23,"props":805,"children":806},{},[807,809,815,817,823,825,831],{"type":21,"value":808},"Here ",{"type":15,"tag":29,"props":810,"children":812},{"className":811},[],[813],{"type":21,"value":814},"SampleLayer",{"type":21,"value":816}," adds two phases, ",{"type":15,"tag":29,"props":818,"children":820},{"className":819},[],[821],{"type":21,"value":822},"DoA",{"type":21,"value":824}," and ",{"type":15,"tag":29,"props":826,"children":828},{"className":827},[],[829],{"type":21,"value":830},"DoB",{"type":21,"value":832},", to the application.",{"type":15,"tag":369,"props":834,"children":835},{},[836,843],{"type":15,"tag":23,"props":837,"children":838},{},[839],{"type":15,"tag":308,"props":840,"children":841},{},[842],{"type":21,"value":379},{"type":15,"tag":23,"props":844,"children":845},{},[846],{"type":21,"value":847},"By convention place the phase implementations as a nested class in the layer\nit is added.",{"type":15,"tag":393,"props":849,"children":851},{"id":850},"initializing-a-phase",[852],{"type":21,"value":853},"Initializing a Phase",{"type":15,"tag":23,"props":855,"children":856},{},[857,862,864,870,872,878,880,885,887,893,895,901],{"type":15,"tag":29,"props":858,"children":860},{"className":859},[],[861],{"type":21,"value":762},{"type":21,"value":863}," class has ",{"type":15,"tag":29,"props":865,"children":867},{"className":866},[],[868],{"type":21,"value":869},"Initialize()",{"type":21,"value":871}," method to override so that it can add an\nobject to the application context via ",{"type":15,"tag":29,"props":873,"children":875},{"className":874},[],[876],{"type":21,"value":877},"Context",{"type":21,"value":879}," property. Base ",{"type":15,"tag":29,"props":881,"children":883},{"className":882},[],[884],{"type":21,"value":869},{"type":21,"value":886},"\nmethod does not add any objects to the application. Below, you can see how\n",{"type":15,"tag":29,"props":888,"children":890},{"className":889},[],[891],{"type":21,"value":892},"CreateBuilder",{"type":21,"value":894}," phase adds ",{"type":15,"tag":29,"props":896,"children":898},{"className":897},[],[899],{"type":21,"value":900},"WebApplicationBuilder",{"type":21,"value":902}," to the context;",{"type":15,"tag":298,"props":904,"children":906},{"className":300,"code":905,"language":302,"meta":8,"style":8},"public class CreateBuilder : PhaseBase\n{\n    protected override void Initialize()\n    {\n        var build = WebApplication.CreateBuilder();\n\n        Context.Add(build);\n    }\n}\n",[907],{"type":15,"tag":29,"props":908,"children":909},{"__ignoreMap":8},[910,935,942,967,974,1009,1016,1047,1054],{"type":15,"tag":308,"props":911,"children":912},{"class":310,"line":311},[913,917,921,926,930],{"type":15,"tag":308,"props":914,"children":915},{"style":315},[916],{"type":21,"value":318},{"type":15,"tag":308,"props":918,"children":919},{"style":315},[920],{"type":21,"value":323},{"type":15,"tag":308,"props":922,"children":923},{"style":326},[924],{"type":21,"value":925}," CreateBuilder",{"type":15,"tag":308,"props":927,"children":928},{"style":332},[929],{"type":21,"value":335},{"type":15,"tag":308,"props":931,"children":932},{"style":326},[933],{"type":21,"value":934},"PhaseBase\n",{"type":15,"tag":308,"props":936,"children":937},{"class":310,"line":343},[938],{"type":15,"tag":308,"props":939,"children":940},{"style":332},[941],{"type":21,"value":349},{"type":15,"tag":308,"props":943,"children":944},{"class":310,"line":352},[945,949,953,958,963],{"type":15,"tag":308,"props":946,"children":947},{"style":315},[948],{"type":21,"value":500},{"type":15,"tag":308,"props":950,"children":951},{"style":315},[952],{"type":21,"value":505},{"type":15,"tag":308,"props":954,"children":955},{"style":315},[956],{"type":21,"value":957}," void",{"type":15,"tag":308,"props":959,"children":960},{"style":647},[961],{"type":21,"value":962}," Initialize",{"type":15,"tag":308,"props":964,"children":965},{"style":332},[966],{"type":21,"value":655},{"type":15,"tag":308,"props":968,"children":969},{"class":310,"line":361},[970],{"type":15,"tag":308,"props":971,"children":972},{"style":332},[973],{"type":21,"value":663},{"type":15,"tag":308,"props":975,"children":976},{"class":310,"line":544},[977,982,987,992,997,1001,1005],{"type":15,"tag":308,"props":978,"children":979},{"style":315},[980],{"type":21,"value":981},"        var",{"type":15,"tag":308,"props":983,"children":984},{"style":513},[985],{"type":21,"value":986}," build",{"type":15,"tag":308,"props":988,"children":989},{"style":519},[990],{"type":21,"value":991}," =",{"type":15,"tag":308,"props":993,"children":994},{"style":513},[995],{"type":21,"value":996}," WebApplication",{"type":15,"tag":308,"props":998,"children":999},{"style":332},[1000],{"type":21,"value":296},{"type":15,"tag":308,"props":1002,"children":1003},{"style":647},[1004],{"type":21,"value":892},{"type":15,"tag":308,"props":1006,"children":1007},{"style":332},[1008],{"type":21,"value":692},{"type":15,"tag":308,"props":1010,"children":1011},{"class":310,"line":695},[1012],{"type":15,"tag":308,"props":1013,"children":1014},{"emptyLinePlaceholder":733},[1015],{"type":21,"value":736},{"type":15,"tag":308,"props":1017,"children":1018},{"class":310,"line":720},[1019,1024,1028,1032,1037,1042],{"type":15,"tag":308,"props":1020,"children":1021},{"style":513},[1022],{"type":21,"value":1023},"        Context",{"type":15,"tag":308,"props":1025,"children":1026},{"style":332},[1027],{"type":21,"value":296},{"type":15,"tag":308,"props":1029,"children":1030},{"style":647},[1031],{"type":21,"value":166},{"type":15,"tag":308,"props":1033,"children":1034},{"style":332},[1035],{"type":21,"value":1036},"(",{"type":15,"tag":308,"props":1038,"children":1039},{"style":513},[1040],{"type":21,"value":1041},"build",{"type":15,"tag":308,"props":1043,"children":1044},{"style":332},[1045],{"type":21,"value":1046},");\n",{"type":15,"tag":308,"props":1048,"children":1049},{"class":310,"line":729},[1050],{"type":15,"tag":308,"props":1051,"children":1052},{"style":332},[1053],{"type":21,"value":726},{"type":15,"tag":308,"props":1055,"children":1056},{"class":310,"line":739},[1057],{"type":15,"tag":308,"props":1058,"children":1059},{"style":332},[1060],{"type":21,"value":367},{"type":15,"tag":369,"props":1062,"children":1063},{},[1064,1071],{"type":15,"tag":23,"props":1065,"children":1066},{},[1067],{"type":15,"tag":308,"props":1068,"children":1069},{},[1070],{"type":21,"value":379},{"type":15,"tag":23,"props":1072,"children":1073},{},[1074,1075,1080],{"type":21,"value":384},{"type":15,"tag":29,"props":1076,"children":1078},{"className":1077},[],[1079],{"type":21,"value":639},{"type":21,"value":1081},", however we've created\nsome base classes to make it easier for you to create phases. All examples\ndemonstrate usage of these base classes.",{"type":15,"tag":393,"props":1083,"children":1085},{"id":1084},"readiness-via-dependencies",[1086],{"type":21,"value":1087},"Readiness via Dependencies",{"type":15,"tag":23,"props":1089,"children":1090},{},[1091,1093,1099,1101,1106,1108,1113],{"type":21,"value":1092},"You can define context dependencies via generic ",{"type":15,"tag":29,"props":1094,"children":1096},{"className":1095},[],[1097],{"type":21,"value":1098},"PhaseBase\u003C>",{"type":21,"value":1100}," classes to make\nthe phase wait until context is ready to provide that dependency. For example,\n",{"type":15,"tag":29,"props":1102,"children":1104},{"className":1103},[],[1105],{"type":21,"value":255},{"type":21,"value":1107}," depends on the ",{"type":15,"tag":29,"props":1109,"children":1111},{"className":1110},[],[1112],{"type":21,"value":900},{"type":21,"value":1114}," instance as shown below;",{"type":15,"tag":298,"props":1116,"children":1118},{"className":300,"code":1117,"language":302,"meta":8,"style":8},"public class Build : PhaseBase\u003CWebApplicationBuilder>\n{\n    protected override void Initialize(WebApplicationBuilder build)\n    {\n        var app = build.Build();\n\n        Context.Add(app);\n    }\n}\n",[1119],{"type":15,"tag":29,"props":1120,"children":1121},{"__ignoreMap":8},[1122,1159,1166,1202,1209,1241,1248,1276,1283],{"type":15,"tag":308,"props":1123,"children":1124},{"class":310,"line":311},[1125,1129,1133,1138,1142,1146,1150,1154],{"type":15,"tag":308,"props":1126,"children":1127},{"style":315},[1128],{"type":21,"value":318},{"type":15,"tag":308,"props":1130,"children":1131},{"style":315},[1132],{"type":21,"value":323},{"type":15,"tag":308,"props":1134,"children":1135},{"style":326},[1136],{"type":21,"value":1137}," Build",{"type":15,"tag":308,"props":1139,"children":1140},{"style":332},[1141],{"type":21,"value":335},{"type":15,"tag":308,"props":1143,"children":1144},{"style":326},[1145],{"type":21,"value":762},{"type":15,"tag":308,"props":1147,"children":1148},{"style":332},[1149],{"type":21,"value":634},{"type":15,"tag":308,"props":1151,"children":1152},{"style":326},[1153],{"type":21,"value":900},{"type":15,"tag":308,"props":1155,"children":1156},{"style":332},[1157],{"type":21,"value":1158},">\n",{"type":15,"tag":308,"props":1160,"children":1161},{"class":310,"line":343},[1162],{"type":15,"tag":308,"props":1163,"children":1164},{"style":332},[1165],{"type":21,"value":349},{"type":15,"tag":308,"props":1167,"children":1168},{"class":310,"line":352},[1169,1173,1177,1181,1185,1189,1193,1197],{"type":15,"tag":308,"props":1170,"children":1171},{"style":315},[1172],{"type":21,"value":500},{"type":15,"tag":308,"props":1174,"children":1175},{"style":315},[1176],{"type":21,"value":505},{"type":15,"tag":308,"props":1178,"children":1179},{"style":315},[1180],{"type":21,"value":957},{"type":15,"tag":308,"props":1182,"children":1183},{"style":647},[1184],{"type":21,"value":962},{"type":15,"tag":308,"props":1186,"children":1187},{"style":332},[1188],{"type":21,"value":1036},{"type":15,"tag":308,"props":1190,"children":1191},{"style":326},[1192],{"type":21,"value":900},{"type":15,"tag":308,"props":1194,"children":1195},{"style":513},[1196],{"type":21,"value":986},{"type":15,"tag":308,"props":1198,"children":1199},{"style":332},[1200],{"type":21,"value":1201},")\n",{"type":15,"tag":308,"props":1203,"children":1204},{"class":310,"line":361},[1205],{"type":15,"tag":308,"props":1206,"children":1207},{"style":332},[1208],{"type":21,"value":663},{"type":15,"tag":308,"props":1210,"children":1211},{"class":310,"line":544},[1212,1216,1221,1225,1229,1233,1237],{"type":15,"tag":308,"props":1213,"children":1214},{"style":315},[1215],{"type":21,"value":981},{"type":15,"tag":308,"props":1217,"children":1218},{"style":513},[1219],{"type":21,"value":1220}," app",{"type":15,"tag":308,"props":1222,"children":1223},{"style":519},[1224],{"type":21,"value":991},{"type":15,"tag":308,"props":1226,"children":1227},{"style":513},[1228],{"type":21,"value":986},{"type":15,"tag":308,"props":1230,"children":1231},{"style":332},[1232],{"type":21,"value":296},{"type":15,"tag":308,"props":1234,"children":1235},{"style":647},[1236],{"type":21,"value":255},{"type":15,"tag":308,"props":1238,"children":1239},{"style":332},[1240],{"type":21,"value":692},{"type":15,"tag":308,"props":1242,"children":1243},{"class":310,"line":695},[1244],{"type":15,"tag":308,"props":1245,"children":1246},{"emptyLinePlaceholder":733},[1247],{"type":21,"value":736},{"type":15,"tag":308,"props":1249,"children":1250},{"class":310,"line":720},[1251,1255,1259,1263,1267,1272],{"type":15,"tag":308,"props":1252,"children":1253},{"style":513},[1254],{"type":21,"value":1023},{"type":15,"tag":308,"props":1256,"children":1257},{"style":332},[1258],{"type":21,"value":296},{"type":15,"tag":308,"props":1260,"children":1261},{"style":647},[1262],{"type":21,"value":166},{"type":15,"tag":308,"props":1264,"children":1265},{"style":332},[1266],{"type":21,"value":1036},{"type":15,"tag":308,"props":1268,"children":1269},{"style":513},[1270],{"type":21,"value":1271},"app",{"type":15,"tag":308,"props":1273,"children":1274},{"style":332},[1275],{"type":21,"value":1046},{"type":15,"tag":308,"props":1277,"children":1278},{"class":310,"line":729},[1279],{"type":15,"tag":308,"props":1280,"children":1281},{"style":332},[1282],{"type":21,"value":726},{"type":15,"tag":308,"props":1284,"children":1285},{"class":310,"line":739},[1286],{"type":15,"tag":308,"props":1287,"children":1288},{"style":332},[1289],{"type":21,"value":367},{"type":15,"tag":23,"props":1291,"children":1292},{},[1293,1299,1301,1307],{"type":15,"tag":29,"props":1294,"children":1296},{"className":1295},[],[1297],{"type":21,"value":1298},"PhaseBase\u003CT>",{"type":21,"value":1300}," class requires ",{"type":15,"tag":29,"props":1302,"children":1304},{"className":1303},[],[1305],{"type":21,"value":1306},"Initialize(T t)",{"type":21,"value":1308}," method to be implemented.",{"type":15,"tag":369,"props":1310,"children":1311},{},[1312,1320],{"type":15,"tag":23,"props":1313,"children":1314},{},[1315],{"type":15,"tag":308,"props":1316,"children":1317},{},[1318],{"type":21,"value":1319},"!NOTE",{"type":15,"tag":23,"props":1321,"children":1322},{},[1323,1325,1331,1333,1339],{"type":21,"value":1324},"You can provide more than one dependency for a phase. E.g., ",{"type":15,"tag":29,"props":1326,"children":1328},{"className":1327},[],[1329],{"type":21,"value":1330},"Phase\u003CX, Y>",{"type":21,"value":1332},"\nwill require ",{"type":15,"tag":29,"props":1334,"children":1336},{"className":1335},[],[1337],{"type":21,"value":1338},"Initialize(X x, Y y)",{"type":21,"value":1308},{"type":15,"tag":369,"props":1341,"children":1342},{},[1343,1351],{"type":15,"tag":23,"props":1344,"children":1345},{},[1346],{"type":15,"tag":308,"props":1347,"children":1348},{},[1349],{"type":21,"value":1350},"!WARNING",{"type":15,"tag":23,"props":1352,"children":1353},{},[1354,1356,1361,1363],{"type":21,"value":1355},"Type of the dependency provided, must be exactly the same as the type of\ndependency in ",{"type":15,"tag":29,"props":1357,"children":1359},{"className":1358},[],[1360],{"type":21,"value":199},{"type":21,"value":1362},". For more information\n",{"type":15,"tag":64,"props":1364,"children":1366},{"href":1365},"../architecture/application#running-an-application",[1367],{"type":21,"value":1368},"Running an Application",{"type":15,"tag":23,"props":1370,"children":1371},{},[1372,1374,1380,1382,1388,1390,1396],{"type":21,"value":1373},"Phases can also define context dependencies from other phase artifacts. For\nexample ",{"type":15,"tag":29,"props":1375,"children":1377},{"className":1376},[],[1378],{"type":21,"value":1379},"HttpServerLayer.Build",{"type":21,"value":1381}," phase can require ",{"type":15,"tag":29,"props":1383,"children":1385},{"className":1384},[],[1386],{"type":21,"value":1387},"IServiceCollection",{"type":21,"value":1389}," which\nwill be provided during ",{"type":15,"tag":29,"props":1391,"children":1393},{"className":1392},[],[1394],{"type":21,"value":1395},"DependencyInjectionLayer.AddServices",{"type":21,"value":1397}," phase.",{"type":15,"tag":298,"props":1399,"children":1401},{"className":300,"code":1400,"language":302,"meta":8,"style":8},"// DependencyInjectionLayer\npublic class AddServices(IServiceCollection _services)\n    : PhaseBase(PhaseOrder.Early)\n{\n    protected override void Initialize()\n    {\n        Context.Add(_services);\n    }\n}\n\n// HttpServerLayer\npublic class Build()\n    : PhaseBase\u003CWebApplicationBuilder, IServiceCollection>(PhaseOrder.Latest)\n{\n    protected override void Initialize(WebApplicationBuilder build, IServiceCollection services)\n    {\n        ...\n    }\n}\n",[1402],{"type":15,"tag":29,"props":1403,"children":1404},{"__ignoreMap":8},[1405,1414,1447,1481,1488,1511,1518,1546,1553,1560,1567,1575,1595,1645,1653,1702,1710,1723,1731],{"type":15,"tag":308,"props":1406,"children":1407},{"class":310,"line":311},[1408],{"type":15,"tag":308,"props":1409,"children":1411},{"style":1410},"--shiki-default:#6A9955",[1412],{"type":21,"value":1413},"// DependencyInjectionLayer\n",{"type":15,"tag":308,"props":1415,"children":1416},{"class":310,"line":343},[1417,1421,1425,1430,1434,1438,1443],{"type":15,"tag":308,"props":1418,"children":1419},{"style":315},[1420],{"type":21,"value":318},{"type":15,"tag":308,"props":1422,"children":1423},{"style":315},[1424],{"type":21,"value":323},{"type":15,"tag":308,"props":1426,"children":1427},{"style":326},[1428],{"type":21,"value":1429}," AddServices",{"type":15,"tag":308,"props":1431,"children":1432},{"style":332},[1433],{"type":21,"value":1036},{"type":15,"tag":308,"props":1435,"children":1436},{"style":326},[1437],{"type":21,"value":1387},{"type":15,"tag":308,"props":1439,"children":1440},{"style":513},[1441],{"type":21,"value":1442}," _services",{"type":15,"tag":308,"props":1444,"children":1445},{"style":332},[1446],{"type":21,"value":1201},{"type":15,"tag":308,"props":1448,"children":1449},{"class":310,"line":352},[1450,1455,1459,1463,1468,1472,1477],{"type":15,"tag":308,"props":1451,"children":1452},{"style":332},[1453],{"type":21,"value":1454},"    : ",{"type":15,"tag":308,"props":1456,"children":1457},{"style":326},[1458],{"type":21,"value":762},{"type":15,"tag":308,"props":1460,"children":1461},{"style":332},[1462],{"type":21,"value":1036},{"type":15,"tag":308,"props":1464,"children":1465},{"style":326},[1466],{"type":21,"value":1467},"PhaseOrder",{"type":15,"tag":308,"props":1469,"children":1470},{"style":332},[1471],{"type":21,"value":296},{"type":15,"tag":308,"props":1473,"children":1474},{"style":326},[1475],{"type":21,"value":1476},"Early",{"type":15,"tag":308,"props":1478,"children":1479},{"style":332},[1480],{"type":21,"value":1201},{"type":15,"tag":308,"props":1482,"children":1483},{"class":310,"line":361},[1484],{"type":15,"tag":308,"props":1485,"children":1486},{"style":332},[1487],{"type":21,"value":349},{"type":15,"tag":308,"props":1489,"children":1490},{"class":310,"line":544},[1491,1495,1499,1503,1507],{"type":15,"tag":308,"props":1492,"children":1493},{"style":315},[1494],{"type":21,"value":500},{"type":15,"tag":308,"props":1496,"children":1497},{"style":315},[1498],{"type":21,"value":505},{"type":15,"tag":308,"props":1500,"children":1501},{"style":315},[1502],{"type":21,"value":957},{"type":15,"tag":308,"props":1504,"children":1505},{"style":647},[1506],{"type":21,"value":962},{"type":15,"tag":308,"props":1508,"children":1509},{"style":332},[1510],{"type":21,"value":655},{"type":15,"tag":308,"props":1512,"children":1513},{"class":310,"line":695},[1514],{"type":15,"tag":308,"props":1515,"children":1516},{"style":332},[1517],{"type":21,"value":663},{"type":15,"tag":308,"props":1519,"children":1520},{"class":310,"line":720},[1521,1525,1529,1533,1537,1542],{"type":15,"tag":308,"props":1522,"children":1523},{"style":513},[1524],{"type":21,"value":1023},{"type":15,"tag":308,"props":1526,"children":1527},{"style":332},[1528],{"type":21,"value":296},{"type":15,"tag":308,"props":1530,"children":1531},{"style":647},[1532],{"type":21,"value":166},{"type":15,"tag":308,"props":1534,"children":1535},{"style":332},[1536],{"type":21,"value":1036},{"type":15,"tag":308,"props":1538,"children":1539},{"style":513},[1540],{"type":21,"value":1541},"_services",{"type":15,"tag":308,"props":1543,"children":1544},{"style":332},[1545],{"type":21,"value":1046},{"type":15,"tag":308,"props":1547,"children":1548},{"class":310,"line":729},[1549],{"type":15,"tag":308,"props":1550,"children":1551},{"style":332},[1552],{"type":21,"value":726},{"type":15,"tag":308,"props":1554,"children":1555},{"class":310,"line":739},[1556],{"type":15,"tag":308,"props":1557,"children":1558},{"style":332},[1559],{"type":21,"value":367},{"type":15,"tag":308,"props":1561,"children":1562},{"class":310,"line":770},[1563],{"type":15,"tag":308,"props":1564,"children":1565},{"emptyLinePlaceholder":733},[1566],{"type":21,"value":736},{"type":15,"tag":308,"props":1568,"children":1569},{"class":310,"line":798},[1570],{"type":15,"tag":308,"props":1571,"children":1572},{"style":1410},[1573],{"type":21,"value":1574},"// HttpServerLayer\n",{"type":15,"tag":308,"props":1576,"children":1578},{"class":310,"line":1577},12,[1579,1583,1587,1591],{"type":15,"tag":308,"props":1580,"children":1581},{"style":315},[1582],{"type":21,"value":318},{"type":15,"tag":308,"props":1584,"children":1585},{"style":315},[1586],{"type":21,"value":323},{"type":15,"tag":308,"props":1588,"children":1589},{"style":326},[1590],{"type":21,"value":1137},{"type":15,"tag":308,"props":1592,"children":1593},{"style":332},[1594],{"type":21,"value":655},{"type":15,"tag":308,"props":1596,"children":1598},{"class":310,"line":1597},13,[1599,1603,1607,1611,1615,1619,1623,1628,1632,1636,1641],{"type":15,"tag":308,"props":1600,"children":1601},{"style":332},[1602],{"type":21,"value":1454},{"type":15,"tag":308,"props":1604,"children":1605},{"style":326},[1606],{"type":21,"value":762},{"type":15,"tag":308,"props":1608,"children":1609},{"style":332},[1610],{"type":21,"value":634},{"type":15,"tag":308,"props":1612,"children":1613},{"style":326},[1614],{"type":21,"value":900},{"type":15,"tag":308,"props":1616,"children":1617},{"style":332},[1618],{"type":21,"value":209},{"type":15,"tag":308,"props":1620,"children":1621},{"style":326},[1622],{"type":21,"value":1387},{"type":15,"tag":308,"props":1624,"children":1625},{"style":332},[1626],{"type":21,"value":1627},">(",{"type":15,"tag":308,"props":1629,"children":1630},{"style":326},[1631],{"type":21,"value":1467},{"type":15,"tag":308,"props":1633,"children":1634},{"style":332},[1635],{"type":21,"value":296},{"type":15,"tag":308,"props":1637,"children":1638},{"style":326},[1639],{"type":21,"value":1640},"Latest",{"type":15,"tag":308,"props":1642,"children":1643},{"style":332},[1644],{"type":21,"value":1201},{"type":15,"tag":308,"props":1646,"children":1648},{"class":310,"line":1647},14,[1649],{"type":15,"tag":308,"props":1650,"children":1651},{"style":332},[1652],{"type":21,"value":349},{"type":15,"tag":308,"props":1654,"children":1656},{"class":310,"line":1655},15,[1657,1661,1665,1669,1673,1677,1681,1685,1689,1693,1698],{"type":15,"tag":308,"props":1658,"children":1659},{"style":315},[1660],{"type":21,"value":500},{"type":15,"tag":308,"props":1662,"children":1663},{"style":315},[1664],{"type":21,"value":505},{"type":15,"tag":308,"props":1666,"children":1667},{"style":315},[1668],{"type":21,"value":957},{"type":15,"tag":308,"props":1670,"children":1671},{"style":647},[1672],{"type":21,"value":962},{"type":15,"tag":308,"props":1674,"children":1675},{"style":332},[1676],{"type":21,"value":1036},{"type":15,"tag":308,"props":1678,"children":1679},{"style":326},[1680],{"type":21,"value":900},{"type":15,"tag":308,"props":1682,"children":1683},{"style":513},[1684],{"type":21,"value":986},{"type":15,"tag":308,"props":1686,"children":1687},{"style":332},[1688],{"type":21,"value":209},{"type":15,"tag":308,"props":1690,"children":1691},{"style":326},[1692],{"type":21,"value":1387},{"type":15,"tag":308,"props":1694,"children":1695},{"style":513},[1696],{"type":21,"value":1697}," services",{"type":15,"tag":308,"props":1699,"children":1700},{"style":332},[1701],{"type":21,"value":1201},{"type":15,"tag":308,"props":1703,"children":1705},{"class":310,"line":1704},16,[1706],{"type":15,"tag":308,"props":1707,"children":1708},{"style":332},[1709],{"type":21,"value":663},{"type":15,"tag":308,"props":1711,"children":1713},{"class":310,"line":1712},17,[1714,1719],{"type":15,"tag":308,"props":1715,"children":1716},{"style":519},[1717],{"type":21,"value":1718},"        ..",{"type":15,"tag":308,"props":1720,"children":1721},{"style":332},[1722],{"type":21,"value":541},{"type":15,"tag":308,"props":1724,"children":1726},{"class":310,"line":1725},18,[1727],{"type":15,"tag":308,"props":1728,"children":1729},{"style":332},[1730],{"type":21,"value":726},{"type":15,"tag":308,"props":1732,"children":1734},{"class":310,"line":1733},19,[1735],{"type":15,"tag":308,"props":1736,"children":1737},{"style":332},[1738],{"type":21,"value":367},{"type":15,"tag":369,"props":1740,"children":1741},{},[1742,1749],{"type":15,"tag":23,"props":1743,"children":1744},{},[1745],{"type":15,"tag":308,"props":1746,"children":1747},{},[1748],{"type":21,"value":1350},{"type":15,"tag":23,"props":1750,"children":1751},{},[1752,1754,1759,1761,1767],{"type":21,"value":1753},"This type of artifact requirement will create a dependency between phases\nwhich results to a layer to layer dependency. In the above example ",{"type":15,"tag":29,"props":1755,"children":1757},{"className":1756},[],[1758],{"type":21,"value":255},{"type":21,"value":1760},"\nphase will never execute unless ",{"type":15,"tag":29,"props":1762,"children":1764},{"className":1763},[],[1765],{"type":21,"value":1766},"DependencyLayer",{"type":21,"value":1768}," is added to the application",{"type":15,"tag":393,"props":1770,"children":1772},{"id":1771},"order-of-a-phase",[1773],{"type":21,"value":1774},"Order of a Phase",{"type":15,"tag":23,"props":1776,"children":1777},{},[1778,1783,1785,1791,1793,1799],{"type":15,"tag":29,"props":1779,"children":1781},{"className":1780},[],[1782],{"type":21,"value":762},{"type":21,"value":1784}," classes has ",{"type":15,"tag":29,"props":1786,"children":1788},{"className":1787},[],[1789],{"type":21,"value":1790},"order",{"type":21,"value":1792}," parameter in their constructors. Default order\nis ",{"type":15,"tag":29,"props":1794,"children":1796},{"className":1795},[],[1797],{"type":21,"value":1798},"PhaseOrder.Normal",{"type":21,"value":1800},". If you need to change the order, pass the desired order\nto this parameter as shown below;",{"type":15,"tag":298,"props":1802,"children":1804},{"className":300,"code":1803,"language":302,"meta":8,"style":8},"public class DoThisEarlyOn()\n    : PhaseBase(PhaseOrder.Early)\n{ }\n",[1805],{"type":15,"tag":29,"props":1806,"children":1807},{"__ignoreMap":8},[1808,1828,1859],{"type":15,"tag":308,"props":1809,"children":1810},{"class":310,"line":311},[1811,1815,1819,1824],{"type":15,"tag":308,"props":1812,"children":1813},{"style":315},[1814],{"type":21,"value":318},{"type":15,"tag":308,"props":1816,"children":1817},{"style":315},[1818],{"type":21,"value":323},{"type":15,"tag":308,"props":1820,"children":1821},{"style":326},[1822],{"type":21,"value":1823}," DoThisEarlyOn",{"type":15,"tag":308,"props":1825,"children":1826},{"style":332},[1827],{"type":21,"value":655},{"type":15,"tag":308,"props":1829,"children":1830},{"class":310,"line":343},[1831,1835,1839,1843,1847,1851,1855],{"type":15,"tag":308,"props":1832,"children":1833},{"style":332},[1834],{"type":21,"value":1454},{"type":15,"tag":308,"props":1836,"children":1837},{"style":326},[1838],{"type":21,"value":762},{"type":15,"tag":308,"props":1840,"children":1841},{"style":332},[1842],{"type":21,"value":1036},{"type":15,"tag":308,"props":1844,"children":1845},{"style":326},[1846],{"type":21,"value":1467},{"type":15,"tag":308,"props":1848,"children":1849},{"style":332},[1850],{"type":21,"value":296},{"type":15,"tag":308,"props":1852,"children":1853},{"style":326},[1854],{"type":21,"value":1476},{"type":15,"tag":308,"props":1856,"children":1857},{"style":332},[1858],{"type":21,"value":1201},{"type":15,"tag":308,"props":1860,"children":1861},{"class":310,"line":352},[1862],{"type":15,"tag":308,"props":1863,"children":1864},{"style":332},[1865],{"type":21,"value":1866},"{ }\n",{"type":15,"tag":89,"props":1868,"children":1870},{"id":1869},"providing-configuration",[1871],{"type":21,"value":1872},"Providing Configuration",{"type":15,"tag":23,"props":1874,"children":1875},{},[1876,1878,1884],{"type":21,"value":1877},"Layers provide configuration objects phase by phase. This means a layer can\nprovide two different configuration objects for two different phases. For this\nreason, a layer returns ",{"type":15,"tag":29,"props":1879,"children":1881},{"className":1880},[],[1882],{"type":21,"value":1883},"PhaseContext",{"type":21,"value":1885}," instance per phase to which it provides\nconfiguration.",{"type":15,"tag":298,"props":1887,"children":1889},{"className":300,"code":1888,"language":302,"meta":8,"style":8},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly LayerXConfiguration _configuration = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContext(_configuration);\n}\n",[1890],{"type":15,"tag":29,"props":1891,"children":1892},{"__ignoreMap":8},[1893,1929,1936,1966,1973,2017,2047],{"type":15,"tag":308,"props":1894,"children":1895},{"class":310,"line":311},[1896,1900,1904,1908,1912,1916,1920,1925],{"type":15,"tag":308,"props":1897,"children":1898},{"style":315},[1899],{"type":21,"value":318},{"type":15,"tag":308,"props":1901,"children":1902},{"style":315},[1903],{"type":21,"value":323},{"type":15,"tag":308,"props":1905,"children":1906},{"style":326},[1907],{"type":21,"value":329},{"type":15,"tag":308,"props":1909,"children":1910},{"style":332},[1911],{"type":21,"value":335},{"type":15,"tag":308,"props":1913,"children":1914},{"style":326},[1915],{"type":21,"value":294},{"type":15,"tag":308,"props":1917,"children":1918},{"style":332},[1919],{"type":21,"value":634},{"type":15,"tag":308,"props":1921,"children":1922},{"style":326},[1923],{"type":21,"value":1924},"AddServices",{"type":15,"tag":308,"props":1926,"children":1927},{"style":332},[1928],{"type":21,"value":1158},{"type":15,"tag":308,"props":1930,"children":1931},{"class":310,"line":343},[1932],{"type":15,"tag":308,"props":1933,"children":1934},{"style":332},[1935],{"type":21,"value":349},{"type":15,"tag":308,"props":1937,"children":1938},{"class":310,"line":352},[1939,1944,1949,1954,1958,1962],{"type":15,"tag":308,"props":1940,"children":1941},{"style":315},[1942],{"type":21,"value":1943},"    readonly",{"type":15,"tag":308,"props":1945,"children":1946},{"style":326},[1947],{"type":21,"value":1948}," LayerXConfiguration",{"type":15,"tag":308,"props":1950,"children":1951},{"style":513},[1952],{"type":21,"value":1953}," _configuration",{"type":15,"tag":308,"props":1955,"children":1956},{"style":519},[1957],{"type":21,"value":991},{"type":15,"tag":308,"props":1959,"children":1960},{"style":315},[1961],{"type":21,"value":682},{"type":15,"tag":308,"props":1963,"children":1964},{"style":332},[1965],{"type":21,"value":692},{"type":15,"tag":308,"props":1967,"children":1968},{"class":310,"line":361},[1969],{"type":15,"tag":308,"props":1970,"children":1971},{"emptyLinePlaceholder":733},[1972],{"type":21,"value":736},{"type":15,"tag":308,"props":1974,"children":1975},{"class":310,"line":544},[1976,1980,1984,1989,1994,1998,2002,2007,2012],{"type":15,"tag":308,"props":1977,"children":1978},{"style":315},[1979],{"type":21,"value":500},{"type":15,"tag":308,"props":1981,"children":1982},{"style":315},[1983],{"type":21,"value":505},{"type":15,"tag":308,"props":1985,"children":1986},{"style":326},[1987],{"type":21,"value":1988}," PhaseContext",{"type":15,"tag":308,"props":1990,"children":1991},{"style":647},[1992],{"type":21,"value":1993}," GetContext",{"type":15,"tag":308,"props":1995,"children":1996},{"style":332},[1997],{"type":21,"value":1036},{"type":15,"tag":308,"props":1999,"children":2000},{"style":326},[2001],{"type":21,"value":1924},{"type":15,"tag":308,"props":2003,"children":2004},{"style":513},[2005],{"type":21,"value":2006}," phase",{"type":15,"tag":308,"props":2008,"children":2009},{"style":332},[2010],{"type":21,"value":2011},") ",{"type":15,"tag":308,"props":2013,"children":2014},{"style":519},[2015],{"type":21,"value":2016},"=>\n",{"type":15,"tag":308,"props":2018,"children":2019},{"class":310,"line":695},[2020,2025,2029,2034,2038,2043],{"type":15,"tag":308,"props":2021,"children":2022},{"style":513},[2023],{"type":21,"value":2024},"        phase",{"type":15,"tag":308,"props":2026,"children":2027},{"style":332},[2028],{"type":21,"value":296},{"type":15,"tag":308,"props":2030,"children":2031},{"style":647},[2032],{"type":21,"value":2033},"CreateContext",{"type":15,"tag":308,"props":2035,"children":2036},{"style":332},[2037],{"type":21,"value":1036},{"type":15,"tag":308,"props":2039,"children":2040},{"style":513},[2041],{"type":21,"value":2042},"_configuration",{"type":15,"tag":308,"props":2044,"children":2045},{"style":332},[2046],{"type":21,"value":1046},{"type":15,"tag":308,"props":2048,"children":2049},{"class":310,"line":720},[2050],{"type":15,"tag":308,"props":2051,"children":2052},{"style":332},[2053],{"type":21,"value":367},{"type":15,"tag":23,"props":2055,"children":2056},{},[2057,2059,2064,2066,2072,2074,2079],{"type":21,"value":2058},"In this example, you see a layer named ",{"type":15,"tag":29,"props":2060,"children":2062},{"className":2061},[],[2063],{"type":21,"value":448},{"type":21,"value":2065}," providing a\n",{"type":15,"tag":29,"props":2067,"children":2069},{"className":2068},[],[2070],{"type":21,"value":2071},"LayerXConfiguration",{"type":21,"value":2073}," instance during ",{"type":15,"tag":29,"props":2075,"children":2077},{"className":2076},[],[2078],{"type":21,"value":1924},{"type":21,"value":1397},{"type":15,"tag":369,"props":2081,"children":2082},{},[2083,2090],{"type":15,"tag":23,"props":2084,"children":2085},{},[2086],{"type":15,"tag":308,"props":2087,"children":2088},{},[2089],{"type":21,"value":1319},{"type":15,"tag":23,"props":2091,"children":2092},{},[2093,2095,2101,2103,2108],{"type":21,"value":2094},"By default, a layer returns ",{"type":15,"tag":29,"props":2096,"children":2098},{"className":2097},[],[2099],{"type":21,"value":2100},"PhaseContext.Empty",{"type":21,"value":2102}," instance for the phases it\ndoes not provide a configuration. This means ",{"type":15,"tag":29,"props":2104,"children":2106},{"className":2105},[],[2107],{"type":21,"value":69},{"type":21,"value":2109}," skips that layer\nfor the phases it doesn't have anything to configure.",{"type":15,"tag":393,"props":2111,"children":2113},{"id":2112},"using-non-generic-layerbase",[2114,2116],{"type":21,"value":2115},"Using non-generic ",{"type":15,"tag":29,"props":2117,"children":2119},{"className":2118},[],[2120],{"type":21,"value":294},{"type":15,"tag":23,"props":2122,"children":2123},{},[2124,2130,2132,2137,2139,2145],{"type":15,"tag":29,"props":2125,"children":2127},{"className":2126},[],[2128],{"type":21,"value":2129},"LayerBase\u003C>",{"type":21,"value":2131}," classes allow up to three generic arguments. If you need to\nimplement a layer that has things to configure during more than three phases,\nuse non-generic ",{"type":15,"tag":29,"props":2133,"children":2135},{"className":2134},[],[2136],{"type":21,"value":294},{"type":21,"value":2138}," class, override ",{"type":15,"tag":29,"props":2140,"children":2142},{"className":2141},[],[2143],{"type":21,"value":2144},"GetContext(IPhase phase)",{"type":21,"value":2146}," method\nand switch given phase according to its type;",{"type":15,"tag":298,"props":2148,"children":2150},{"className":300,"code":2149,"language":302,"meta":8,"style":8},"public class MyLayer : LayerBase\n{\n    protected override PhaseContext GetContext(IPhase phase) =>\n        phase switch\n        {\n            PhaseA => phase.CreateContext(...),\n            PhaseB => phase.CreateContext(...),\n            _ => base.GetContext(phase)\n        };\n}\n",[2151],{"type":15,"tag":29,"props":2152,"children":2153},{"__ignoreMap":8},[2154,2178,2185,2224,2236,2244,2282,2318,2357,2365],{"type":15,"tag":308,"props":2155,"children":2156},{"class":310,"line":311},[2157,2161,2165,2170,2174],{"type":15,"tag":308,"props":2158,"children":2159},{"style":315},[2160],{"type":21,"value":318},{"type":15,"tag":308,"props":2162,"children":2163},{"style":315},[2164],{"type":21,"value":323},{"type":15,"tag":308,"props":2166,"children":2167},{"style":326},[2168],{"type":21,"value":2169}," MyLayer",{"type":15,"tag":308,"props":2171,"children":2172},{"style":332},[2173],{"type":21,"value":335},{"type":15,"tag":308,"props":2175,"children":2176},{"style":326},[2177],{"type":21,"value":340},{"type":15,"tag":308,"props":2179,"children":2180},{"class":310,"line":343},[2181],{"type":15,"tag":308,"props":2182,"children":2183},{"style":332},[2184],{"type":21,"value":349},{"type":15,"tag":308,"props":2186,"children":2187},{"class":310,"line":352},[2188,2192,2196,2200,2204,2208,2212,2216,2220],{"type":15,"tag":308,"props":2189,"children":2190},{"style":315},[2191],{"type":21,"value":500},{"type":15,"tag":308,"props":2193,"children":2194},{"style":315},[2195],{"type":21,"value":505},{"type":15,"tag":308,"props":2197,"children":2198},{"style":326},[2199],{"type":21,"value":1988},{"type":15,"tag":308,"props":2201,"children":2202},{"style":647},[2203],{"type":21,"value":1993},{"type":15,"tag":308,"props":2205,"children":2206},{"style":332},[2207],{"type":21,"value":1036},{"type":15,"tag":308,"props":2209,"children":2210},{"style":326},[2211],{"type":21,"value":639},{"type":15,"tag":308,"props":2213,"children":2214},{"style":513},[2215],{"type":21,"value":2006},{"type":15,"tag":308,"props":2217,"children":2218},{"style":332},[2219],{"type":21,"value":2011},{"type":15,"tag":308,"props":2221,"children":2222},{"style":519},[2223],{"type":21,"value":2016},{"type":15,"tag":308,"props":2225,"children":2226},{"class":310,"line":361},[2227,2231],{"type":15,"tag":308,"props":2228,"children":2229},{"style":513},[2230],{"type":21,"value":2024},{"type":15,"tag":308,"props":2232,"children":2233},{"style":669},[2234],{"type":21,"value":2235}," switch\n",{"type":15,"tag":308,"props":2237,"children":2238},{"class":310,"line":544},[2239],{"type":15,"tag":308,"props":2240,"children":2241},{"style":332},[2242],{"type":21,"value":2243},"        {\n",{"type":15,"tag":308,"props":2245,"children":2246},{"class":310,"line":695},[2247,2252,2256,2260,2264,2268,2272,2277],{"type":15,"tag":308,"props":2248,"children":2249},{"style":326},[2250],{"type":21,"value":2251},"            PhaseA",{"type":15,"tag":308,"props":2253,"children":2254},{"style":519},[2255],{"type":21,"value":522},{"type":15,"tag":308,"props":2257,"children":2258},{"style":513},[2259],{"type":21,"value":2006},{"type":15,"tag":308,"props":2261,"children":2262},{"style":332},[2263],{"type":21,"value":296},{"type":15,"tag":308,"props":2265,"children":2266},{"style":647},[2267],{"type":21,"value":2033},{"type":15,"tag":308,"props":2269,"children":2270},{"style":332},[2271],{"type":21,"value":1036},{"type":15,"tag":308,"props":2273,"children":2274},{"style":519},[2275],{"type":21,"value":2276},"..",{"type":15,"tag":308,"props":2278,"children":2279},{"style":332},[2280],{"type":21,"value":2281},".),\n",{"type":15,"tag":308,"props":2283,"children":2284},{"class":310,"line":720},[2285,2290,2294,2298,2302,2306,2310,2314],{"type":15,"tag":308,"props":2286,"children":2287},{"style":326},[2288],{"type":21,"value":2289},"            PhaseB",{"type":15,"tag":308,"props":2291,"children":2292},{"style":519},[2293],{"type":21,"value":522},{"type":15,"tag":308,"props":2295,"children":2296},{"style":513},[2297],{"type":21,"value":2006},{"type":15,"tag":308,"props":2299,"children":2300},{"style":332},[2301],{"type":21,"value":296},{"type":15,"tag":308,"props":2303,"children":2304},{"style":647},[2305],{"type":21,"value":2033},{"type":15,"tag":308,"props":2307,"children":2308},{"style":332},[2309],{"type":21,"value":1036},{"type":15,"tag":308,"props":2311,"children":2312},{"style":519},[2313],{"type":21,"value":2276},{"type":15,"tag":308,"props":2315,"children":2316},{"style":332},[2317],{"type":21,"value":2281},{"type":15,"tag":308,"props":2319,"children":2320},{"class":310,"line":729},[2321,2326,2330,2335,2339,2344,2348,2353],{"type":15,"tag":308,"props":2322,"children":2323},{"style":315},[2324],{"type":21,"value":2325},"            _",{"type":15,"tag":308,"props":2327,"children":2328},{"style":519},[2329],{"type":21,"value":522},{"type":15,"tag":308,"props":2331,"children":2332},{"style":315},[2333],{"type":21,"value":2334}," base",{"type":15,"tag":308,"props":2336,"children":2337},{"style":332},[2338],{"type":21,"value":296},{"type":15,"tag":308,"props":2340,"children":2341},{"style":647},[2342],{"type":21,"value":2343},"GetContext",{"type":15,"tag":308,"props":2345,"children":2346},{"style":332},[2347],{"type":21,"value":1036},{"type":15,"tag":308,"props":2349,"children":2350},{"style":513},[2351],{"type":21,"value":2352},"phase",{"type":15,"tag":308,"props":2354,"children":2355},{"style":332},[2356],{"type":21,"value":1201},{"type":15,"tag":308,"props":2358,"children":2359},{"class":310,"line":739},[2360],{"type":15,"tag":308,"props":2361,"children":2362},{"style":332},[2363],{"type":21,"value":2364},"        };\n",{"type":15,"tag":308,"props":2366,"children":2367},{"class":310,"line":770},[2368],{"type":15,"tag":308,"props":2369,"children":2370},{"style":332},[2371],{"type":21,"value":367},{"type":15,"tag":393,"props":2373,"children":2375},{"id":2374},"before-and-after-a-phase",[2376],{"type":21,"value":2377},"Before and After a Phase",{"type":15,"tag":23,"props":2379,"children":2380},{},[2381,2383,2389,2391,2397],{"type":21,"value":2382},"Layers might need to do some standard stuff before and after a phase is applied\nto all features for all layers. Use ",{"type":15,"tag":29,"props":2384,"children":2386},{"className":2385},[],[2387],{"type":21,"value":2388},"GetContext()",{"type":21,"value":2390}," method to do stuff before,\nand ",{"type":15,"tag":29,"props":2392,"children":2394},{"className":2393},[],[2395],{"type":21,"value":2396},"onDispose:",{"type":21,"value":2398}," delegate to do stuff after.",{"type":15,"tag":298,"props":2400,"children":2402},{"className":300,"code":2401,"language":302,"meta":8,"style":8},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly LayerXConfiguration _configuration = new();\n\n    protected override PhaseContext GetContext(AddServices phase)\n    {\n        var services = Context.Get\u003CIServiceCollection>();\n\n        services.AddStandardStuffBefore();\n\n        phase.CreateContext(_configuration,\n            onDispose: () => services.AddStandardStuffAfter()\n        );\n    }\n}\n",[2403],{"type":15,"tag":29,"props":2404,"children":2405},{"__ignoreMap":8},[2406,2441,2448,2475,2482,2517,2524,2565,2572,2593,2600,2628,2663,2671,2678],{"type":15,"tag":308,"props":2407,"children":2408},{"class":310,"line":311},[2409,2413,2417,2421,2425,2429,2433,2437],{"type":15,"tag":308,"props":2410,"children":2411},{"style":315},[2412],{"type":21,"value":318},{"type":15,"tag":308,"props":2414,"children":2415},{"style":315},[2416],{"type":21,"value":323},{"type":15,"tag":308,"props":2418,"children":2419},{"style":326},[2420],{"type":21,"value":329},{"type":15,"tag":308,"props":2422,"children":2423},{"style":332},[2424],{"type":21,"value":335},{"type":15,"tag":308,"props":2426,"children":2427},{"style":326},[2428],{"type":21,"value":294},{"type":15,"tag":308,"props":2430,"children":2431},{"style":332},[2432],{"type":21,"value":634},{"type":15,"tag":308,"props":2434,"children":2435},{"style":326},[2436],{"type":21,"value":1924},{"type":15,"tag":308,"props":2438,"children":2439},{"style":332},[2440],{"type":21,"value":1158},{"type":15,"tag":308,"props":2442,"children":2443},{"class":310,"line":343},[2444],{"type":15,"tag":308,"props":2445,"children":2446},{"style":332},[2447],{"type":21,"value":349},{"type":15,"tag":308,"props":2449,"children":2450},{"class":310,"line":352},[2451,2455,2459,2463,2467,2471],{"type":15,"tag":308,"props":2452,"children":2453},{"style":315},[2454],{"type":21,"value":1943},{"type":15,"tag":308,"props":2456,"children":2457},{"style":326},[2458],{"type":21,"value":1948},{"type":15,"tag":308,"props":2460,"children":2461},{"style":513},[2462],{"type":21,"value":1953},{"type":15,"tag":308,"props":2464,"children":2465},{"style":519},[2466],{"type":21,"value":991},{"type":15,"tag":308,"props":2468,"children":2469},{"style":315},[2470],{"type":21,"value":682},{"type":15,"tag":308,"props":2472,"children":2473},{"style":332},[2474],{"type":21,"value":692},{"type":15,"tag":308,"props":2476,"children":2477},{"class":310,"line":361},[2478],{"type":15,"tag":308,"props":2479,"children":2480},{"emptyLinePlaceholder":733},[2481],{"type":21,"value":736},{"type":15,"tag":308,"props":2483,"children":2484},{"class":310,"line":544},[2485,2489,2493,2497,2501,2505,2509,2513],{"type":15,"tag":308,"props":2486,"children":2487},{"style":315},[2488],{"type":21,"value":500},{"type":15,"tag":308,"props":2490,"children":2491},{"style":315},[2492],{"type":21,"value":505},{"type":15,"tag":308,"props":2494,"children":2495},{"style":326},[2496],{"type":21,"value":1988},{"type":15,"tag":308,"props":2498,"children":2499},{"style":647},[2500],{"type":21,"value":1993},{"type":15,"tag":308,"props":2502,"children":2503},{"style":332},[2504],{"type":21,"value":1036},{"type":15,"tag":308,"props":2506,"children":2507},{"style":326},[2508],{"type":21,"value":1924},{"type":15,"tag":308,"props":2510,"children":2511},{"style":513},[2512],{"type":21,"value":2006},{"type":15,"tag":308,"props":2514,"children":2515},{"style":332},[2516],{"type":21,"value":1201},{"type":15,"tag":308,"props":2518,"children":2519},{"class":310,"line":695},[2520],{"type":15,"tag":308,"props":2521,"children":2522},{"style":332},[2523],{"type":21,"value":663},{"type":15,"tag":308,"props":2525,"children":2526},{"class":310,"line":720},[2527,2531,2535,2539,2544,2548,2552,2556,2560],{"type":15,"tag":308,"props":2528,"children":2529},{"style":315},[2530],{"type":21,"value":981},{"type":15,"tag":308,"props":2532,"children":2533},{"style":513},[2534],{"type":21,"value":1697},{"type":15,"tag":308,"props":2536,"children":2537},{"style":519},[2538],{"type":21,"value":991},{"type":15,"tag":308,"props":2540,"children":2541},{"style":513},[2542],{"type":21,"value":2543}," Context",{"type":15,"tag":308,"props":2545,"children":2546},{"style":332},[2547],{"type":21,"value":296},{"type":15,"tag":308,"props":2549,"children":2550},{"style":647},[2551],{"type":21,"value":191},{"type":15,"tag":308,"props":2553,"children":2554},{"style":332},[2555],{"type":21,"value":634},{"type":15,"tag":308,"props":2557,"children":2558},{"style":326},[2559],{"type":21,"value":1387},{"type":15,"tag":308,"props":2561,"children":2562},{"style":332},[2563],{"type":21,"value":2564},">();\n",{"type":15,"tag":308,"props":2566,"children":2567},{"class":310,"line":729},[2568],{"type":15,"tag":308,"props":2569,"children":2570},{"emptyLinePlaceholder":733},[2571],{"type":21,"value":736},{"type":15,"tag":308,"props":2573,"children":2574},{"class":310,"line":739},[2575,2580,2584,2589],{"type":15,"tag":308,"props":2576,"children":2577},{"style":513},[2578],{"type":21,"value":2579},"        services",{"type":15,"tag":308,"props":2581,"children":2582},{"style":332},[2583],{"type":21,"value":296},{"type":15,"tag":308,"props":2585,"children":2586},{"style":647},[2587],{"type":21,"value":2588},"AddStandardStuffBefore",{"type":15,"tag":308,"props":2590,"children":2591},{"style":332},[2592],{"type":21,"value":692},{"type":15,"tag":308,"props":2594,"children":2595},{"class":310,"line":770},[2596],{"type":15,"tag":308,"props":2597,"children":2598},{"emptyLinePlaceholder":733},[2599],{"type":21,"value":736},{"type":15,"tag":308,"props":2601,"children":2602},{"class":310,"line":798},[2603,2607,2611,2615,2619,2623],{"type":15,"tag":308,"props":2604,"children":2605},{"style":513},[2606],{"type":21,"value":2024},{"type":15,"tag":308,"props":2608,"children":2609},{"style":332},[2610],{"type":21,"value":296},{"type":15,"tag":308,"props":2612,"children":2613},{"style":647},[2614],{"type":21,"value":2033},{"type":15,"tag":308,"props":2616,"children":2617},{"style":332},[2618],{"type":21,"value":1036},{"type":15,"tag":308,"props":2620,"children":2621},{"style":513},[2622],{"type":21,"value":2042},{"type":15,"tag":308,"props":2624,"children":2625},{"style":332},[2626],{"type":21,"value":2627},",\n",{"type":15,"tag":308,"props":2629,"children":2630},{"class":310,"line":1577},[2631,2636,2641,2646,2650,2654,2659],{"type":15,"tag":308,"props":2632,"children":2633},{"style":513},[2634],{"type":21,"value":2635},"            onDispose",{"type":15,"tag":308,"props":2637,"children":2638},{"style":332},[2639],{"type":21,"value":2640},": () ",{"type":15,"tag":308,"props":2642,"children":2643},{"style":519},[2644],{"type":21,"value":2645},"=>",{"type":15,"tag":308,"props":2647,"children":2648},{"style":513},[2649],{"type":21,"value":1697},{"type":15,"tag":308,"props":2651,"children":2652},{"style":332},[2653],{"type":21,"value":296},{"type":15,"tag":308,"props":2655,"children":2656},{"style":647},[2657],{"type":21,"value":2658},"AddStandardStuffAfter",{"type":15,"tag":308,"props":2660,"children":2661},{"style":332},[2662],{"type":21,"value":655},{"type":15,"tag":308,"props":2664,"children":2665},{"class":310,"line":1597},[2666],{"type":15,"tag":308,"props":2667,"children":2668},{"style":332},[2669],{"type":21,"value":2670},"        );\n",{"type":15,"tag":308,"props":2672,"children":2673},{"class":310,"line":1647},[2674],{"type":15,"tag":308,"props":2675,"children":2676},{"style":332},[2677],{"type":21,"value":726},{"type":15,"tag":308,"props":2679,"children":2680},{"class":310,"line":1655},[2681],{"type":15,"tag":308,"props":2682,"children":2683},{"style":332},[2684],{"type":21,"value":367},{"type":15,"tag":369,"props":2686,"children":2687},{},[2688,2695],{"type":15,"tag":23,"props":2689,"children":2690},{},[2691],{"type":15,"tag":308,"props":2692,"children":2693},{},[2694],{"type":21,"value":1319},{"type":15,"tag":23,"props":2696,"children":2697},{},[2698,2700,2705,2707,2712,2714,2719],{"type":21,"value":2699},"Notice that a layer has access to the ",{"type":15,"tag":29,"props":2701,"children":2703},{"className":2702},[],[2704],{"type":21,"value":199},{"type":21,"value":2706}," instance through\n",{"type":15,"tag":29,"props":2708,"children":2710},{"className":2709},[],[2711],{"type":21,"value":877},{"type":21,"value":2713}," property provided in ",{"type":15,"tag":29,"props":2715,"children":2717},{"className":2716},[],[2718],{"type":21,"value":294},{"type":21,"value":2720}," base class.",{"type":15,"tag":369,"props":2722,"children":2723},{},[2724,2731],{"type":15,"tag":23,"props":2725,"children":2726},{},[2727],{"type":15,"tag":308,"props":2728,"children":2729},{},[2730],{"type":21,"value":1350},{"type":15,"tag":23,"props":2732,"children":2733},{},[2734,2739,2741,2746],{"type":15,"tag":29,"props":2735,"children":2737},{"className":2736},[],[2738],{"type":21,"value":2388},{"type":21,"value":2740}," method is called for every layer before applying any of them\nto features. And ",{"type":15,"tag":29,"props":2742,"children":2744},{"className":2743},[],[2745],{"type":21,"value":2396},{"type":21,"value":2747}," actions are called after applying these\ncontexts to all features.",{"type":15,"tag":393,"props":2749,"children":2751},{"id":2750},"providing-multiple-targets",[2752],{"type":21,"value":2753},"Providing Multiple Targets",{"type":15,"tag":23,"props":2755,"children":2756},{},[2757],{"type":21,"value":2758},"It is possible to provide up to three configuration objects for the same phase.\nThere are two ways of providing multiple targets; at once or one by one.",{"type":15,"tag":2760,"props":2761,"children":2763},"h4",{"id":2762},"at-once",[2764],{"type":21,"value":2765},"At Once",{"type":15,"tag":23,"props":2767,"children":2768},{},[2769],{"type":21,"value":2770},"Below code demonstrates providing two configuration objects at once;",{"type":15,"tag":298,"props":2772,"children":2774},{"className":300,"code":2773,"language":302,"meta":8,"style":8},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContext(_configuration1, _configuration2);\n}\n",[2775],{"type":15,"tag":29,"props":2776,"children":2777},{"__ignoreMap":8},[2778,2813,2820,2849,2878,2885,2924,2961],{"type":15,"tag":308,"props":2779,"children":2780},{"class":310,"line":311},[2781,2785,2789,2793,2797,2801,2805,2809],{"type":15,"tag":308,"props":2782,"children":2783},{"style":315},[2784],{"type":21,"value":318},{"type":15,"tag":308,"props":2786,"children":2787},{"style":315},[2788],{"type":21,"value":323},{"type":15,"tag":308,"props":2790,"children":2791},{"style":326},[2792],{"type":21,"value":329},{"type":15,"tag":308,"props":2794,"children":2795},{"style":332},[2796],{"type":21,"value":335},{"type":15,"tag":308,"props":2798,"children":2799},{"style":326},[2800],{"type":21,"value":294},{"type":15,"tag":308,"props":2802,"children":2803},{"style":332},[2804],{"type":21,"value":634},{"type":15,"tag":308,"props":2806,"children":2807},{"style":326},[2808],{"type":21,"value":1924},{"type":15,"tag":308,"props":2810,"children":2811},{"style":332},[2812],{"type":21,"value":1158},{"type":15,"tag":308,"props":2814,"children":2815},{"class":310,"line":343},[2816],{"type":15,"tag":308,"props":2817,"children":2818},{"style":332},[2819],{"type":21,"value":349},{"type":15,"tag":308,"props":2821,"children":2822},{"class":310,"line":352},[2823,2827,2832,2837,2841,2845],{"type":15,"tag":308,"props":2824,"children":2825},{"style":315},[2826],{"type":21,"value":1943},{"type":15,"tag":308,"props":2828,"children":2829},{"style":326},[2830],{"type":21,"value":2831}," Configuration1",{"type":15,"tag":308,"props":2833,"children":2834},{"style":513},[2835],{"type":21,"value":2836}," _configuration1",{"type":15,"tag":308,"props":2838,"children":2839},{"style":519},[2840],{"type":21,"value":991},{"type":15,"tag":308,"props":2842,"children":2843},{"style":315},[2844],{"type":21,"value":682},{"type":15,"tag":308,"props":2846,"children":2847},{"style":332},[2848],{"type":21,"value":692},{"type":15,"tag":308,"props":2850,"children":2851},{"class":310,"line":361},[2852,2856,2861,2866,2870,2874],{"type":15,"tag":308,"props":2853,"children":2854},{"style":315},[2855],{"type":21,"value":1943},{"type":15,"tag":308,"props":2857,"children":2858},{"style":326},[2859],{"type":21,"value":2860}," Configuration2",{"type":15,"tag":308,"props":2862,"children":2863},{"style":513},[2864],{"type":21,"value":2865}," _configuration2",{"type":15,"tag":308,"props":2867,"children":2868},{"style":519},[2869],{"type":21,"value":991},{"type":15,"tag":308,"props":2871,"children":2872},{"style":315},[2873],{"type":21,"value":682},{"type":15,"tag":308,"props":2875,"children":2876},{"style":332},[2877],{"type":21,"value":692},{"type":15,"tag":308,"props":2879,"children":2880},{"class":310,"line":544},[2881],{"type":15,"tag":308,"props":2882,"children":2883},{"emptyLinePlaceholder":733},[2884],{"type":21,"value":736},{"type":15,"tag":308,"props":2886,"children":2887},{"class":310,"line":695},[2888,2892,2896,2900,2904,2908,2912,2916,2920],{"type":15,"tag":308,"props":2889,"children":2890},{"style":315},[2891],{"type":21,"value":500},{"type":15,"tag":308,"props":2893,"children":2894},{"style":315},[2895],{"type":21,"value":505},{"type":15,"tag":308,"props":2897,"children":2898},{"style":326},[2899],{"type":21,"value":1988},{"type":15,"tag":308,"props":2901,"children":2902},{"style":647},[2903],{"type":21,"value":1993},{"type":15,"tag":308,"props":2905,"children":2906},{"style":332},[2907],{"type":21,"value":1036},{"type":15,"tag":308,"props":2909,"children":2910},{"style":326},[2911],{"type":21,"value":1924},{"type":15,"tag":308,"props":2913,"children":2914},{"style":513},[2915],{"type":21,"value":2006},{"type":15,"tag":308,"props":2917,"children":2918},{"style":332},[2919],{"type":21,"value":2011},{"type":15,"tag":308,"props":2921,"children":2922},{"style":519},[2923],{"type":21,"value":2016},{"type":15,"tag":308,"props":2925,"children":2926},{"class":310,"line":720},[2927,2931,2935,2939,2943,2948,2952,2957],{"type":15,"tag":308,"props":2928,"children":2929},{"style":513},[2930],{"type":21,"value":2024},{"type":15,"tag":308,"props":2932,"children":2933},{"style":332},[2934],{"type":21,"value":296},{"type":15,"tag":308,"props":2936,"children":2937},{"style":647},[2938],{"type":21,"value":2033},{"type":15,"tag":308,"props":2940,"children":2941},{"style":332},[2942],{"type":21,"value":1036},{"type":15,"tag":308,"props":2944,"children":2945},{"style":513},[2946],{"type":21,"value":2947},"_configuration1",{"type":15,"tag":308,"props":2949,"children":2950},{"style":332},[2951],{"type":21,"value":209},{"type":15,"tag":308,"props":2953,"children":2954},{"style":513},[2955],{"type":21,"value":2956},"_configuration2",{"type":15,"tag":308,"props":2958,"children":2959},{"style":332},[2960],{"type":21,"value":1046},{"type":15,"tag":308,"props":2962,"children":2963},{"class":310,"line":729},[2964],{"type":15,"tag":308,"props":2965,"children":2966},{"style":332},[2967],{"type":21,"value":367},{"type":15,"tag":23,"props":2969,"children":2970},{},[2971],{"type":21,"value":2972},"This phase context will require an action with two parameter in a feature;",{"type":15,"tag":298,"props":2974,"children":2976},{"className":300,"code":2975,"language":302,"meta":8,"style":8},"...\npublic void Configure(LayerConfigurator configurator)\n{\n    configurator.Configure((Configuration1 configuration1, Configuration2 configuration2) =>\n    {\n        // use both objects to configure\n    });\n}\n...\n",[2977],{"type":15,"tag":29,"props":2978,"children":2979},{"__ignoreMap":8},[2980,2991,3024,3031,3084,3091,3099,3107,3114],{"type":15,"tag":308,"props":2981,"children":2982},{"class":310,"line":311},[2983,2987],{"type":15,"tag":308,"props":2984,"children":2985},{"style":519},[2986],{"type":21,"value":2276},{"type":15,"tag":308,"props":2988,"children":2989},{"style":332},[2990],{"type":21,"value":541},{"type":15,"tag":308,"props":2992,"children":2993},{"class":310,"line":343},[2994,2998,3002,3007,3011,3015,3020],{"type":15,"tag":308,"props":2995,"children":2996},{"style":315},[2997],{"type":21,"value":318},{"type":15,"tag":308,"props":2999,"children":3000},{"style":315},[3001],{"type":21,"value":957},{"type":15,"tag":308,"props":3003,"children":3004},{"style":647},[3005],{"type":21,"value":3006}," Configure",{"type":15,"tag":308,"props":3008,"children":3009},{"style":332},[3010],{"type":21,"value":1036},{"type":15,"tag":308,"props":3012,"children":3013},{"style":326},[3014],{"type":21,"value":231},{"type":15,"tag":308,"props":3016,"children":3017},{"style":513},[3018],{"type":21,"value":3019}," configurator",{"type":15,"tag":308,"props":3021,"children":3022},{"style":332},[3023],{"type":21,"value":1201},{"type":15,"tag":308,"props":3025,"children":3026},{"class":310,"line":352},[3027],{"type":15,"tag":308,"props":3028,"children":3029},{"style":332},[3030],{"type":21,"value":349},{"type":15,"tag":308,"props":3032,"children":3033},{"class":310,"line":361},[3034,3039,3043,3047,3052,3057,3062,3066,3071,3076,3080],{"type":15,"tag":308,"props":3035,"children":3036},{"style":513},[3037],{"type":21,"value":3038},"    configurator",{"type":15,"tag":308,"props":3040,"children":3041},{"style":332},[3042],{"type":21,"value":296},{"type":15,"tag":308,"props":3044,"children":3045},{"style":647},[3046],{"type":21,"value":224},{"type":15,"tag":308,"props":3048,"children":3049},{"style":332},[3050],{"type":21,"value":3051},"((",{"type":15,"tag":308,"props":3053,"children":3054},{"style":326},[3055],{"type":21,"value":3056},"Configuration1",{"type":15,"tag":308,"props":3058,"children":3059},{"style":513},[3060],{"type":21,"value":3061}," configuration1",{"type":15,"tag":308,"props":3063,"children":3064},{"style":332},[3065],{"type":21,"value":209},{"type":15,"tag":308,"props":3067,"children":3068},{"style":326},[3069],{"type":21,"value":3070},"Configuration2",{"type":15,"tag":308,"props":3072,"children":3073},{"style":513},[3074],{"type":21,"value":3075}," configuration2",{"type":15,"tag":308,"props":3077,"children":3078},{"style":332},[3079],{"type":21,"value":2011},{"type":15,"tag":308,"props":3081,"children":3082},{"style":519},[3083],{"type":21,"value":2016},{"type":15,"tag":308,"props":3085,"children":3086},{"class":310,"line":544},[3087],{"type":15,"tag":308,"props":3088,"children":3089},{"style":332},[3090],{"type":21,"value":663},{"type":15,"tag":308,"props":3092,"children":3093},{"class":310,"line":695},[3094],{"type":15,"tag":308,"props":3095,"children":3096},{"style":1410},[3097],{"type":21,"value":3098},"        // use both objects to configure\n",{"type":15,"tag":308,"props":3100,"children":3101},{"class":310,"line":720},[3102],{"type":15,"tag":308,"props":3103,"children":3104},{"style":332},[3105],{"type":21,"value":3106},"    });\n",{"type":15,"tag":308,"props":3108,"children":3109},{"class":310,"line":729},[3110],{"type":15,"tag":308,"props":3111,"children":3112},{"style":332},[3113],{"type":21,"value":367},{"type":15,"tag":308,"props":3115,"children":3116},{"class":310,"line":739},[3117,3121],{"type":15,"tag":308,"props":3118,"children":3119},{"style":519},[3120],{"type":21,"value":2276},{"type":15,"tag":308,"props":3122,"children":3123},{"style":332},[3124],{"type":21,"value":541},{"type":15,"tag":23,"props":3126,"children":3127},{},[3128,3130,3136],{"type":21,"value":3129},"See ",{"type":15,"tag":64,"props":3131,"children":3133},{"href":3132},"./feature",[3134],{"type":21,"value":3135},"Feature",{"type":21,"value":3137}," for more information on using layer configurators\nfor features.",{"type":15,"tag":2760,"props":3139,"children":3141},{"id":3140},"one-by-one",[3142],{"type":21,"value":3143},"One by One",{"type":15,"tag":23,"props":3145,"children":3146},{},[3147],{"type":21,"value":3148},"Below code demonstrates providing configuration objects one by one;",{"type":15,"tag":298,"props":3150,"children":3152},{"className":300,"code":3151,"language":302,"meta":8,"style":8},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContextBuilder()\n            .Add(_configuration1)\n            .Add(_configuration2)\n            .Build()\n        ;\n}\n",[3153],{"type":15,"tag":29,"props":3154,"children":3155},{"__ignoreMap":8},[3156,3191,3198,3225,3252,3259,3298,3318,3342,3365,3380,3388],{"type":15,"tag":308,"props":3157,"children":3158},{"class":310,"line":311},[3159,3163,3167,3171,3175,3179,3183,3187],{"type":15,"tag":308,"props":3160,"children":3161},{"style":315},[3162],{"type":21,"value":318},{"type":15,"tag":308,"props":3164,"children":3165},{"style":315},[3166],{"type":21,"value":323},{"type":15,"tag":308,"props":3168,"children":3169},{"style":326},[3170],{"type":21,"value":329},{"type":15,"tag":308,"props":3172,"children":3173},{"style":332},[3174],{"type":21,"value":335},{"type":15,"tag":308,"props":3176,"children":3177},{"style":326},[3178],{"type":21,"value":294},{"type":15,"tag":308,"props":3180,"children":3181},{"style":332},[3182],{"type":21,"value":634},{"type":15,"tag":308,"props":3184,"children":3185},{"style":326},[3186],{"type":21,"value":1924},{"type":15,"tag":308,"props":3188,"children":3189},{"style":332},[3190],{"type":21,"value":1158},{"type":15,"tag":308,"props":3192,"children":3193},{"class":310,"line":343},[3194],{"type":15,"tag":308,"props":3195,"children":3196},{"style":332},[3197],{"type":21,"value":349},{"type":15,"tag":308,"props":3199,"children":3200},{"class":310,"line":352},[3201,3205,3209,3213,3217,3221],{"type":15,"tag":308,"props":3202,"children":3203},{"style":315},[3204],{"type":21,"value":1943},{"type":15,"tag":308,"props":3206,"children":3207},{"style":326},[3208],{"type":21,"value":2831},{"type":15,"tag":308,"props":3210,"children":3211},{"style":513},[3212],{"type":21,"value":2836},{"type":15,"tag":308,"props":3214,"children":3215},{"style":519},[3216],{"type":21,"value":991},{"type":15,"tag":308,"props":3218,"children":3219},{"style":315},[3220],{"type":21,"value":682},{"type":15,"tag":308,"props":3222,"children":3223},{"style":332},[3224],{"type":21,"value":692},{"type":15,"tag":308,"props":3226,"children":3227},{"class":310,"line":361},[3228,3232,3236,3240,3244,3248],{"type":15,"tag":308,"props":3229,"children":3230},{"style":315},[3231],{"type":21,"value":1943},{"type":15,"tag":308,"props":3233,"children":3234},{"style":326},[3235],{"type":21,"value":2860},{"type":15,"tag":308,"props":3237,"children":3238},{"style":513},[3239],{"type":21,"value":2865},{"type":15,"tag":308,"props":3241,"children":3242},{"style":519},[3243],{"type":21,"value":991},{"type":15,"tag":308,"props":3245,"children":3246},{"style":315},[3247],{"type":21,"value":682},{"type":15,"tag":308,"props":3249,"children":3250},{"style":332},[3251],{"type":21,"value":692},{"type":15,"tag":308,"props":3253,"children":3254},{"class":310,"line":544},[3255],{"type":15,"tag":308,"props":3256,"children":3257},{"emptyLinePlaceholder":733},[3258],{"type":21,"value":736},{"type":15,"tag":308,"props":3260,"children":3261},{"class":310,"line":695},[3262,3266,3270,3274,3278,3282,3286,3290,3294],{"type":15,"tag":308,"props":3263,"children":3264},{"style":315},[3265],{"type":21,"value":500},{"type":15,"tag":308,"props":3267,"children":3268},{"style":315},[3269],{"type":21,"value":505},{"type":15,"tag":308,"props":3271,"children":3272},{"style":326},[3273],{"type":21,"value":1988},{"type":15,"tag":308,"props":3275,"children":3276},{"style":647},[3277],{"type":21,"value":1993},{"type":15,"tag":308,"props":3279,"children":3280},{"style":332},[3281],{"type":21,"value":1036},{"type":15,"tag":308,"props":3283,"children":3284},{"style":326},[3285],{"type":21,"value":1924},{"type":15,"tag":308,"props":3287,"children":3288},{"style":513},[3289],{"type":21,"value":2006},{"type":15,"tag":308,"props":3291,"children":3292},{"style":332},[3293],{"type":21,"value":2011},{"type":15,"tag":308,"props":3295,"children":3296},{"style":519},[3297],{"type":21,"value":2016},{"type":15,"tag":308,"props":3299,"children":3300},{"class":310,"line":720},[3301,3305,3309,3314],{"type":15,"tag":308,"props":3302,"children":3303},{"style":513},[3304],{"type":21,"value":2024},{"type":15,"tag":308,"props":3306,"children":3307},{"style":332},[3308],{"type":21,"value":296},{"type":15,"tag":308,"props":3310,"children":3311},{"style":647},[3312],{"type":21,"value":3313},"CreateContextBuilder",{"type":15,"tag":308,"props":3315,"children":3316},{"style":332},[3317],{"type":21,"value":655},{"type":15,"tag":308,"props":3319,"children":3320},{"class":310,"line":729},[3321,3326,3330,3334,3338],{"type":15,"tag":308,"props":3322,"children":3323},{"style":332},[3324],{"type":21,"value":3325},"            .",{"type":15,"tag":308,"props":3327,"children":3328},{"style":647},[3329],{"type":21,"value":166},{"type":15,"tag":308,"props":3331,"children":3332},{"style":332},[3333],{"type":21,"value":1036},{"type":15,"tag":308,"props":3335,"children":3336},{"style":513},[3337],{"type":21,"value":2947},{"type":15,"tag":308,"props":3339,"children":3340},{"style":332},[3341],{"type":21,"value":1201},{"type":15,"tag":308,"props":3343,"children":3344},{"class":310,"line":739},[3345,3349,3353,3357,3361],{"type":15,"tag":308,"props":3346,"children":3347},{"style":332},[3348],{"type":21,"value":3325},{"type":15,"tag":308,"props":3350,"children":3351},{"style":647},[3352],{"type":21,"value":166},{"type":15,"tag":308,"props":3354,"children":3355},{"style":332},[3356],{"type":21,"value":1036},{"type":15,"tag":308,"props":3358,"children":3359},{"style":513},[3360],{"type":21,"value":2956},{"type":15,"tag":308,"props":3362,"children":3363},{"style":332},[3364],{"type":21,"value":1201},{"type":15,"tag":308,"props":3366,"children":3367},{"class":310,"line":770},[3368,3372,3376],{"type":15,"tag":308,"props":3369,"children":3370},{"style":332},[3371],{"type":21,"value":3325},{"type":15,"tag":308,"props":3373,"children":3374},{"style":647},[3375],{"type":21,"value":255},{"type":15,"tag":308,"props":3377,"children":3378},{"style":332},[3379],{"type":21,"value":655},{"type":15,"tag":308,"props":3381,"children":3382},{"class":310,"line":798},[3383],{"type":15,"tag":308,"props":3384,"children":3385},{"style":332},[3386],{"type":21,"value":3387},"        ;\n",{"type":15,"tag":308,"props":3389,"children":3390},{"class":310,"line":1577},[3391],{"type":15,"tag":308,"props":3392,"children":3393},{"style":332},[3394],{"type":21,"value":367},{"type":15,"tag":23,"props":3396,"children":3397},{},[3398],{"type":21,"value":3399},"This phase context will require two different actions in a feature;",{"type":15,"tag":298,"props":3401,"children":3403},{"className":300,"code":3402,"language":302,"meta":8,"style":8},"...\npublic void Configure(LayerConfigurator configurator)\n{\n    configurator.Configure((Configuration1 configuration1) =>\n    {\n        // configure one by one\n    });\n\n    configurator.Configure((Configuration2 configuration2) =>\n    {\n        // configure one by one\n    });\n}\n...\n",[3404],{"type":15,"tag":29,"props":3405,"children":3406},{"__ignoreMap":8},[3407,3418,3449,3456,3491,3498,3506,3513,3520,3555,3562,3569,3576,3583],{"type":15,"tag":308,"props":3408,"children":3409},{"class":310,"line":311},[3410,3414],{"type":15,"tag":308,"props":3411,"children":3412},{"style":519},[3413],{"type":21,"value":2276},{"type":15,"tag":308,"props":3415,"children":3416},{"style":332},[3417],{"type":21,"value":541},{"type":15,"tag":308,"props":3419,"children":3420},{"class":310,"line":343},[3421,3425,3429,3433,3437,3441,3445],{"type":15,"tag":308,"props":3422,"children":3423},{"style":315},[3424],{"type":21,"value":318},{"type":15,"tag":308,"props":3426,"children":3427},{"style":315},[3428],{"type":21,"value":957},{"type":15,"tag":308,"props":3430,"children":3431},{"style":647},[3432],{"type":21,"value":3006},{"type":15,"tag":308,"props":3434,"children":3435},{"style":332},[3436],{"type":21,"value":1036},{"type":15,"tag":308,"props":3438,"children":3439},{"style":326},[3440],{"type":21,"value":231},{"type":15,"tag":308,"props":3442,"children":3443},{"style":513},[3444],{"type":21,"value":3019},{"type":15,"tag":308,"props":3446,"children":3447},{"style":332},[3448],{"type":21,"value":1201},{"type":15,"tag":308,"props":3450,"children":3451},{"class":310,"line":352},[3452],{"type":15,"tag":308,"props":3453,"children":3454},{"style":332},[3455],{"type":21,"value":349},{"type":15,"tag":308,"props":3457,"children":3458},{"class":310,"line":361},[3459,3463,3467,3471,3475,3479,3483,3487],{"type":15,"tag":308,"props":3460,"children":3461},{"style":513},[3462],{"type":21,"value":3038},{"type":15,"tag":308,"props":3464,"children":3465},{"style":332},[3466],{"type":21,"value":296},{"type":15,"tag":308,"props":3468,"children":3469},{"style":647},[3470],{"type":21,"value":224},{"type":15,"tag":308,"props":3472,"children":3473},{"style":332},[3474],{"type":21,"value":3051},{"type":15,"tag":308,"props":3476,"children":3477},{"style":326},[3478],{"type":21,"value":3056},{"type":15,"tag":308,"props":3480,"children":3481},{"style":513},[3482],{"type":21,"value":3061},{"type":15,"tag":308,"props":3484,"children":3485},{"style":332},[3486],{"type":21,"value":2011},{"type":15,"tag":308,"props":3488,"children":3489},{"style":519},[3490],{"type":21,"value":2016},{"type":15,"tag":308,"props":3492,"children":3493},{"class":310,"line":544},[3494],{"type":15,"tag":308,"props":3495,"children":3496},{"style":332},[3497],{"type":21,"value":663},{"type":15,"tag":308,"props":3499,"children":3500},{"class":310,"line":695},[3501],{"type":15,"tag":308,"props":3502,"children":3503},{"style":1410},[3504],{"type":21,"value":3505},"        // configure one by one\n",{"type":15,"tag":308,"props":3507,"children":3508},{"class":310,"line":720},[3509],{"type":15,"tag":308,"props":3510,"children":3511},{"style":332},[3512],{"type":21,"value":3106},{"type":15,"tag":308,"props":3514,"children":3515},{"class":310,"line":729},[3516],{"type":15,"tag":308,"props":3517,"children":3518},{"emptyLinePlaceholder":733},[3519],{"type":21,"value":736},{"type":15,"tag":308,"props":3521,"children":3522},{"class":310,"line":739},[3523,3527,3531,3535,3539,3543,3547,3551],{"type":15,"tag":308,"props":3524,"children":3525},{"style":513},[3526],{"type":21,"value":3038},{"type":15,"tag":308,"props":3528,"children":3529},{"style":332},[3530],{"type":21,"value":296},{"type":15,"tag":308,"props":3532,"children":3533},{"style":647},[3534],{"type":21,"value":224},{"type":15,"tag":308,"props":3536,"children":3537},{"style":332},[3538],{"type":21,"value":3051},{"type":15,"tag":308,"props":3540,"children":3541},{"style":326},[3542],{"type":21,"value":3070},{"type":15,"tag":308,"props":3544,"children":3545},{"style":513},[3546],{"type":21,"value":3075},{"type":15,"tag":308,"props":3548,"children":3549},{"style":332},[3550],{"type":21,"value":2011},{"type":15,"tag":308,"props":3552,"children":3553},{"style":519},[3554],{"type":21,"value":2016},{"type":15,"tag":308,"props":3556,"children":3557},{"class":310,"line":770},[3558],{"type":15,"tag":308,"props":3559,"children":3560},{"style":332},[3561],{"type":21,"value":663},{"type":15,"tag":308,"props":3563,"children":3564},{"class":310,"line":798},[3565],{"type":15,"tag":308,"props":3566,"children":3567},{"style":1410},[3568],{"type":21,"value":3505},{"type":15,"tag":308,"props":3570,"children":3571},{"class":310,"line":1577},[3572],{"type":15,"tag":308,"props":3573,"children":3574},{"style":332},[3575],{"type":21,"value":3106},{"type":15,"tag":308,"props":3577,"children":3578},{"class":310,"line":1597},[3579],{"type":15,"tag":308,"props":3580,"children":3581},{"style":332},[3582],{"type":21,"value":367},{"type":15,"tag":308,"props":3584,"children":3585},{"class":310,"line":1647},[3586,3590],{"type":15,"tag":308,"props":3587,"children":3588},{"style":519},[3589],{"type":21,"value":2276},{"type":15,"tag":308,"props":3591,"children":3592},{"style":332},[3593],{"type":21,"value":541},{"type":15,"tag":369,"props":3595,"children":3596},{},[3597,3604],{"type":15,"tag":23,"props":3598,"children":3599},{},[3600],{"type":15,"tag":308,"props":3601,"children":3602},{},[3603],{"type":21,"value":379},{"type":15,"tag":23,"props":3605,"children":3606},{},[3607,3613,3615,3621],{"type":15,"tag":29,"props":3608,"children":3610},{"className":3609},[],[3611],{"type":21,"value":3612},"phase.CreateContext()",{"type":21,"value":3614}," is a helper method that utilizes\n",{"type":15,"tag":29,"props":3616,"children":3618},{"className":3617},[],[3619],{"type":21,"value":3620},"phase.CreateContextBuilder()",{"type":21,"value":3622}," behind the scenes.",{"type":15,"tag":2760,"props":3624,"children":3626},{"id":3625},"using-in-combination",[3627],{"type":21,"value":3628},"Using in Combination",{"type":15,"tag":23,"props":3630,"children":3631},{},[3632],{"type":21,"value":3633},"You may combine these two ways to provide configuration;",{"type":15,"tag":298,"props":3635,"children":3637},{"className":300,"code":3636,"language":302,"meta":8,"style":8},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n    readonly Configuration3 _configuration3 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContextBuilder()\n            .Add(_configuration1, _configuration2)\n            .Add(_configuration3)\n            .Build()\n        ;\n}\n",[3638],{"type":15,"tag":29,"props":3639,"children":3640},{"__ignoreMap":8},[3641,3676,3683,3710,3737,3766,3773,3812,3831,3862,3886,3901,3908],{"type":15,"tag":308,"props":3642,"children":3643},{"class":310,"line":311},[3644,3648,3652,3656,3660,3664,3668,3672],{"type":15,"tag":308,"props":3645,"children":3646},{"style":315},[3647],{"type":21,"value":318},{"type":15,"tag":308,"props":3649,"children":3650},{"style":315},[3651],{"type":21,"value":323},{"type":15,"tag":308,"props":3653,"children":3654},{"style":326},[3655],{"type":21,"value":329},{"type":15,"tag":308,"props":3657,"children":3658},{"style":332},[3659],{"type":21,"value":335},{"type":15,"tag":308,"props":3661,"children":3662},{"style":326},[3663],{"type":21,"value":294},{"type":15,"tag":308,"props":3665,"children":3666},{"style":332},[3667],{"type":21,"value":634},{"type":15,"tag":308,"props":3669,"children":3670},{"style":326},[3671],{"type":21,"value":1924},{"type":15,"tag":308,"props":3673,"children":3674},{"style":332},[3675],{"type":21,"value":1158},{"type":15,"tag":308,"props":3677,"children":3678},{"class":310,"line":343},[3679],{"type":15,"tag":308,"props":3680,"children":3681},{"style":332},[3682],{"type":21,"value":349},{"type":15,"tag":308,"props":3684,"children":3685},{"class":310,"line":352},[3686,3690,3694,3698,3702,3706],{"type":15,"tag":308,"props":3687,"children":3688},{"style":315},[3689],{"type":21,"value":1943},{"type":15,"tag":308,"props":3691,"children":3692},{"style":326},[3693],{"type":21,"value":2831},{"type":15,"tag":308,"props":3695,"children":3696},{"style":513},[3697],{"type":21,"value":2836},{"type":15,"tag":308,"props":3699,"children":3700},{"style":519},[3701],{"type":21,"value":991},{"type":15,"tag":308,"props":3703,"children":3704},{"style":315},[3705],{"type":21,"value":682},{"type":15,"tag":308,"props":3707,"children":3708},{"style":332},[3709],{"type":21,"value":692},{"type":15,"tag":308,"props":3711,"children":3712},{"class":310,"line":361},[3713,3717,3721,3725,3729,3733],{"type":15,"tag":308,"props":3714,"children":3715},{"style":315},[3716],{"type":21,"value":1943},{"type":15,"tag":308,"props":3718,"children":3719},{"style":326},[3720],{"type":21,"value":2860},{"type":15,"tag":308,"props":3722,"children":3723},{"style":513},[3724],{"type":21,"value":2865},{"type":15,"tag":308,"props":3726,"children":3727},{"style":519},[3728],{"type":21,"value":991},{"type":15,"tag":308,"props":3730,"children":3731},{"style":315},[3732],{"type":21,"value":682},{"type":15,"tag":308,"props":3734,"children":3735},{"style":332},[3736],{"type":21,"value":692},{"type":15,"tag":308,"props":3738,"children":3739},{"class":310,"line":544},[3740,3744,3749,3754,3758,3762],{"type":15,"tag":308,"props":3741,"children":3742},{"style":315},[3743],{"type":21,"value":1943},{"type":15,"tag":308,"props":3745,"children":3746},{"style":326},[3747],{"type":21,"value":3748}," Configuration3",{"type":15,"tag":308,"props":3750,"children":3751},{"style":513},[3752],{"type":21,"value":3753}," _configuration3",{"type":15,"tag":308,"props":3755,"children":3756},{"style":519},[3757],{"type":21,"value":991},{"type":15,"tag":308,"props":3759,"children":3760},{"style":315},[3761],{"type":21,"value":682},{"type":15,"tag":308,"props":3763,"children":3764},{"style":332},[3765],{"type":21,"value":692},{"type":15,"tag":308,"props":3767,"children":3768},{"class":310,"line":695},[3769],{"type":15,"tag":308,"props":3770,"children":3771},{"emptyLinePlaceholder":733},[3772],{"type":21,"value":736},{"type":15,"tag":308,"props":3774,"children":3775},{"class":310,"line":720},[3776,3780,3784,3788,3792,3796,3800,3804,3808],{"type":15,"tag":308,"props":3777,"children":3778},{"style":315},[3779],{"type":21,"value":500},{"type":15,"tag":308,"props":3781,"children":3782},{"style":315},[3783],{"type":21,"value":505},{"type":15,"tag":308,"props":3785,"children":3786},{"style":326},[3787],{"type":21,"value":1988},{"type":15,"tag":308,"props":3789,"children":3790},{"style":647},[3791],{"type":21,"value":1993},{"type":15,"tag":308,"props":3793,"children":3794},{"style":332},[3795],{"type":21,"value":1036},{"type":15,"tag":308,"props":3797,"children":3798},{"style":326},[3799],{"type":21,"value":1924},{"type":15,"tag":308,"props":3801,"children":3802},{"style":513},[3803],{"type":21,"value":2006},{"type":15,"tag":308,"props":3805,"children":3806},{"style":332},[3807],{"type":21,"value":2011},{"type":15,"tag":308,"props":3809,"children":3810},{"style":519},[3811],{"type":21,"value":2016},{"type":15,"tag":308,"props":3813,"children":3814},{"class":310,"line":729},[3815,3819,3823,3827],{"type":15,"tag":308,"props":3816,"children":3817},{"style":513},[3818],{"type":21,"value":2024},{"type":15,"tag":308,"props":3820,"children":3821},{"style":332},[3822],{"type":21,"value":296},{"type":15,"tag":308,"props":3824,"children":3825},{"style":647},[3826],{"type":21,"value":3313},{"type":15,"tag":308,"props":3828,"children":3829},{"style":332},[3830],{"type":21,"value":655},{"type":15,"tag":308,"props":3832,"children":3833},{"class":310,"line":739},[3834,3838,3842,3846,3850,3854,3858],{"type":15,"tag":308,"props":3835,"children":3836},{"style":332},[3837],{"type":21,"value":3325},{"type":15,"tag":308,"props":3839,"children":3840},{"style":647},[3841],{"type":21,"value":166},{"type":15,"tag":308,"props":3843,"children":3844},{"style":332},[3845],{"type":21,"value":1036},{"type":15,"tag":308,"props":3847,"children":3848},{"style":513},[3849],{"type":21,"value":2947},{"type":15,"tag":308,"props":3851,"children":3852},{"style":332},[3853],{"type":21,"value":209},{"type":15,"tag":308,"props":3855,"children":3856},{"style":513},[3857],{"type":21,"value":2956},{"type":15,"tag":308,"props":3859,"children":3860},{"style":332},[3861],{"type":21,"value":1201},{"type":15,"tag":308,"props":3863,"children":3864},{"class":310,"line":770},[3865,3869,3873,3877,3882],{"type":15,"tag":308,"props":3866,"children":3867},{"style":332},[3868],{"type":21,"value":3325},{"type":15,"tag":308,"props":3870,"children":3871},{"style":647},[3872],{"type":21,"value":166},{"type":15,"tag":308,"props":3874,"children":3875},{"style":332},[3876],{"type":21,"value":1036},{"type":15,"tag":308,"props":3878,"children":3879},{"style":513},[3880],{"type":21,"value":3881},"_configuration3",{"type":15,"tag":308,"props":3883,"children":3884},{"style":332},[3885],{"type":21,"value":1201},{"type":15,"tag":308,"props":3887,"children":3888},{"class":310,"line":798},[3889,3893,3897],{"type":15,"tag":308,"props":3890,"children":3891},{"style":332},[3892],{"type":21,"value":3325},{"type":15,"tag":308,"props":3894,"children":3895},{"style":647},[3896],{"type":21,"value":255},{"type":15,"tag":308,"props":3898,"children":3899},{"style":332},[3900],{"type":21,"value":655},{"type":15,"tag":308,"props":3902,"children":3903},{"class":310,"line":1577},[3904],{"type":15,"tag":308,"props":3905,"children":3906},{"style":332},[3907],{"type":21,"value":3387},{"type":15,"tag":308,"props":3909,"children":3910},{"class":310,"line":1597},[3911],{"type":15,"tag":308,"props":3912,"children":3913},{"style":332},[3914],{"type":21,"value":367},{"type":15,"tag":23,"props":3916,"children":3917},{},[3918],{"type":21,"value":3919},"This phase context will require two different actions;",{"type":15,"tag":101,"props":3921,"children":3922},{},[3923,3934],{"type":15,"tag":105,"props":3924,"children":3925},{},[3926,3928],{"type":21,"value":3927},"For the first two configuration objects: ",{"type":15,"tag":29,"props":3929,"children":3931},{"className":3930},[],[3932],{"type":21,"value":3933},"(Configuration1 configuration1, Configuration2 configuration2)",{"type":15,"tag":105,"props":3935,"children":3936},{},[3937,3939,3945],{"type":21,"value":3938},"For the last configuration object: ",{"type":15,"tag":29,"props":3940,"children":3942},{"className":3941},[],[3943],{"type":21,"value":3944},"(Configuration3 configuration3)",{"type":21,"value":296},{"type":15,"tag":3947,"props":3948,"children":3949},"style",{},[3950],{"type":21,"value":3951},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":8,"searchDepth":343,"depth":343,"links":3953},[3954,3955,3959,3964],{"id":91,"depth":343,"text":94},{"id":280,"depth":343,"text":283,"children":3956},[3957],{"id":395,"depth":352,"text":3958},"Id of a Layer",{"id":552,"depth":343,"text":555,"children":3960},[3961,3962,3963],{"id":850,"depth":352,"text":853},{"id":1084,"depth":352,"text":1087},{"id":1771,"depth":352,"text":1774},{"id":1869,"depth":343,"text":1872,"children":3965},[3966,3968,3969],{"id":2112,"depth":352,"text":3967},"Using non-generic LayerBase",{"id":2374,"depth":352,"text":2377},{"id":2750,"depth":352,"text":2753},"markdown","content:architecture:layer.md","content","architecture/layer.md","architecture/layer","md",["Reactive",3977],{},["Set"],["ShallowReactive",3980],{"content-query-hBLt6OxXWy":3981},null,1730469929536,["Reactive",3984],{"sectionStore":3985,"pageStore":4002},{"sections":3986},[3987,3990,3993,3996,3999],{"_path":3988,"_dir":8,"title":3989},"/recipes/","Recipes",{"_path":3991,"_dir":8,"title":3992},"/features/","Features",{"_path":3994,"_dir":8,"title":3995},"/layers/","Layers",{"_path":3997,"_dir":8,"title":3998},"/architecture/","Architecture",{"_path":4000,"_dir":8,"title":4001},"/release-notes/","Release Notes",{"pages":4003},[4004,4008,4010,4011],{"_path":3997,"title":3998,"pages":4005},[4006,18,4007],"application","feature",{"_path":4009,"title":69},"/architecture/application",{"_path":5,"title":9},{"_path":4012,"title":3135},"/architecture/feature"]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:false,h3:false,h4:false,h5:false,h6:false}}},baseURL:"/",githubURL:"/mouseless/baked",content:{locales:[],defaultLocale:"",integrity:1730469920380,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"slack-dark",preload:["diff","ts","js","css","java","markdown","sql","xml","json","csharp","md","bash"],highlighter:"shiki",langs:["js","jsx","json","ts","tsx","vue","css","html","bash","md","mdc","yaml","diff","ts","js","css","java","markdown","sql","xml","json","csharp","md","bash"]},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildId:"93298f5d-a164-4191-aeb1-c3637f69120b",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>