[{"data":1,"prerenderedAt":4182},["Reactive",2],{"content-query-hBLt6OxXWy":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"_empty":6,"title":8,"description":9,"body":10,"_type":4177,"_id":4178,"_source":4179,"_file":4180,"_extension":4181},"/architecture/layer","architecture",false,"","Layer","Each ILayer implementation represents an internal system component of the\nsoftware you develop. A layer provides application features with configuration\nof this system component so that the features can bind domain objects and\nsystem components together.",{"type":11,"children":12,"toc":4159},"root",[13,21,35,47,82,89,94,240,255,261,273,357,377,389,428,433,556,562,580,886,909,921,927,964,1166,1183,1189,1213,1437,1454,1480,1505,1511,1534,1642,1648,1660,1880,1903,1928,1938,1961,2217,2223,2242,2615,2645,2667,2673,2678,2685,2690,2960,2965,3140,3153,3159,3164,3485,3490,3715,3739,3745,3750,4125,4130,4154],{"type":14,"tag":15,"props":16,"children":18},"element","h1",{"id":17},"layer",[19],{"type":20,"value":8},"text",{"type":14,"tag":22,"props":23,"children":24},"p",{},[25,27,33],{"type":20,"value":26},"Each ",{"type":14,"tag":28,"props":29,"children":30},"code-inline",{},[31],{"type":20,"value":32},"ILayer",{"type":20,"value":34}," implementation represents an internal system component of the\nsoftware you develop. A layer provides application features with configuration\nof this system component so that the features can bind domain objects and\nsystem components together.",{"type":14,"tag":22,"props":36,"children":37},{},[38,40,45],{"type":20,"value":39},"Let's take relational database as an example. A relational database is treated\nas an internal system component and is introduced by the ",{"type":14,"tag":28,"props":41,"children":42},{},[43],{"type":20,"value":44},"DataAccessLayer",{"type":20,"value":46}," along\nwith a configuration API. This API enables a feature to map your domain entities\nto database tables.",{"type":14,"tag":22,"props":48,"children":49},{},[50,52,57,59,66,68,73,75,80],{"type":20,"value":51},"Another good example is the ",{"type":14,"tag":28,"props":53,"children":54},{},[55],{"type":20,"value":56},"HttpServerLayer",{"type":20,"value":58},". This layer introduces the ASP.NET\nCore framework into your application. It provides three phases, as mentioned in\n",{"type":14,"tag":60,"props":61,"children":63},"a",{"href":62},"./application",[64],{"type":20,"value":65},"Application",{"type":20,"value":67},", along with ",{"type":14,"tag":28,"props":69,"children":70},{},[71],{"type":20,"value":72},"IMiddlewareCollection",{"type":20,"value":74}," and\n",{"type":14,"tag":28,"props":76,"children":77},{},[78],{"type":20,"value":79},"IEndpointRouteBuilder",{"type":20,"value":81}," objects as its configuration API. This way, any feature\nhas the ability to use a middleware or add routes to the application.",{"type":14,"tag":83,"props":84,"children":86},"h2",{"id":85},"conventions",[87],{"type":20,"value":88},"Conventions",{"type":14,"tag":22,"props":90,"children":91},{},[92],{"type":20,"value":93},"For a consistent developer experience, follow below conventions when\nimplementing a new layer;",{"type":14,"tag":95,"props":96,"children":97},"ol",{},[98,109,125,219,224],{"type":14,"tag":99,"props":100,"children":101},"li",{},[102,104],{"type":20,"value":103},"Place all layer related classes under the same folder named after layer,\ne.g., ",{"type":14,"tag":28,"props":105,"children":106},{},[107],{"type":20,"value":108},"DependencyInjection/",{"type":14,"tag":99,"props":110,"children":111},{},[112,114,118,120],{"type":20,"value":113},"Use ",{"type":14,"tag":28,"props":115,"children":116},{},[117],{"type":20,"value":8},{"type":20,"value":119}," suffix in layer class name, e.g.,\n",{"type":14,"tag":28,"props":121,"children":122},{},[123],{"type":20,"value":124},"DependencyInjection/DependencyInjectionLayer.cs",{"type":14,"tag":99,"props":126,"children":127},{},[128,130,135,137,142,144],{"type":20,"value":129},"Provide extension methods in ",{"type":14,"tag":28,"props":131,"children":132},{},[133],{"type":20,"value":134},"Do",{"type":20,"value":136}," namespace, e.g.,\n",{"type":14,"tag":28,"props":138,"children":139},{},[140],{"type":20,"value":141},"DependencyInjection/DependencyInjectionExtensions.cs",{"type":20,"value":143},";",{"type":14,"tag":95,"props":145,"children":146},{},[147,169,198],{"type":14,"tag":99,"props":148,"children":149},{},[150,155,157,162,164],{"type":14,"tag":28,"props":151,"children":152},{},[153],{"type":20,"value":154},"Add",{"type":20,"value":156}," extension to ",{"type":14,"tag":28,"props":158,"children":159},{},[160],{"type":20,"value":161},"List\u003CILayer>",{"type":20,"value":163},", e.g., ",{"type":14,"tag":28,"props":165,"children":166},{},[167],{"type":20,"value":168},"AddDependencyInjection()",{"type":14,"tag":99,"props":170,"children":171},{},[172,177,179,184,186,191,193],{"type":14,"tag":28,"props":173,"children":174},{},[175],{"type":20,"value":176},"Get",{"type":20,"value":178}," extensions to ",{"type":14,"tag":28,"props":180,"children":181},{},[182],{"type":20,"value":183},"ApplicationContext",{"type":20,"value":185},", e.g.,\n",{"type":14,"tag":28,"props":187,"children":188},{},[189],{"type":20,"value":190},"GetWebApplicationBuilder()",{"type":20,"value":192},", ",{"type":14,"tag":28,"props":194,"children":195},{},[196],{"type":20,"value":197},"GetWebApplication()",{"type":14,"tag":99,"props":199,"children":200},{},[201,206,207,212,214],{"type":14,"tag":28,"props":202,"children":203},{},[204],{"type":20,"value":205},"Configure",{"type":20,"value":178},{"type":14,"tag":28,"props":208,"children":209},{},[210],{"type":20,"value":211},"LayerConfigurator",{"type":20,"value":213}," per configuration\ntarget(s), e.g., ",{"type":14,"tag":28,"props":215,"children":216},{},[217],{"type":20,"value":218},"ConfigureServiceCollection()",{"type":14,"tag":99,"props":220,"children":221},{},[222],{"type":20,"value":223},"Place phase implementations as nested classes under the layer class",{"type":14,"tag":99,"props":225,"children":226},{},[227,229,234,235],{"type":20,"value":228},"Don't use any suffix for phases and use method-like names, e.g., ",{"type":14,"tag":28,"props":230,"children":231},{},[232],{"type":20,"value":233},"Build",{"type":20,"value":74},{"type":14,"tag":28,"props":236,"children":237},{},[238],{"type":20,"value":239},"Run",{"type":14,"tag":22,"props":241,"children":242},{},[243,245,253],{"type":20,"value":244},"Please refer to existing layers in ",{"type":14,"tag":60,"props":246,"children":250},{"href":247,"rel":248},"https://github.com/mouseless/do",[249],"nofollow",[251],{"type":20,"value":252},"github.com/mouseless/do",{"type":20,"value":254}," for examples.",{"type":14,"tag":83,"props":256,"children":258},{"id":257},"creating-a-layer",[259],{"type":20,"value":260},"Creating A Layer",{"type":14,"tag":22,"props":262,"children":263},{},[264,266,271],{"type":20,"value":265},"To create a layer, create a class using above conventions and extend\n",{"type":14,"tag":28,"props":267,"children":268},{},[269],{"type":20,"value":270},"LayerBase",{"type":20,"value":272},".",{"type":14,"tag":274,"props":275,"children":279},"code",{"code":276,"language":277,"meta":278},"public class LayerX : LayerBase\n{\n    ...\n}\n","csharp",null,[280],{"type":14,"tag":281,"props":282,"children":283},"pre",{},[284],{"type":14,"tag":274,"props":285,"children":286},{"__ignoreMap":7},[287,330,339,348],{"type":14,"tag":288,"props":289,"children":292},"span",{"class":290,"line":291},"line",1,[293,299,305,310,314,320,325],{"type":14,"tag":288,"props":294,"children":296},{"class":295},"ct-516740",[297],{"type":20,"value":298},"public",{"type":14,"tag":288,"props":300,"children":302},{"class":301},"ct-955215",[303],{"type":20,"value":304}," ",{"type":14,"tag":288,"props":306,"children":307},{"class":295},[308],{"type":20,"value":309},"class",{"type":14,"tag":288,"props":311,"children":312},{"class":301},[313],{"type":20,"value":304},{"type":14,"tag":288,"props":315,"children":317},{"class":316},"ct-378459",[318],{"type":20,"value":319},"LayerX",{"type":14,"tag":288,"props":321,"children":322},{"class":301},[323],{"type":20,"value":324}," : ",{"type":14,"tag":288,"props":326,"children":327},{"class":316},[328],{"type":20,"value":329},"LayerBase\n",{"type":14,"tag":288,"props":331,"children":333},{"class":290,"line":332},2,[334],{"type":14,"tag":288,"props":335,"children":336},{"class":301},[337],{"type":20,"value":338},"{\n",{"type":14,"tag":288,"props":340,"children":342},{"class":290,"line":341},3,[343],{"type":14,"tag":288,"props":344,"children":345},{"class":301},[346],{"type":20,"value":347},"    ...\n",{"type":14,"tag":288,"props":349,"children":351},{"class":290,"line":350},4,[352],{"type":14,"tag":288,"props":353,"children":354},{"class":301},[355],{"type":20,"value":356},"}",{"type":14,"tag":358,"props":359,"children":360},"blockquote",{},[361,366],{"type":14,"tag":22,"props":362,"children":363},{},[364],{"type":20,"value":365},":bulb:",{"type":14,"tag":22,"props":367,"children":368},{},[369,371,375],{"type":20,"value":370},"You can directly implement provided interface ",{"type":14,"tag":28,"props":372,"children":373},{},[374],{"type":20,"value":32},{"type":20,"value":376},", however we've created\nsome base classes to make it easier for you to create layers. All examples\ndemonstrate usage of these base classes.",{"type":14,"tag":378,"props":379,"children":381},"h3",{"id":380},"id-of-a-layer",[382,387],{"type":14,"tag":28,"props":383,"children":384},{},[385],{"type":20,"value":386},"Id",{"type":20,"value":388}," of a Layer",{"type":14,"tag":22,"props":390,"children":391},{},[392,396,398,402,404,408,410,414,416,420,422,426],{"type":14,"tag":28,"props":393,"children":394},{},[395],{"type":20,"value":32},{"type":20,"value":397}," has an ",{"type":14,"tag":28,"props":399,"children":400},{},[401],{"type":20,"value":386},{"type":20,"value":403}," property which should be a unique per ",{"type":14,"tag":28,"props":405,"children":406},{},[407],{"type":20,"value":65},{"type":20,"value":409},"\ninstance. ",{"type":14,"tag":28,"props":411,"children":412},{},[413],{"type":20,"value":270},{"type":20,"value":415}," sets the ",{"type":14,"tag":28,"props":417,"children":418},{},[419],{"type":20,"value":386},{"type":20,"value":421}," as name of the concrete class e.g.,\n",{"type":14,"tag":28,"props":423,"children":424},{},[425],{"type":20,"value":319},{"type":20,"value":427}," at above example.",{"type":14,"tag":22,"props":429,"children":430},{},[431],{"type":20,"value":432},"You can override its value in layer implementation class as shown below;",{"type":14,"tag":274,"props":434,"children":436},{"code":435,"language":277,"meta":278},"public class LayerX : LayerBase\n{\n    protected override string Id => \"CustomUniqueId\"\n    ...\n}\n",[437],{"type":14,"tag":281,"props":438,"children":439},{},[440],{"type":14,"tag":274,"props":441,"children":442},{"__ignoreMap":7},[443,474,481,541,548],{"type":14,"tag":288,"props":444,"children":445},{"class":290,"line":291},[446,450,454,458,462,466,470],{"type":14,"tag":288,"props":447,"children":448},{"class":295},[449],{"type":20,"value":298},{"type":14,"tag":288,"props":451,"children":452},{"class":301},[453],{"type":20,"value":304},{"type":14,"tag":288,"props":455,"children":456},{"class":295},[457],{"type":20,"value":309},{"type":14,"tag":288,"props":459,"children":460},{"class":301},[461],{"type":20,"value":304},{"type":14,"tag":288,"props":463,"children":464},{"class":316},[465],{"type":20,"value":319},{"type":14,"tag":288,"props":467,"children":468},{"class":301},[469],{"type":20,"value":324},{"type":14,"tag":288,"props":471,"children":472},{"class":316},[473],{"type":20,"value":329},{"type":14,"tag":288,"props":475,"children":476},{"class":290,"line":332},[477],{"type":14,"tag":288,"props":478,"children":479},{"class":301},[480],{"type":20,"value":338},{"type":14,"tag":288,"props":482,"children":483},{"class":290,"line":341},[484,489,494,498,503,507,512,516,521,525,531,535],{"type":14,"tag":288,"props":485,"children":486},{"class":301},[487],{"type":20,"value":488},"    ",{"type":14,"tag":288,"props":490,"children":491},{"class":295},[492],{"type":20,"value":493},"protected",{"type":14,"tag":288,"props":495,"children":496},{"class":301},[497],{"type":20,"value":304},{"type":14,"tag":288,"props":499,"children":500},{"class":295},[501],{"type":20,"value":502},"override",{"type":14,"tag":288,"props":504,"children":505},{"class":301},[506],{"type":20,"value":304},{"type":14,"tag":288,"props":508,"children":509},{"class":295},[510],{"type":20,"value":511},"string",{"type":14,"tag":288,"props":513,"children":514},{"class":301},[515],{"type":20,"value":304},{"type":14,"tag":288,"props":517,"children":519},{"class":518},"ct-e9d130",[520],{"type":20,"value":386},{"type":14,"tag":288,"props":522,"children":523},{"class":301},[524],{"type":20,"value":304},{"type":14,"tag":288,"props":526,"children":528},{"class":527},"ct-7496fb",[529],{"type":20,"value":530},"=>",{"type":14,"tag":288,"props":532,"children":533},{"class":301},[534],{"type":20,"value":304},{"type":14,"tag":288,"props":536,"children":538},{"class":537},"ct-52d695",[539],{"type":20,"value":540},"\"CustomUniqueId\"\n",{"type":14,"tag":288,"props":542,"children":543},{"class":290,"line":350},[544],{"type":14,"tag":288,"props":545,"children":546},{"class":301},[547],{"type":20,"value":347},{"type":14,"tag":288,"props":549,"children":551},{"class":290,"line":550},5,[552],{"type":14,"tag":288,"props":553,"children":554},{"class":301},[555],{"type":20,"value":356},{"type":14,"tag":83,"props":557,"children":559},{"id":558},"adding-phases",[560],{"type":20,"value":561},"Adding Phases",{"type":14,"tag":22,"props":563,"children":564},{},[565,567,571,573,578],{"type":20,"value":566},"By default ",{"type":14,"tag":28,"props":568,"children":569},{},[570],{"type":20,"value":270},{"type":20,"value":572}," returns no phases. To add one or more phases into the\napplication, you need to override ",{"type":14,"tag":28,"props":574,"children":575},{},[576],{"type":20,"value":577},"GetPhases()",{"type":20,"value":579}," method as shown below;",{"type":14,"tag":274,"props":581,"children":583},{"code":582,"language":277,"meta":278},"public class SampleLayer : LayerBase\n{\n    protected override IEnumerable\u003CIPhase> GetPhases()\n    {\n        yield return new DoA();\n        yield return new DoB();\n    }\n\n    public class DoA : PhaseBase { ... }\n    public class DoB : PhaseBase { ... }\n}\n",[584],{"type":14,"tag":281,"props":585,"children":586},{},[587],{"type":14,"tag":274,"props":588,"children":589},{"__ignoreMap":7},[590,622,629,683,691,737,778,787,796,838,878],{"type":14,"tag":288,"props":591,"children":592},{"class":290,"line":291},[593,597,601,605,609,614,618],{"type":14,"tag":288,"props":594,"children":595},{"class":295},[596],{"type":20,"value":298},{"type":14,"tag":288,"props":598,"children":599},{"class":301},[600],{"type":20,"value":304},{"type":14,"tag":288,"props":602,"children":603},{"class":295},[604],{"type":20,"value":309},{"type":14,"tag":288,"props":606,"children":607},{"class":301},[608],{"type":20,"value":304},{"type":14,"tag":288,"props":610,"children":611},{"class":316},[612],{"type":20,"value":613},"SampleLayer",{"type":14,"tag":288,"props":615,"children":616},{"class":301},[617],{"type":20,"value":324},{"type":14,"tag":288,"props":619,"children":620},{"class":316},[621],{"type":20,"value":329},{"type":14,"tag":288,"props":623,"children":624},{"class":290,"line":332},[625],{"type":14,"tag":288,"props":626,"children":627},{"class":301},[628],{"type":20,"value":338},{"type":14,"tag":288,"props":630,"children":631},{"class":290,"line":341},[632,636,640,644,648,652,657,662,667,672,678],{"type":14,"tag":288,"props":633,"children":634},{"class":301},[635],{"type":20,"value":488},{"type":14,"tag":288,"props":637,"children":638},{"class":295},[639],{"type":20,"value":493},{"type":14,"tag":288,"props":641,"children":642},{"class":301},[643],{"type":20,"value":304},{"type":14,"tag":288,"props":645,"children":646},{"class":295},[647],{"type":20,"value":502},{"type":14,"tag":288,"props":649,"children":650},{"class":301},[651],{"type":20,"value":304},{"type":14,"tag":288,"props":653,"children":654},{"class":316},[655],{"type":20,"value":656},"IEnumerable",{"type":14,"tag":288,"props":658,"children":659},{"class":301},[660],{"type":20,"value":661},"\u003C",{"type":14,"tag":288,"props":663,"children":664},{"class":316},[665],{"type":20,"value":666},"IPhase",{"type":14,"tag":288,"props":668,"children":669},{"class":301},[670],{"type":20,"value":671},"> ",{"type":14,"tag":288,"props":673,"children":675},{"class":674},"ct-ae5d7d",[676],{"type":20,"value":677},"GetPhases",{"type":14,"tag":288,"props":679,"children":680},{"class":301},[681],{"type":20,"value":682},"()\n",{"type":14,"tag":288,"props":684,"children":685},{"class":290,"line":350},[686],{"type":14,"tag":288,"props":687,"children":688},{"class":301},[689],{"type":20,"value":690},"    {\n",{"type":14,"tag":288,"props":692,"children":693},{"class":290,"line":550},[694,699,705,709,714,718,723,727,732],{"type":14,"tag":288,"props":695,"children":696},{"class":301},[697],{"type":20,"value":698},"        ",{"type":14,"tag":288,"props":700,"children":702},{"class":701},"ct-7387d1",[703],{"type":20,"value":704},"yield",{"type":14,"tag":288,"props":706,"children":707},{"class":301},[708],{"type":20,"value":304},{"type":14,"tag":288,"props":710,"children":711},{"class":701},[712],{"type":20,"value":713},"return",{"type":14,"tag":288,"props":715,"children":716},{"class":301},[717],{"type":20,"value":304},{"type":14,"tag":288,"props":719,"children":720},{"class":295},[721],{"type":20,"value":722},"new",{"type":14,"tag":288,"props":724,"children":725},{"class":301},[726],{"type":20,"value":304},{"type":14,"tag":288,"props":728,"children":729},{"class":316},[730],{"type":20,"value":731},"DoA",{"type":14,"tag":288,"props":733,"children":734},{"class":301},[735],{"type":20,"value":736},"();\n",{"type":14,"tag":288,"props":738,"children":740},{"class":290,"line":739},6,[741,745,749,753,757,761,765,769,774],{"type":14,"tag":288,"props":742,"children":743},{"class":301},[744],{"type":20,"value":698},{"type":14,"tag":288,"props":746,"children":747},{"class":701},[748],{"type":20,"value":704},{"type":14,"tag":288,"props":750,"children":751},{"class":301},[752],{"type":20,"value":304},{"type":14,"tag":288,"props":754,"children":755},{"class":701},[756],{"type":20,"value":713},{"type":14,"tag":288,"props":758,"children":759},{"class":301},[760],{"type":20,"value":304},{"type":14,"tag":288,"props":762,"children":763},{"class":295},[764],{"type":20,"value":722},{"type":14,"tag":288,"props":766,"children":767},{"class":301},[768],{"type":20,"value":304},{"type":14,"tag":288,"props":770,"children":771},{"class":316},[772],{"type":20,"value":773},"DoB",{"type":14,"tag":288,"props":775,"children":776},{"class":301},[777],{"type":20,"value":736},{"type":14,"tag":288,"props":779,"children":781},{"class":290,"line":780},7,[782],{"type":14,"tag":288,"props":783,"children":784},{"class":301},[785],{"type":20,"value":786},"    }\n",{"type":14,"tag":288,"props":788,"children":790},{"class":290,"line":789},8,[791],{"type":14,"tag":288,"props":792,"children":793},{},[794],{"type":20,"value":795},"\n",{"type":14,"tag":288,"props":797,"children":799},{"class":290,"line":798},9,[800,804,808,812,816,820,824,828,833],{"type":14,"tag":288,"props":801,"children":802},{"class":301},[803],{"type":20,"value":488},{"type":14,"tag":288,"props":805,"children":806},{"class":295},[807],{"type":20,"value":298},{"type":14,"tag":288,"props":809,"children":810},{"class":301},[811],{"type":20,"value":304},{"type":14,"tag":288,"props":813,"children":814},{"class":295},[815],{"type":20,"value":309},{"type":14,"tag":288,"props":817,"children":818},{"class":301},[819],{"type":20,"value":304},{"type":14,"tag":288,"props":821,"children":822},{"class":316},[823],{"type":20,"value":731},{"type":14,"tag":288,"props":825,"children":826},{"class":301},[827],{"type":20,"value":324},{"type":14,"tag":288,"props":829,"children":830},{"class":316},[831],{"type":20,"value":832},"PhaseBase",{"type":14,"tag":288,"props":834,"children":835},{"class":301},[836],{"type":20,"value":837}," { ... }\n",{"type":14,"tag":288,"props":839,"children":841},{"class":290,"line":840},10,[842,846,850,854,858,862,866,870,874],{"type":14,"tag":288,"props":843,"children":844},{"class":301},[845],{"type":20,"value":488},{"type":14,"tag":288,"props":847,"children":848},{"class":295},[849],{"type":20,"value":298},{"type":14,"tag":288,"props":851,"children":852},{"class":301},[853],{"type":20,"value":304},{"type":14,"tag":288,"props":855,"children":856},{"class":295},[857],{"type":20,"value":309},{"type":14,"tag":288,"props":859,"children":860},{"class":301},[861],{"type":20,"value":304},{"type":14,"tag":288,"props":863,"children":864},{"class":316},[865],{"type":20,"value":773},{"type":14,"tag":288,"props":867,"children":868},{"class":301},[869],{"type":20,"value":324},{"type":14,"tag":288,"props":871,"children":872},{"class":316},[873],{"type":20,"value":832},{"type":14,"tag":288,"props":875,"children":876},{"class":301},[877],{"type":20,"value":837},{"type":14,"tag":288,"props":879,"children":881},{"class":290,"line":880},11,[882],{"type":14,"tag":288,"props":883,"children":884},{"class":301},[885],{"type":20,"value":356},{"type":14,"tag":22,"props":887,"children":888},{},[889,891,895,897,901,903,907],{"type":20,"value":890},"Here ",{"type":14,"tag":28,"props":892,"children":893},{},[894],{"type":20,"value":613},{"type":20,"value":896}," adds two phases, ",{"type":14,"tag":28,"props":898,"children":899},{},[900],{"type":20,"value":731},{"type":20,"value":902}," and ",{"type":14,"tag":28,"props":904,"children":905},{},[906],{"type":20,"value":773},{"type":20,"value":908},", to the application.",{"type":14,"tag":358,"props":910,"children":911},{},[912,916],{"type":14,"tag":22,"props":913,"children":914},{},[915],{"type":20,"value":365},{"type":14,"tag":22,"props":917,"children":918},{},[919],{"type":20,"value":920},"By convention place the phase implementations as a nested class in the layer\nit is added.",{"type":14,"tag":378,"props":922,"children":924},{"id":923},"initializing-a-phase",[925],{"type":20,"value":926},"Initializing a Phase",{"type":14,"tag":22,"props":928,"children":929},{},[930,934,936,941,943,948,950,955,957,962],{"type":14,"tag":28,"props":931,"children":932},{},[933],{"type":20,"value":832},{"type":20,"value":935}," class has ",{"type":14,"tag":28,"props":937,"children":938},{},[939],{"type":20,"value":940},"Initialize()",{"type":20,"value":942}," method to override so that it can add an\nobject to the application context via ",{"type":14,"tag":28,"props":944,"children":945},{},[946],{"type":20,"value":947},"Context",{"type":20,"value":949}," property. Below, you can see\nhow ",{"type":14,"tag":28,"props":951,"children":952},{},[953],{"type":20,"value":954},"CreateBuilder",{"type":20,"value":956}," phase adds ",{"type":14,"tag":28,"props":958,"children":959},{},[960],{"type":20,"value":961},"WebApplicationBuilder",{"type":20,"value":963}," to the context;",{"type":14,"tag":274,"props":965,"children":967},{"code":966,"language":277,"meta":278},"public class CreateBuilder : PhaseBase\n{\n    protected override void Initialize()\n    {\n        var build = WebApplication.CreateBuilder();\n\n        Context.Add(build);\n    }\n}\n",[968],{"type":14,"tag":281,"props":969,"children":970},{},[971],{"type":14,"tag":274,"props":972,"children":973},{"__ignoreMap":7},[974,1006,1013,1054,1061,1112,1119,1152,1159],{"type":14,"tag":288,"props":975,"children":976},{"class":290,"line":291},[977,981,985,989,993,997,1001],{"type":14,"tag":288,"props":978,"children":979},{"class":295},[980],{"type":20,"value":298},{"type":14,"tag":288,"props":982,"children":983},{"class":301},[984],{"type":20,"value":304},{"type":14,"tag":288,"props":986,"children":987},{"class":295},[988],{"type":20,"value":309},{"type":14,"tag":288,"props":990,"children":991},{"class":301},[992],{"type":20,"value":304},{"type":14,"tag":288,"props":994,"children":995},{"class":316},[996],{"type":20,"value":954},{"type":14,"tag":288,"props":998,"children":999},{"class":301},[1000],{"type":20,"value":324},{"type":14,"tag":288,"props":1002,"children":1003},{"class":316},[1004],{"type":20,"value":1005},"PhaseBase\n",{"type":14,"tag":288,"props":1007,"children":1008},{"class":290,"line":332},[1009],{"type":14,"tag":288,"props":1010,"children":1011},{"class":301},[1012],{"type":20,"value":338},{"type":14,"tag":288,"props":1014,"children":1015},{"class":290,"line":341},[1016,1020,1024,1028,1032,1036,1041,1045,1050],{"type":14,"tag":288,"props":1017,"children":1018},{"class":301},[1019],{"type":20,"value":488},{"type":14,"tag":288,"props":1021,"children":1022},{"class":295},[1023],{"type":20,"value":493},{"type":14,"tag":288,"props":1025,"children":1026},{"class":301},[1027],{"type":20,"value":304},{"type":14,"tag":288,"props":1029,"children":1030},{"class":295},[1031],{"type":20,"value":502},{"type":14,"tag":288,"props":1033,"children":1034},{"class":301},[1035],{"type":20,"value":304},{"type":14,"tag":288,"props":1037,"children":1038},{"class":295},[1039],{"type":20,"value":1040},"void",{"type":14,"tag":288,"props":1042,"children":1043},{"class":301},[1044],{"type":20,"value":304},{"type":14,"tag":288,"props":1046,"children":1047},{"class":674},[1048],{"type":20,"value":1049},"Initialize",{"type":14,"tag":288,"props":1051,"children":1052},{"class":301},[1053],{"type":20,"value":682},{"type":14,"tag":288,"props":1055,"children":1056},{"class":290,"line":350},[1057],{"type":14,"tag":288,"props":1058,"children":1059},{"class":301},[1060],{"type":20,"value":690},{"type":14,"tag":288,"props":1062,"children":1063},{"class":290,"line":550},[1064,1068,1073,1077,1082,1086,1091,1095,1100,1104,1108],{"type":14,"tag":288,"props":1065,"children":1066},{"class":301},[1067],{"type":20,"value":698},{"type":14,"tag":288,"props":1069,"children":1070},{"class":295},[1071],{"type":20,"value":1072},"var",{"type":14,"tag":288,"props":1074,"children":1075},{"class":301},[1076],{"type":20,"value":304},{"type":14,"tag":288,"props":1078,"children":1079},{"class":518},[1080],{"type":20,"value":1081},"build",{"type":14,"tag":288,"props":1083,"children":1084},{"class":301},[1085],{"type":20,"value":304},{"type":14,"tag":288,"props":1087,"children":1088},{"class":527},[1089],{"type":20,"value":1090},"=",{"type":14,"tag":288,"props":1092,"children":1093},{"class":301},[1094],{"type":20,"value":304},{"type":14,"tag":288,"props":1096,"children":1097},{"class":518},[1098],{"type":20,"value":1099},"WebApplication",{"type":14,"tag":288,"props":1101,"children":1102},{"class":301},[1103],{"type":20,"value":272},{"type":14,"tag":288,"props":1105,"children":1106},{"class":674},[1107],{"type":20,"value":954},{"type":14,"tag":288,"props":1109,"children":1110},{"class":301},[1111],{"type":20,"value":736},{"type":14,"tag":288,"props":1113,"children":1114},{"class":290,"line":739},[1115],{"type":14,"tag":288,"props":1116,"children":1117},{},[1118],{"type":20,"value":795},{"type":14,"tag":288,"props":1120,"children":1121},{"class":290,"line":780},[1122,1126,1130,1134,1138,1143,1147],{"type":14,"tag":288,"props":1123,"children":1124},{"class":301},[1125],{"type":20,"value":698},{"type":14,"tag":288,"props":1127,"children":1128},{"class":518},[1129],{"type":20,"value":947},{"type":14,"tag":288,"props":1131,"children":1132},{"class":301},[1133],{"type":20,"value":272},{"type":14,"tag":288,"props":1135,"children":1136},{"class":674},[1137],{"type":20,"value":154},{"type":14,"tag":288,"props":1139,"children":1140},{"class":301},[1141],{"type":20,"value":1142},"(",{"type":14,"tag":288,"props":1144,"children":1145},{"class":518},[1146],{"type":20,"value":1081},{"type":14,"tag":288,"props":1148,"children":1149},{"class":301},[1150],{"type":20,"value":1151},");\n",{"type":14,"tag":288,"props":1153,"children":1154},{"class":290,"line":789},[1155],{"type":14,"tag":288,"props":1156,"children":1157},{"class":301},[1158],{"type":20,"value":786},{"type":14,"tag":288,"props":1160,"children":1161},{"class":290,"line":798},[1162],{"type":14,"tag":288,"props":1163,"children":1164},{"class":301},[1165],{"type":20,"value":356},{"type":14,"tag":358,"props":1167,"children":1168},{},[1169,1173],{"type":14,"tag":22,"props":1170,"children":1171},{},[1172],{"type":20,"value":365},{"type":14,"tag":22,"props":1174,"children":1175},{},[1176,1177,1181],{"type":20,"value":370},{"type":14,"tag":28,"props":1178,"children":1179},{},[1180],{"type":20,"value":666},{"type":20,"value":1182},", however we've created\nsome base classes to make it easier for you to create phases. All examples\ndemonstrate usage of these base classes.",{"type":14,"tag":378,"props":1184,"children":1186},{"id":1185},"readiness-via-dependencies",[1187],{"type":20,"value":1188},"Readiness via Dependencies",{"type":14,"tag":22,"props":1190,"children":1191},{},[1192,1194,1199,1201,1205,1207,1211],{"type":20,"value":1193},"You can define context dependencies via generic ",{"type":14,"tag":28,"props":1195,"children":1196},{},[1197],{"type":20,"value":1198},"PhaseBase\u003C>",{"type":20,"value":1200}," classes to make\nthe phase wait until context is ready to provide that dependency. For example,\n",{"type":14,"tag":28,"props":1202,"children":1203},{},[1204],{"type":20,"value":233},{"type":20,"value":1206}," depends on the ",{"type":14,"tag":28,"props":1208,"children":1209},{},[1210],{"type":20,"value":961},{"type":20,"value":1212}," instance as shown below;",{"type":14,"tag":274,"props":1214,"children":1216},{"code":1215,"language":277,"meta":278},"public class Build : PhaseBase\u003CWebApplicationBuilder>\n{\n    protected override void Initialize(WebApplicationBuilder build)\n    {\n        var app = build.Build();\n\n        Context.Add(app);\n    }\n}\n",[1217],{"type":14,"tag":281,"props":1218,"children":1219},{},[1220],{"type":14,"tag":274,"props":1221,"children":1222},{"__ignoreMap":7},[1223,1267,1274,1330,1337,1385,1392,1423,1430],{"type":14,"tag":288,"props":1224,"children":1225},{"class":290,"line":291},[1226,1230,1234,1238,1242,1246,1250,1254,1258,1262],{"type":14,"tag":288,"props":1227,"children":1228},{"class":295},[1229],{"type":20,"value":298},{"type":14,"tag":288,"props":1231,"children":1232},{"class":301},[1233],{"type":20,"value":304},{"type":14,"tag":288,"props":1235,"children":1236},{"class":295},[1237],{"type":20,"value":309},{"type":14,"tag":288,"props":1239,"children":1240},{"class":301},[1241],{"type":20,"value":304},{"type":14,"tag":288,"props":1243,"children":1244},{"class":316},[1245],{"type":20,"value":233},{"type":14,"tag":288,"props":1247,"children":1248},{"class":301},[1249],{"type":20,"value":324},{"type":14,"tag":288,"props":1251,"children":1252},{"class":316},[1253],{"type":20,"value":832},{"type":14,"tag":288,"props":1255,"children":1256},{"class":301},[1257],{"type":20,"value":661},{"type":14,"tag":288,"props":1259,"children":1260},{"class":316},[1261],{"type":20,"value":961},{"type":14,"tag":288,"props":1263,"children":1264},{"class":301},[1265],{"type":20,"value":1266},">\n",{"type":14,"tag":288,"props":1268,"children":1269},{"class":290,"line":332},[1270],{"type":14,"tag":288,"props":1271,"children":1272},{"class":301},[1273],{"type":20,"value":338},{"type":14,"tag":288,"props":1275,"children":1276},{"class":290,"line":341},[1277,1281,1285,1289,1293,1297,1301,1305,1309,1313,1317,1321,1325],{"type":14,"tag":288,"props":1278,"children":1279},{"class":301},[1280],{"type":20,"value":488},{"type":14,"tag":288,"props":1282,"children":1283},{"class":295},[1284],{"type":20,"value":493},{"type":14,"tag":288,"props":1286,"children":1287},{"class":301},[1288],{"type":20,"value":304},{"type":14,"tag":288,"props":1290,"children":1291},{"class":295},[1292],{"type":20,"value":502},{"type":14,"tag":288,"props":1294,"children":1295},{"class":301},[1296],{"type":20,"value":304},{"type":14,"tag":288,"props":1298,"children":1299},{"class":295},[1300],{"type":20,"value":1040},{"type":14,"tag":288,"props":1302,"children":1303},{"class":301},[1304],{"type":20,"value":304},{"type":14,"tag":288,"props":1306,"children":1307},{"class":674},[1308],{"type":20,"value":1049},{"type":14,"tag":288,"props":1310,"children":1311},{"class":301},[1312],{"type":20,"value":1142},{"type":14,"tag":288,"props":1314,"children":1315},{"class":316},[1316],{"type":20,"value":961},{"type":14,"tag":288,"props":1318,"children":1319},{"class":301},[1320],{"type":20,"value":304},{"type":14,"tag":288,"props":1322,"children":1323},{"class":518},[1324],{"type":20,"value":1081},{"type":14,"tag":288,"props":1326,"children":1327},{"class":301},[1328],{"type":20,"value":1329},")\n",{"type":14,"tag":288,"props":1331,"children":1332},{"class":290,"line":350},[1333],{"type":14,"tag":288,"props":1334,"children":1335},{"class":301},[1336],{"type":20,"value":690},{"type":14,"tag":288,"props":1338,"children":1339},{"class":290,"line":550},[1340,1344,1348,1352,1357,1361,1365,1369,1373,1377,1381],{"type":14,"tag":288,"props":1341,"children":1342},{"class":301},[1343],{"type":20,"value":698},{"type":14,"tag":288,"props":1345,"children":1346},{"class":295},[1347],{"type":20,"value":1072},{"type":14,"tag":288,"props":1349,"children":1350},{"class":301},[1351],{"type":20,"value":304},{"type":14,"tag":288,"props":1353,"children":1354},{"class":518},[1355],{"type":20,"value":1356},"app",{"type":14,"tag":288,"props":1358,"children":1359},{"class":301},[1360],{"type":20,"value":304},{"type":14,"tag":288,"props":1362,"children":1363},{"class":527},[1364],{"type":20,"value":1090},{"type":14,"tag":288,"props":1366,"children":1367},{"class":301},[1368],{"type":20,"value":304},{"type":14,"tag":288,"props":1370,"children":1371},{"class":518},[1372],{"type":20,"value":1081},{"type":14,"tag":288,"props":1374,"children":1375},{"class":301},[1376],{"type":20,"value":272},{"type":14,"tag":288,"props":1378,"children":1379},{"class":674},[1380],{"type":20,"value":233},{"type":14,"tag":288,"props":1382,"children":1383},{"class":301},[1384],{"type":20,"value":736},{"type":14,"tag":288,"props":1386,"children":1387},{"class":290,"line":739},[1388],{"type":14,"tag":288,"props":1389,"children":1390},{},[1391],{"type":20,"value":795},{"type":14,"tag":288,"props":1393,"children":1394},{"class":290,"line":780},[1395,1399,1403,1407,1411,1415,1419],{"type":14,"tag":288,"props":1396,"children":1397},{"class":301},[1398],{"type":20,"value":698},{"type":14,"tag":288,"props":1400,"children":1401},{"class":518},[1402],{"type":20,"value":947},{"type":14,"tag":288,"props":1404,"children":1405},{"class":301},[1406],{"type":20,"value":272},{"type":14,"tag":288,"props":1408,"children":1409},{"class":674},[1410],{"type":20,"value":154},{"type":14,"tag":288,"props":1412,"children":1413},{"class":301},[1414],{"type":20,"value":1142},{"type":14,"tag":288,"props":1416,"children":1417},{"class":518},[1418],{"type":20,"value":1356},{"type":14,"tag":288,"props":1420,"children":1421},{"class":301},[1422],{"type":20,"value":1151},{"type":14,"tag":288,"props":1424,"children":1425},{"class":290,"line":789},[1426],{"type":14,"tag":288,"props":1427,"children":1428},{"class":301},[1429],{"type":20,"value":786},{"type":14,"tag":288,"props":1431,"children":1432},{"class":290,"line":798},[1433],{"type":14,"tag":288,"props":1434,"children":1435},{"class":301},[1436],{"type":20,"value":356},{"type":14,"tag":22,"props":1438,"children":1439},{},[1440,1445,1447,1452],{"type":14,"tag":28,"props":1441,"children":1442},{},[1443],{"type":20,"value":1444},"PhaseBase\u003CT>",{"type":20,"value":1446}," class requires ",{"type":14,"tag":28,"props":1448,"children":1449},{},[1450],{"type":20,"value":1451},"Initialize(T t)",{"type":20,"value":1453}," method to be implemented.",{"type":14,"tag":358,"props":1455,"children":1456},{},[1457,1462],{"type":14,"tag":22,"props":1458,"children":1459},{},[1460],{"type":20,"value":1461},":information_source:",{"type":14,"tag":22,"props":1463,"children":1464},{},[1465,1467,1472,1474,1479],{"type":20,"value":1466},"You can provide more than one dependency for a phase. E.g., ",{"type":14,"tag":28,"props":1468,"children":1469},{},[1470],{"type":20,"value":1471},"Phase\u003CX, Y>",{"type":20,"value":1473},"\nwill require ",{"type":14,"tag":28,"props":1475,"children":1476},{},[1477],{"type":20,"value":1478},"Initialize(X x, Y y)",{"type":20,"value":1453},{"type":14,"tag":358,"props":1481,"children":1482},{},[1483,1488],{"type":14,"tag":22,"props":1484,"children":1485},{},[1486],{"type":20,"value":1487},":warning:",{"type":14,"tag":22,"props":1489,"children":1490},{},[1491,1493,1497,1499],{"type":20,"value":1492},"Type of the dependency provided, must be exactly the same as the type of\ndependency in ",{"type":14,"tag":28,"props":1494,"children":1495},{},[1496],{"type":20,"value":183},{"type":20,"value":1498},". For more information\n",{"type":14,"tag":60,"props":1500,"children":1502},{"href":1501},"../architecture/application.md#running-an-application",[1503],{"type":20,"value":1504},"Running an Application",{"type":14,"tag":378,"props":1506,"children":1508},{"id":1507},"order-of-a-phase",[1509],{"type":20,"value":1510},"Order of a Phase",{"type":14,"tag":22,"props":1512,"children":1513},{},[1514,1518,1520,1525,1527,1532],{"type":14,"tag":28,"props":1515,"children":1516},{},[1517],{"type":20,"value":832},{"type":20,"value":1519}," classes has ",{"type":14,"tag":28,"props":1521,"children":1522},{},[1523],{"type":20,"value":1524},"order",{"type":20,"value":1526}," parameter in their constructors. Default order\nis ",{"type":14,"tag":28,"props":1528,"children":1529},{},[1530],{"type":20,"value":1531},"PhaseOrder.Normal",{"type":20,"value":1533},". If you need to change the order, pass the desired order\nto this parameter as shown below;",{"type":14,"tag":274,"props":1535,"children":1537},{"code":1536,"language":277,"meta":278},"public class DoThisEarlyOn : PhaseBase\n{\n    public DoThisEarlyOn() : base(PhaseOrder.Early) { }\n}\n",[1538],{"type":14,"tag":281,"props":1539,"children":1540},{},[1541],{"type":14,"tag":274,"props":1542,"children":1543},{"__ignoreMap":7},[1544,1576,1583,1635],{"type":14,"tag":288,"props":1545,"children":1546},{"class":290,"line":291},[1547,1551,1555,1559,1563,1568,1572],{"type":14,"tag":288,"props":1548,"children":1549},{"class":295},[1550],{"type":20,"value":298},{"type":14,"tag":288,"props":1552,"children":1553},{"class":301},[1554],{"type":20,"value":304},{"type":14,"tag":288,"props":1556,"children":1557},{"class":295},[1558],{"type":20,"value":309},{"type":14,"tag":288,"props":1560,"children":1561},{"class":301},[1562],{"type":20,"value":304},{"type":14,"tag":288,"props":1564,"children":1565},{"class":316},[1566],{"type":20,"value":1567},"DoThisEarlyOn",{"type":14,"tag":288,"props":1569,"children":1570},{"class":301},[1571],{"type":20,"value":324},{"type":14,"tag":288,"props":1573,"children":1574},{"class":316},[1575],{"type":20,"value":1005},{"type":14,"tag":288,"props":1577,"children":1578},{"class":290,"line":332},[1579],{"type":14,"tag":288,"props":1580,"children":1581},{"class":301},[1582],{"type":20,"value":338},{"type":14,"tag":288,"props":1584,"children":1585},{"class":290,"line":341},[1586,1590,1594,1598,1602,1607,1612,1616,1621,1625,1630],{"type":14,"tag":288,"props":1587,"children":1588},{"class":301},[1589],{"type":20,"value":488},{"type":14,"tag":288,"props":1591,"children":1592},{"class":295},[1593],{"type":20,"value":298},{"type":14,"tag":288,"props":1595,"children":1596},{"class":301},[1597],{"type":20,"value":304},{"type":14,"tag":288,"props":1599,"children":1600},{"class":674},[1601],{"type":20,"value":1567},{"type":14,"tag":288,"props":1603,"children":1604},{"class":301},[1605],{"type":20,"value":1606},"() : ",{"type":14,"tag":288,"props":1608,"children":1609},{"class":295},[1610],{"type":20,"value":1611},"base",{"type":14,"tag":288,"props":1613,"children":1614},{"class":301},[1615],{"type":20,"value":1142},{"type":14,"tag":288,"props":1617,"children":1618},{"class":518},[1619],{"type":20,"value":1620},"PhaseOrder",{"type":14,"tag":288,"props":1622,"children":1623},{"class":301},[1624],{"type":20,"value":272},{"type":14,"tag":288,"props":1626,"children":1627},{"class":518},[1628],{"type":20,"value":1629},"Early",{"type":14,"tag":288,"props":1631,"children":1632},{"class":301},[1633],{"type":20,"value":1634},") { }\n",{"type":14,"tag":288,"props":1636,"children":1637},{"class":290,"line":350},[1638],{"type":14,"tag":288,"props":1639,"children":1640},{"class":301},[1641],{"type":20,"value":356},{"type":14,"tag":83,"props":1643,"children":1645},{"id":1644},"providing-configuration",[1646],{"type":20,"value":1647},"Providing Configuration",{"type":14,"tag":22,"props":1649,"children":1650},{},[1651,1653,1658],{"type":20,"value":1652},"Layers provide configuration objects phase by phase. This means a layer can\nprovide two different configuration objects for two different phases. For this\nreason, a layer returns ",{"type":14,"tag":28,"props":1654,"children":1655},{},[1656],{"type":20,"value":1657},"PhaseContext",{"type":20,"value":1659}," instance per phase to which it provides\nconfiguration.",{"type":14,"tag":274,"props":1661,"children":1663},{"code":1662,"language":277,"meta":278},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly LayerXConfiguration _configuration = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContext(_configuration);\n}\n",[1664],{"type":14,"tag":281,"props":1665,"children":1666},{},[1667],{"type":14,"tag":274,"props":1668,"children":1669},{"__ignoreMap":7},[1670,1714,1721,1771,1778,1841,1873],{"type":14,"tag":288,"props":1671,"children":1672},{"class":290,"line":291},[1673,1677,1681,1685,1689,1693,1697,1701,1705,1710],{"type":14,"tag":288,"props":1674,"children":1675},{"class":295},[1676],{"type":20,"value":298},{"type":14,"tag":288,"props":1678,"children":1679},{"class":301},[1680],{"type":20,"value":304},{"type":14,"tag":288,"props":1682,"children":1683},{"class":295},[1684],{"type":20,"value":309},{"type":14,"tag":288,"props":1686,"children":1687},{"class":301},[1688],{"type":20,"value":304},{"type":14,"tag":288,"props":1690,"children":1691},{"class":316},[1692],{"type":20,"value":319},{"type":14,"tag":288,"props":1694,"children":1695},{"class":301},[1696],{"type":20,"value":324},{"type":14,"tag":288,"props":1698,"children":1699},{"class":316},[1700],{"type":20,"value":270},{"type":14,"tag":288,"props":1702,"children":1703},{"class":301},[1704],{"type":20,"value":661},{"type":14,"tag":288,"props":1706,"children":1707},{"class":316},[1708],{"type":20,"value":1709},"AddServices",{"type":14,"tag":288,"props":1711,"children":1712},{"class":301},[1713],{"type":20,"value":1266},{"type":14,"tag":288,"props":1715,"children":1716},{"class":290,"line":332},[1717],{"type":14,"tag":288,"props":1718,"children":1719},{"class":301},[1720],{"type":20,"value":338},{"type":14,"tag":288,"props":1722,"children":1723},{"class":290,"line":341},[1724,1728,1733,1737,1742,1746,1751,1755,1759,1763,1767],{"type":14,"tag":288,"props":1725,"children":1726},{"class":301},[1727],{"type":20,"value":488},{"type":14,"tag":288,"props":1729,"children":1730},{"class":295},[1731],{"type":20,"value":1732},"readonly",{"type":14,"tag":288,"props":1734,"children":1735},{"class":301},[1736],{"type":20,"value":304},{"type":14,"tag":288,"props":1738,"children":1739},{"class":316},[1740],{"type":20,"value":1741},"LayerXConfiguration",{"type":14,"tag":288,"props":1743,"children":1744},{"class":301},[1745],{"type":20,"value":304},{"type":14,"tag":288,"props":1747,"children":1748},{"class":518},[1749],{"type":20,"value":1750},"_configuration",{"type":14,"tag":288,"props":1752,"children":1753},{"class":301},[1754],{"type":20,"value":304},{"type":14,"tag":288,"props":1756,"children":1757},{"class":527},[1758],{"type":20,"value":1090},{"type":14,"tag":288,"props":1760,"children":1761},{"class":301},[1762],{"type":20,"value":304},{"type":14,"tag":288,"props":1764,"children":1765},{"class":674},[1766],{"type":20,"value":722},{"type":14,"tag":288,"props":1768,"children":1769},{"class":301},[1770],{"type":20,"value":736},{"type":14,"tag":288,"props":1772,"children":1773},{"class":290,"line":350},[1774],{"type":14,"tag":288,"props":1775,"children":1776},{},[1777],{"type":20,"value":795},{"type":14,"tag":288,"props":1779,"children":1780},{"class":290,"line":550},[1781,1785,1789,1793,1797,1801,1805,1809,1814,1818,1822,1826,1831,1836],{"type":14,"tag":288,"props":1782,"children":1783},{"class":301},[1784],{"type":20,"value":488},{"type":14,"tag":288,"props":1786,"children":1787},{"class":295},[1788],{"type":20,"value":493},{"type":14,"tag":288,"props":1790,"children":1791},{"class":301},[1792],{"type":20,"value":304},{"type":14,"tag":288,"props":1794,"children":1795},{"class":295},[1796],{"type":20,"value":502},{"type":14,"tag":288,"props":1798,"children":1799},{"class":301},[1800],{"type":20,"value":304},{"type":14,"tag":288,"props":1802,"children":1803},{"class":316},[1804],{"type":20,"value":1657},{"type":14,"tag":288,"props":1806,"children":1807},{"class":301},[1808],{"type":20,"value":304},{"type":14,"tag":288,"props":1810,"children":1811},{"class":674},[1812],{"type":20,"value":1813},"GetContext",{"type":14,"tag":288,"props":1815,"children":1816},{"class":301},[1817],{"type":20,"value":1142},{"type":14,"tag":288,"props":1819,"children":1820},{"class":316},[1821],{"type":20,"value":1709},{"type":14,"tag":288,"props":1823,"children":1824},{"class":301},[1825],{"type":20,"value":304},{"type":14,"tag":288,"props":1827,"children":1828},{"class":518},[1829],{"type":20,"value":1830},"phase",{"type":14,"tag":288,"props":1832,"children":1833},{"class":301},[1834],{"type":20,"value":1835},") ",{"type":14,"tag":288,"props":1837,"children":1838},{"class":527},[1839],{"type":20,"value":1840},"=>\n",{"type":14,"tag":288,"props":1842,"children":1843},{"class":290,"line":739},[1844,1848,1852,1856,1861,1865,1869],{"type":14,"tag":288,"props":1845,"children":1846},{"class":301},[1847],{"type":20,"value":698},{"type":14,"tag":288,"props":1849,"children":1850},{"class":518},[1851],{"type":20,"value":1830},{"type":14,"tag":288,"props":1853,"children":1854},{"class":301},[1855],{"type":20,"value":272},{"type":14,"tag":288,"props":1857,"children":1858},{"class":674},[1859],{"type":20,"value":1860},"CreateContext",{"type":14,"tag":288,"props":1862,"children":1863},{"class":301},[1864],{"type":20,"value":1142},{"type":14,"tag":288,"props":1866,"children":1867},{"class":518},[1868],{"type":20,"value":1750},{"type":14,"tag":288,"props":1870,"children":1871},{"class":301},[1872],{"type":20,"value":1151},{"type":14,"tag":288,"props":1874,"children":1875},{"class":290,"line":780},[1876],{"type":14,"tag":288,"props":1877,"children":1878},{"class":301},[1879],{"type":20,"value":356},{"type":14,"tag":22,"props":1881,"children":1882},{},[1883,1885,1889,1891,1895,1897,1901],{"type":20,"value":1884},"In this example, you see a layer named ",{"type":14,"tag":28,"props":1886,"children":1887},{},[1888],{"type":20,"value":319},{"type":20,"value":1890}," providing a\n",{"type":14,"tag":28,"props":1892,"children":1893},{},[1894],{"type":20,"value":1741},{"type":20,"value":1896}," instance during ",{"type":14,"tag":28,"props":1898,"children":1899},{},[1900],{"type":20,"value":1709},{"type":20,"value":1902}," phase.",{"type":14,"tag":358,"props":1904,"children":1905},{},[1906,1910],{"type":14,"tag":22,"props":1907,"children":1908},{},[1909],{"type":20,"value":1461},{"type":14,"tag":22,"props":1911,"children":1912},{},[1913,1915,1920,1922,1926],{"type":20,"value":1914},"By default, a layer returns ",{"type":14,"tag":28,"props":1916,"children":1917},{},[1918],{"type":20,"value":1919},"PhaseContext.Empty",{"type":20,"value":1921}," instance for the phases it\ndoes not provide a configuration. This means ",{"type":14,"tag":28,"props":1923,"children":1924},{},[1925],{"type":20,"value":65},{"type":20,"value":1927}," skips that layer\nfor the phases it doesn't have anything to configure.",{"type":14,"tag":378,"props":1929,"children":1931},{"id":1930},"using-non-generic-layerbase",[1932,1934],{"type":20,"value":1933},"Using non-generic ",{"type":14,"tag":28,"props":1935,"children":1936},{},[1937],{"type":20,"value":270},{"type":14,"tag":22,"props":1939,"children":1940},{},[1941,1946,1948,1952,1954,1959],{"type":14,"tag":28,"props":1942,"children":1943},{},[1944],{"type":20,"value":1945},"LayerBase\u003C>",{"type":20,"value":1947}," classes allow up to three generic arguments. If you need to\nimplement a layer that has things to configure during more than three phases,\nuse non-generic ",{"type":14,"tag":28,"props":1949,"children":1950},{},[1951],{"type":20,"value":270},{"type":20,"value":1953}," class, override ",{"type":14,"tag":28,"props":1955,"children":1956},{},[1957],{"type":20,"value":1958},"GetContext(IPhase phase)",{"type":20,"value":1960}," method\nand switch given phase according to its type;",{"type":14,"tag":274,"props":1962,"children":1964},{"code":1963,"language":277,"meta":278},"public class MyLayer : LayerBase\n{\n    protected override PhaseContext GetContext(IPhase phase) =>\n        phase switch\n        {\n            PhaseA => phase.CreateContext(...),\n            PhaseB => phase.CreateContext(...),\n            _ => base.GetContext(phase)\n        };\n}\n",[1965],{"type":14,"tag":281,"props":1966,"children":1967},{},[1968],{"type":14,"tag":274,"props":1969,"children":1970},{"__ignoreMap":7},[1971,2003,2010,2069,2089,2097,2130,2162,2202,2210],{"type":14,"tag":288,"props":1972,"children":1973},{"class":290,"line":291},[1974,1978,1982,1986,1990,1995,1999],{"type":14,"tag":288,"props":1975,"children":1976},{"class":295},[1977],{"type":20,"value":298},{"type":14,"tag":288,"props":1979,"children":1980},{"class":301},[1981],{"type":20,"value":304},{"type":14,"tag":288,"props":1983,"children":1984},{"class":295},[1985],{"type":20,"value":309},{"type":14,"tag":288,"props":1987,"children":1988},{"class":301},[1989],{"type":20,"value":304},{"type":14,"tag":288,"props":1991,"children":1992},{"class":316},[1993],{"type":20,"value":1994},"MyLayer",{"type":14,"tag":288,"props":1996,"children":1997},{"class":301},[1998],{"type":20,"value":324},{"type":14,"tag":288,"props":2000,"children":2001},{"class":316},[2002],{"type":20,"value":329},{"type":14,"tag":288,"props":2004,"children":2005},{"class":290,"line":332},[2006],{"type":14,"tag":288,"props":2007,"children":2008},{"class":301},[2009],{"type":20,"value":338},{"type":14,"tag":288,"props":2011,"children":2012},{"class":290,"line":341},[2013,2017,2021,2025,2029,2033,2037,2041,2045,2049,2053,2057,2061,2065],{"type":14,"tag":288,"props":2014,"children":2015},{"class":301},[2016],{"type":20,"value":488},{"type":14,"tag":288,"props":2018,"children":2019},{"class":295},[2020],{"type":20,"value":493},{"type":14,"tag":288,"props":2022,"children":2023},{"class":301},[2024],{"type":20,"value":304},{"type":14,"tag":288,"props":2026,"children":2027},{"class":295},[2028],{"type":20,"value":502},{"type":14,"tag":288,"props":2030,"children":2031},{"class":301},[2032],{"type":20,"value":304},{"type":14,"tag":288,"props":2034,"children":2035},{"class":316},[2036],{"type":20,"value":1657},{"type":14,"tag":288,"props":2038,"children":2039},{"class":301},[2040],{"type":20,"value":304},{"type":14,"tag":288,"props":2042,"children":2043},{"class":674},[2044],{"type":20,"value":1813},{"type":14,"tag":288,"props":2046,"children":2047},{"class":301},[2048],{"type":20,"value":1142},{"type":14,"tag":288,"props":2050,"children":2051},{"class":316},[2052],{"type":20,"value":666},{"type":14,"tag":288,"props":2054,"children":2055},{"class":301},[2056],{"type":20,"value":304},{"type":14,"tag":288,"props":2058,"children":2059},{"class":518},[2060],{"type":20,"value":1830},{"type":14,"tag":288,"props":2062,"children":2063},{"class":301},[2064],{"type":20,"value":1835},{"type":14,"tag":288,"props":2066,"children":2067},{"class":527},[2068],{"type":20,"value":1840},{"type":14,"tag":288,"props":2070,"children":2071},{"class":290,"line":350},[2072,2076,2080,2084],{"type":14,"tag":288,"props":2073,"children":2074},{"class":301},[2075],{"type":20,"value":698},{"type":14,"tag":288,"props":2077,"children":2078},{"class":518},[2079],{"type":20,"value":1830},{"type":14,"tag":288,"props":2081,"children":2082},{"class":301},[2083],{"type":20,"value":304},{"type":14,"tag":288,"props":2085,"children":2086},{"class":701},[2087],{"type":20,"value":2088},"switch\n",{"type":14,"tag":288,"props":2090,"children":2091},{"class":290,"line":550},[2092],{"type":14,"tag":288,"props":2093,"children":2094},{"class":301},[2095],{"type":20,"value":2096},"        {\n",{"type":14,"tag":288,"props":2098,"children":2099},{"class":290,"line":739},[2100,2105,2109,2113,2117,2121,2125],{"type":14,"tag":288,"props":2101,"children":2102},{"class":301},[2103],{"type":20,"value":2104},"            PhaseA ",{"type":14,"tag":288,"props":2106,"children":2107},{"class":527},[2108],{"type":20,"value":530},{"type":14,"tag":288,"props":2110,"children":2111},{"class":301},[2112],{"type":20,"value":304},{"type":14,"tag":288,"props":2114,"children":2115},{"class":518},[2116],{"type":20,"value":1830},{"type":14,"tag":288,"props":2118,"children":2119},{"class":301},[2120],{"type":20,"value":272},{"type":14,"tag":288,"props":2122,"children":2123},{"class":674},[2124],{"type":20,"value":1860},{"type":14,"tag":288,"props":2126,"children":2127},{"class":301},[2128],{"type":20,"value":2129},"(...),\n",{"type":14,"tag":288,"props":2131,"children":2132},{"class":290,"line":780},[2133,2138,2142,2146,2150,2154,2158],{"type":14,"tag":288,"props":2134,"children":2135},{"class":301},[2136],{"type":20,"value":2137},"            PhaseB ",{"type":14,"tag":288,"props":2139,"children":2140},{"class":527},[2141],{"type":20,"value":530},{"type":14,"tag":288,"props":2143,"children":2144},{"class":301},[2145],{"type":20,"value":304},{"type":14,"tag":288,"props":2147,"children":2148},{"class":518},[2149],{"type":20,"value":1830},{"type":14,"tag":288,"props":2151,"children":2152},{"class":301},[2153],{"type":20,"value":272},{"type":14,"tag":288,"props":2155,"children":2156},{"class":674},[2157],{"type":20,"value":1860},{"type":14,"tag":288,"props":2159,"children":2160},{"class":301},[2161],{"type":20,"value":2129},{"type":14,"tag":288,"props":2163,"children":2164},{"class":290,"line":789},[2165,2170,2174,2178,2182,2186,2190,2194,2198],{"type":14,"tag":288,"props":2166,"children":2167},{"class":301},[2168],{"type":20,"value":2169},"            _ ",{"type":14,"tag":288,"props":2171,"children":2172},{"class":527},[2173],{"type":20,"value":530},{"type":14,"tag":288,"props":2175,"children":2176},{"class":301},[2177],{"type":20,"value":304},{"type":14,"tag":288,"props":2179,"children":2180},{"class":295},[2181],{"type":20,"value":1611},{"type":14,"tag":288,"props":2183,"children":2184},{"class":301},[2185],{"type":20,"value":272},{"type":14,"tag":288,"props":2187,"children":2188},{"class":674},[2189],{"type":20,"value":1813},{"type":14,"tag":288,"props":2191,"children":2192},{"class":301},[2193],{"type":20,"value":1142},{"type":14,"tag":288,"props":2195,"children":2196},{"class":518},[2197],{"type":20,"value":1830},{"type":14,"tag":288,"props":2199,"children":2200},{"class":301},[2201],{"type":20,"value":1329},{"type":14,"tag":288,"props":2203,"children":2204},{"class":290,"line":798},[2205],{"type":14,"tag":288,"props":2206,"children":2207},{"class":301},[2208],{"type":20,"value":2209},"        };\n",{"type":14,"tag":288,"props":2211,"children":2212},{"class":290,"line":840},[2213],{"type":14,"tag":288,"props":2214,"children":2215},{"class":301},[2216],{"type":20,"value":356},{"type":14,"tag":378,"props":2218,"children":2220},{"id":2219},"before-and-after-a-phase",[2221],{"type":20,"value":2222},"Before and After a Phase",{"type":14,"tag":22,"props":2224,"children":2225},{},[2226,2228,2233,2235,2240],{"type":20,"value":2227},"Layers might need to do some standard stuff before and after a phase is applied\nto all features for all layers. Use ",{"type":14,"tag":28,"props":2229,"children":2230},{},[2231],{"type":20,"value":2232},"GetContext()",{"type":20,"value":2234}," method to do stuff before,\nand ",{"type":14,"tag":28,"props":2236,"children":2237},{},[2238],{"type":20,"value":2239},"onDispose:",{"type":20,"value":2241}," delegate to do stuff after.",{"type":14,"tag":274,"props":2243,"children":2245},{"code":2244,"language":277,"meta":278},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly LayerXConfiguration _configuration = new();\n\n    protected override PhaseContext GetContext(AddServices phase)\n    {\n        var services = Context.Get\u003CIServiceCollection>();\n\n        services.AddStandardStuffBefore();\n\n        phase.CreateContext(_configuration,\n            onDispose: () => services.AddStandardStuffAfter()\n        );\n    }\n}\n",[2246],{"type":14,"tag":281,"props":2247,"children":2248},{},[2249],{"type":14,"tag":274,"props":2250,"children":2251},{"__ignoreMap":7},[2252,2295,2302,2349,2356,2411,2418,2476,2483,2507,2514,2546,2590,2599,2607],{"type":14,"tag":288,"props":2253,"children":2254},{"class":290,"line":291},[2255,2259,2263,2267,2271,2275,2279,2283,2287,2291],{"type":14,"tag":288,"props":2256,"children":2257},{"class":295},[2258],{"type":20,"value":298},{"type":14,"tag":288,"props":2260,"children":2261},{"class":301},[2262],{"type":20,"value":304},{"type":14,"tag":288,"props":2264,"children":2265},{"class":295},[2266],{"type":20,"value":309},{"type":14,"tag":288,"props":2268,"children":2269},{"class":301},[2270],{"type":20,"value":304},{"type":14,"tag":288,"props":2272,"children":2273},{"class":316},[2274],{"type":20,"value":319},{"type":14,"tag":288,"props":2276,"children":2277},{"class":301},[2278],{"type":20,"value":324},{"type":14,"tag":288,"props":2280,"children":2281},{"class":316},[2282],{"type":20,"value":270},{"type":14,"tag":288,"props":2284,"children":2285},{"class":301},[2286],{"type":20,"value":661},{"type":14,"tag":288,"props":2288,"children":2289},{"class":316},[2290],{"type":20,"value":1709},{"type":14,"tag":288,"props":2292,"children":2293},{"class":301},[2294],{"type":20,"value":1266},{"type":14,"tag":288,"props":2296,"children":2297},{"class":290,"line":332},[2298],{"type":14,"tag":288,"props":2299,"children":2300},{"class":301},[2301],{"type":20,"value":338},{"type":14,"tag":288,"props":2303,"children":2304},{"class":290,"line":341},[2305,2309,2313,2317,2321,2325,2329,2333,2337,2341,2345],{"type":14,"tag":288,"props":2306,"children":2307},{"class":301},[2308],{"type":20,"value":488},{"type":14,"tag":288,"props":2310,"children":2311},{"class":295},[2312],{"type":20,"value":1732},{"type":14,"tag":288,"props":2314,"children":2315},{"class":301},[2316],{"type":20,"value":304},{"type":14,"tag":288,"props":2318,"children":2319},{"class":316},[2320],{"type":20,"value":1741},{"type":14,"tag":288,"props":2322,"children":2323},{"class":301},[2324],{"type":20,"value":304},{"type":14,"tag":288,"props":2326,"children":2327},{"class":518},[2328],{"type":20,"value":1750},{"type":14,"tag":288,"props":2330,"children":2331},{"class":301},[2332],{"type":20,"value":304},{"type":14,"tag":288,"props":2334,"children":2335},{"class":527},[2336],{"type":20,"value":1090},{"type":14,"tag":288,"props":2338,"children":2339},{"class":301},[2340],{"type":20,"value":304},{"type":14,"tag":288,"props":2342,"children":2343},{"class":674},[2344],{"type":20,"value":722},{"type":14,"tag":288,"props":2346,"children":2347},{"class":301},[2348],{"type":20,"value":736},{"type":14,"tag":288,"props":2350,"children":2351},{"class":290,"line":350},[2352],{"type":14,"tag":288,"props":2353,"children":2354},{},[2355],{"type":20,"value":795},{"type":14,"tag":288,"props":2357,"children":2358},{"class":290,"line":550},[2359,2363,2367,2371,2375,2379,2383,2387,2391,2395,2399,2403,2407],{"type":14,"tag":288,"props":2360,"children":2361},{"class":301},[2362],{"type":20,"value":488},{"type":14,"tag":288,"props":2364,"children":2365},{"class":295},[2366],{"type":20,"value":493},{"type":14,"tag":288,"props":2368,"children":2369},{"class":301},[2370],{"type":20,"value":304},{"type":14,"tag":288,"props":2372,"children":2373},{"class":295},[2374],{"type":20,"value":502},{"type":14,"tag":288,"props":2376,"children":2377},{"class":301},[2378],{"type":20,"value":304},{"type":14,"tag":288,"props":2380,"children":2381},{"class":316},[2382],{"type":20,"value":1657},{"type":14,"tag":288,"props":2384,"children":2385},{"class":301},[2386],{"type":20,"value":304},{"type":14,"tag":288,"props":2388,"children":2389},{"class":674},[2390],{"type":20,"value":1813},{"type":14,"tag":288,"props":2392,"children":2393},{"class":301},[2394],{"type":20,"value":1142},{"type":14,"tag":288,"props":2396,"children":2397},{"class":316},[2398],{"type":20,"value":1709},{"type":14,"tag":288,"props":2400,"children":2401},{"class":301},[2402],{"type":20,"value":304},{"type":14,"tag":288,"props":2404,"children":2405},{"class":518},[2406],{"type":20,"value":1830},{"type":14,"tag":288,"props":2408,"children":2409},{"class":301},[2410],{"type":20,"value":1329},{"type":14,"tag":288,"props":2412,"children":2413},{"class":290,"line":739},[2414],{"type":14,"tag":288,"props":2415,"children":2416},{"class":301},[2417],{"type":20,"value":690},{"type":14,"tag":288,"props":2419,"children":2420},{"class":290,"line":780},[2421,2425,2429,2433,2438,2442,2446,2450,2454,2458,2462,2466,2471],{"type":14,"tag":288,"props":2422,"children":2423},{"class":301},[2424],{"type":20,"value":698},{"type":14,"tag":288,"props":2426,"children":2427},{"class":295},[2428],{"type":20,"value":1072},{"type":14,"tag":288,"props":2430,"children":2431},{"class":301},[2432],{"type":20,"value":304},{"type":14,"tag":288,"props":2434,"children":2435},{"class":518},[2436],{"type":20,"value":2437},"services",{"type":14,"tag":288,"props":2439,"children":2440},{"class":301},[2441],{"type":20,"value":304},{"type":14,"tag":288,"props":2443,"children":2444},{"class":527},[2445],{"type":20,"value":1090},{"type":14,"tag":288,"props":2447,"children":2448},{"class":301},[2449],{"type":20,"value":304},{"type":14,"tag":288,"props":2451,"children":2452},{"class":518},[2453],{"type":20,"value":947},{"type":14,"tag":288,"props":2455,"children":2456},{"class":301},[2457],{"type":20,"value":272},{"type":14,"tag":288,"props":2459,"children":2460},{"class":674},[2461],{"type":20,"value":176},{"type":14,"tag":288,"props":2463,"children":2464},{"class":301},[2465],{"type":20,"value":661},{"type":14,"tag":288,"props":2467,"children":2468},{"class":316},[2469],{"type":20,"value":2470},"IServiceCollection",{"type":14,"tag":288,"props":2472,"children":2473},{"class":301},[2474],{"type":20,"value":2475},">();\n",{"type":14,"tag":288,"props":2477,"children":2478},{"class":290,"line":789},[2479],{"type":14,"tag":288,"props":2480,"children":2481},{},[2482],{"type":20,"value":795},{"type":14,"tag":288,"props":2484,"children":2485},{"class":290,"line":798},[2486,2490,2494,2498,2503],{"type":14,"tag":288,"props":2487,"children":2488},{"class":301},[2489],{"type":20,"value":698},{"type":14,"tag":288,"props":2491,"children":2492},{"class":518},[2493],{"type":20,"value":2437},{"type":14,"tag":288,"props":2495,"children":2496},{"class":301},[2497],{"type":20,"value":272},{"type":14,"tag":288,"props":2499,"children":2500},{"class":674},[2501],{"type":20,"value":2502},"AddStandardStuffBefore",{"type":14,"tag":288,"props":2504,"children":2505},{"class":301},[2506],{"type":20,"value":736},{"type":14,"tag":288,"props":2508,"children":2509},{"class":290,"line":840},[2510],{"type":14,"tag":288,"props":2511,"children":2512},{},[2513],{"type":20,"value":795},{"type":14,"tag":288,"props":2515,"children":2516},{"class":290,"line":880},[2517,2521,2525,2529,2533,2537,2541],{"type":14,"tag":288,"props":2518,"children":2519},{"class":301},[2520],{"type":20,"value":698},{"type":14,"tag":288,"props":2522,"children":2523},{"class":518},[2524],{"type":20,"value":1830},{"type":14,"tag":288,"props":2526,"children":2527},{"class":301},[2528],{"type":20,"value":272},{"type":14,"tag":288,"props":2530,"children":2531},{"class":674},[2532],{"type":20,"value":1860},{"type":14,"tag":288,"props":2534,"children":2535},{"class":301},[2536],{"type":20,"value":1142},{"type":14,"tag":288,"props":2538,"children":2539},{"class":518},[2540],{"type":20,"value":1750},{"type":14,"tag":288,"props":2542,"children":2543},{"class":301},[2544],{"type":20,"value":2545},",\n",{"type":14,"tag":288,"props":2547,"children":2549},{"class":290,"line":2548},12,[2550,2555,2560,2565,2569,2573,2577,2581,2586],{"type":14,"tag":288,"props":2551,"children":2552},{"class":301},[2553],{"type":20,"value":2554},"            ",{"type":14,"tag":288,"props":2556,"children":2557},{"class":518},[2558],{"type":20,"value":2559},"onDispose",{"type":14,"tag":288,"props":2561,"children":2562},{"class":301},[2563],{"type":20,"value":2564},": () ",{"type":14,"tag":288,"props":2566,"children":2567},{"class":527},[2568],{"type":20,"value":530},{"type":14,"tag":288,"props":2570,"children":2571},{"class":301},[2572],{"type":20,"value":304},{"type":14,"tag":288,"props":2574,"children":2575},{"class":518},[2576],{"type":20,"value":2437},{"type":14,"tag":288,"props":2578,"children":2579},{"class":301},[2580],{"type":20,"value":272},{"type":14,"tag":288,"props":2582,"children":2583},{"class":674},[2584],{"type":20,"value":2585},"AddStandardStuffAfter",{"type":14,"tag":288,"props":2587,"children":2588},{"class":301},[2589],{"type":20,"value":682},{"type":14,"tag":288,"props":2591,"children":2593},{"class":290,"line":2592},13,[2594],{"type":14,"tag":288,"props":2595,"children":2596},{"class":301},[2597],{"type":20,"value":2598},"        );\n",{"type":14,"tag":288,"props":2600,"children":2602},{"class":290,"line":2601},14,[2603],{"type":14,"tag":288,"props":2604,"children":2605},{"class":301},[2606],{"type":20,"value":786},{"type":14,"tag":288,"props":2608,"children":2610},{"class":290,"line":2609},15,[2611],{"type":14,"tag":288,"props":2612,"children":2613},{"class":301},[2614],{"type":20,"value":356},{"type":14,"tag":358,"props":2616,"children":2617},{},[2618,2622],{"type":14,"tag":22,"props":2619,"children":2620},{},[2621],{"type":20,"value":1461},{"type":14,"tag":22,"props":2623,"children":2624},{},[2625,2627,2631,2633,2637,2639,2643],{"type":20,"value":2626},"Notice that a layer has access to the ",{"type":14,"tag":28,"props":2628,"children":2629},{},[2630],{"type":20,"value":183},{"type":20,"value":2632}," instance through\n",{"type":14,"tag":28,"props":2634,"children":2635},{},[2636],{"type":20,"value":947},{"type":20,"value":2638}," property provided in ",{"type":14,"tag":28,"props":2640,"children":2641},{},[2642],{"type":20,"value":270},{"type":20,"value":2644}," base class.",{"type":14,"tag":358,"props":2646,"children":2647},{},[2648,2652],{"type":14,"tag":22,"props":2649,"children":2650},{},[2651],{"type":20,"value":1487},{"type":14,"tag":22,"props":2653,"children":2654},{},[2655,2659,2661,2665],{"type":14,"tag":28,"props":2656,"children":2657},{},[2658],{"type":20,"value":2232},{"type":20,"value":2660}," method is called for every layer before applying any of them\nto features. And ",{"type":14,"tag":28,"props":2662,"children":2663},{},[2664],{"type":20,"value":2239},{"type":20,"value":2666}," actions are called after applying these\ncontexts to all features.",{"type":14,"tag":378,"props":2668,"children":2670},{"id":2669},"providing-multiple-targets",[2671],{"type":20,"value":2672},"Providing Multiple Targets",{"type":14,"tag":22,"props":2674,"children":2675},{},[2676],{"type":20,"value":2677},"It is possible to provide up to three configuration objects for the same phase.\nThere are two ways of providing multiple targets; at once or one by one.",{"type":14,"tag":2679,"props":2680,"children":2682},"h4",{"id":2681},"at-once",[2683],{"type":20,"value":2684},"At Once",{"type":14,"tag":22,"props":2686,"children":2687},{},[2688],{"type":20,"value":2689},"Below code demonstrates providing two configuration objects at once;",{"type":14,"tag":274,"props":2691,"children":2693},{"code":2692,"language":277,"meta":278},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContext(_configuration1, _configuration2);\n}\n",[2694],{"type":14,"tag":281,"props":2695,"children":2696},{},[2697],{"type":14,"tag":274,"props":2698,"children":2699},{"__ignoreMap":7},[2700,2743,2750,2799,2848,2855,2914,2953],{"type":14,"tag":288,"props":2701,"children":2702},{"class":290,"line":291},[2703,2707,2711,2715,2719,2723,2727,2731,2735,2739],{"type":14,"tag":288,"props":2704,"children":2705},{"class":295},[2706],{"type":20,"value":298},{"type":14,"tag":288,"props":2708,"children":2709},{"class":301},[2710],{"type":20,"value":304},{"type":14,"tag":288,"props":2712,"children":2713},{"class":295},[2714],{"type":20,"value":309},{"type":14,"tag":288,"props":2716,"children":2717},{"class":301},[2718],{"type":20,"value":304},{"type":14,"tag":288,"props":2720,"children":2721},{"class":316},[2722],{"type":20,"value":319},{"type":14,"tag":288,"props":2724,"children":2725},{"class":301},[2726],{"type":20,"value":324},{"type":14,"tag":288,"props":2728,"children":2729},{"class":316},[2730],{"type":20,"value":270},{"type":14,"tag":288,"props":2732,"children":2733},{"class":301},[2734],{"type":20,"value":661},{"type":14,"tag":288,"props":2736,"children":2737},{"class":316},[2738],{"type":20,"value":1709},{"type":14,"tag":288,"props":2740,"children":2741},{"class":301},[2742],{"type":20,"value":1266},{"type":14,"tag":288,"props":2744,"children":2745},{"class":290,"line":332},[2746],{"type":14,"tag":288,"props":2747,"children":2748},{"class":301},[2749],{"type":20,"value":338},{"type":14,"tag":288,"props":2751,"children":2752},{"class":290,"line":341},[2753,2757,2761,2765,2770,2774,2779,2783,2787,2791,2795],{"type":14,"tag":288,"props":2754,"children":2755},{"class":301},[2756],{"type":20,"value":488},{"type":14,"tag":288,"props":2758,"children":2759},{"class":295},[2760],{"type":20,"value":1732},{"type":14,"tag":288,"props":2762,"children":2763},{"class":301},[2764],{"type":20,"value":304},{"type":14,"tag":288,"props":2766,"children":2767},{"class":316},[2768],{"type":20,"value":2769},"Configuration1",{"type":14,"tag":288,"props":2771,"children":2772},{"class":301},[2773],{"type":20,"value":304},{"type":14,"tag":288,"props":2775,"children":2776},{"class":518},[2777],{"type":20,"value":2778},"_configuration1",{"type":14,"tag":288,"props":2780,"children":2781},{"class":301},[2782],{"type":20,"value":304},{"type":14,"tag":288,"props":2784,"children":2785},{"class":527},[2786],{"type":20,"value":1090},{"type":14,"tag":288,"props":2788,"children":2789},{"class":301},[2790],{"type":20,"value":304},{"type":14,"tag":288,"props":2792,"children":2793},{"class":674},[2794],{"type":20,"value":722},{"type":14,"tag":288,"props":2796,"children":2797},{"class":301},[2798],{"type":20,"value":736},{"type":14,"tag":288,"props":2800,"children":2801},{"class":290,"line":350},[2802,2806,2810,2814,2819,2823,2828,2832,2836,2840,2844],{"type":14,"tag":288,"props":2803,"children":2804},{"class":301},[2805],{"type":20,"value":488},{"type":14,"tag":288,"props":2807,"children":2808},{"class":295},[2809],{"type":20,"value":1732},{"type":14,"tag":288,"props":2811,"children":2812},{"class":301},[2813],{"type":20,"value":304},{"type":14,"tag":288,"props":2815,"children":2816},{"class":316},[2817],{"type":20,"value":2818},"Configuration2",{"type":14,"tag":288,"props":2820,"children":2821},{"class":301},[2822],{"type":20,"value":304},{"type":14,"tag":288,"props":2824,"children":2825},{"class":518},[2826],{"type":20,"value":2827},"_configuration2",{"type":14,"tag":288,"props":2829,"children":2830},{"class":301},[2831],{"type":20,"value":304},{"type":14,"tag":288,"props":2833,"children":2834},{"class":527},[2835],{"type":20,"value":1090},{"type":14,"tag":288,"props":2837,"children":2838},{"class":301},[2839],{"type":20,"value":304},{"type":14,"tag":288,"props":2841,"children":2842},{"class":674},[2843],{"type":20,"value":722},{"type":14,"tag":288,"props":2845,"children":2846},{"class":301},[2847],{"type":20,"value":736},{"type":14,"tag":288,"props":2849,"children":2850},{"class":290,"line":550},[2851],{"type":14,"tag":288,"props":2852,"children":2853},{},[2854],{"type":20,"value":795},{"type":14,"tag":288,"props":2856,"children":2857},{"class":290,"line":739},[2858,2862,2866,2870,2874,2878,2882,2886,2890,2894,2898,2902,2906,2910],{"type":14,"tag":288,"props":2859,"children":2860},{"class":301},[2861],{"type":20,"value":488},{"type":14,"tag":288,"props":2863,"children":2864},{"class":295},[2865],{"type":20,"value":493},{"type":14,"tag":288,"props":2867,"children":2868},{"class":301},[2869],{"type":20,"value":304},{"type":14,"tag":288,"props":2871,"children":2872},{"class":295},[2873],{"type":20,"value":502},{"type":14,"tag":288,"props":2875,"children":2876},{"class":301},[2877],{"type":20,"value":304},{"type":14,"tag":288,"props":2879,"children":2880},{"class":316},[2881],{"type":20,"value":1657},{"type":14,"tag":288,"props":2883,"children":2884},{"class":301},[2885],{"type":20,"value":304},{"type":14,"tag":288,"props":2887,"children":2888},{"class":674},[2889],{"type":20,"value":1813},{"type":14,"tag":288,"props":2891,"children":2892},{"class":301},[2893],{"type":20,"value":1142},{"type":14,"tag":288,"props":2895,"children":2896},{"class":316},[2897],{"type":20,"value":1709},{"type":14,"tag":288,"props":2899,"children":2900},{"class":301},[2901],{"type":20,"value":304},{"type":14,"tag":288,"props":2903,"children":2904},{"class":518},[2905],{"type":20,"value":1830},{"type":14,"tag":288,"props":2907,"children":2908},{"class":301},[2909],{"type":20,"value":1835},{"type":14,"tag":288,"props":2911,"children":2912},{"class":527},[2913],{"type":20,"value":1840},{"type":14,"tag":288,"props":2915,"children":2916},{"class":290,"line":780},[2917,2921,2925,2929,2933,2937,2941,2945,2949],{"type":14,"tag":288,"props":2918,"children":2919},{"class":301},[2920],{"type":20,"value":698},{"type":14,"tag":288,"props":2922,"children":2923},{"class":518},[2924],{"type":20,"value":1830},{"type":14,"tag":288,"props":2926,"children":2927},{"class":301},[2928],{"type":20,"value":272},{"type":14,"tag":288,"props":2930,"children":2931},{"class":674},[2932],{"type":20,"value":1860},{"type":14,"tag":288,"props":2934,"children":2935},{"class":301},[2936],{"type":20,"value":1142},{"type":14,"tag":288,"props":2938,"children":2939},{"class":518},[2940],{"type":20,"value":2778},{"type":14,"tag":288,"props":2942,"children":2943},{"class":301},[2944],{"type":20,"value":192},{"type":14,"tag":288,"props":2946,"children":2947},{"class":518},[2948],{"type":20,"value":2827},{"type":14,"tag":288,"props":2950,"children":2951},{"class":301},[2952],{"type":20,"value":1151},{"type":14,"tag":288,"props":2954,"children":2955},{"class":290,"line":789},[2956],{"type":14,"tag":288,"props":2957,"children":2958},{"class":301},[2959],{"type":20,"value":356},{"type":14,"tag":22,"props":2961,"children":2962},{},[2963],{"type":20,"value":2964},"This phase context will require an action with two parameter in a feature;",{"type":14,"tag":274,"props":2966,"children":2968},{"code":2967,"language":277,"meta":278},"...\npublic void Configure(LayerConfigurator configurator)\n{\n    configurator.Configure((Configuration1 configuration1, Configuration2 configuration2) =>\n    {\n        // use both objects to configure\n    });\n}\n...\n",[2969],{"type":14,"tag":281,"props":2970,"children":2971},{},[2972],{"type":14,"tag":274,"props":2973,"children":2974},{"__ignoreMap":7},[2975,2983,3027,3034,3096,3103,3116,3124,3132],{"type":14,"tag":288,"props":2976,"children":2977},{"class":290,"line":291},[2978],{"type":14,"tag":288,"props":2979,"children":2980},{"class":301},[2981],{"type":20,"value":2982},"...\n",{"type":14,"tag":288,"props":2984,"children":2985},{"class":290,"line":332},[2986,2990,2994,2998,3002,3006,3010,3014,3018,3023],{"type":14,"tag":288,"props":2987,"children":2988},{"class":295},[2989],{"type":20,"value":298},{"type":14,"tag":288,"props":2991,"children":2992},{"class":301},[2993],{"type":20,"value":304},{"type":14,"tag":288,"props":2995,"children":2996},{"class":295},[2997],{"type":20,"value":1040},{"type":14,"tag":288,"props":2999,"children":3000},{"class":301},[3001],{"type":20,"value":304},{"type":14,"tag":288,"props":3003,"children":3004},{"class":674},[3005],{"type":20,"value":205},{"type":14,"tag":288,"props":3007,"children":3008},{"class":301},[3009],{"type":20,"value":1142},{"type":14,"tag":288,"props":3011,"children":3012},{"class":316},[3013],{"type":20,"value":211},{"type":14,"tag":288,"props":3015,"children":3016},{"class":301},[3017],{"type":20,"value":304},{"type":14,"tag":288,"props":3019,"children":3020},{"class":518},[3021],{"type":20,"value":3022},"configurator",{"type":14,"tag":288,"props":3024,"children":3025},{"class":301},[3026],{"type":20,"value":1329},{"type":14,"tag":288,"props":3028,"children":3029},{"class":290,"line":341},[3030],{"type":14,"tag":288,"props":3031,"children":3032},{"class":301},[3033],{"type":20,"value":338},{"type":14,"tag":288,"props":3035,"children":3036},{"class":290,"line":350},[3037,3041,3045,3049,3053,3058,3062,3066,3071,3075,3079,3083,3088,3092],{"type":14,"tag":288,"props":3038,"children":3039},{"class":301},[3040],{"type":20,"value":488},{"type":14,"tag":288,"props":3042,"children":3043},{"class":518},[3044],{"type":20,"value":3022},{"type":14,"tag":288,"props":3046,"children":3047},{"class":301},[3048],{"type":20,"value":272},{"type":14,"tag":288,"props":3050,"children":3051},{"class":674},[3052],{"type":20,"value":205},{"type":14,"tag":288,"props":3054,"children":3055},{"class":301},[3056],{"type":20,"value":3057},"((",{"type":14,"tag":288,"props":3059,"children":3060},{"class":316},[3061],{"type":20,"value":2769},{"type":14,"tag":288,"props":3063,"children":3064},{"class":301},[3065],{"type":20,"value":304},{"type":14,"tag":288,"props":3067,"children":3068},{"class":518},[3069],{"type":20,"value":3070},"configuration1",{"type":14,"tag":288,"props":3072,"children":3073},{"class":301},[3074],{"type":20,"value":192},{"type":14,"tag":288,"props":3076,"children":3077},{"class":316},[3078],{"type":20,"value":2818},{"type":14,"tag":288,"props":3080,"children":3081},{"class":301},[3082],{"type":20,"value":304},{"type":14,"tag":288,"props":3084,"children":3085},{"class":518},[3086],{"type":20,"value":3087},"configuration2",{"type":14,"tag":288,"props":3089,"children":3090},{"class":301},[3091],{"type":20,"value":1835},{"type":14,"tag":288,"props":3093,"children":3094},{"class":527},[3095],{"type":20,"value":1840},{"type":14,"tag":288,"props":3097,"children":3098},{"class":290,"line":550},[3099],{"type":14,"tag":288,"props":3100,"children":3101},{"class":301},[3102],{"type":20,"value":690},{"type":14,"tag":288,"props":3104,"children":3105},{"class":290,"line":739},[3106,3110],{"type":14,"tag":288,"props":3107,"children":3108},{"class":301},[3109],{"type":20,"value":698},{"type":14,"tag":288,"props":3111,"children":3113},{"class":3112},"ct-cf0ec0",[3114],{"type":20,"value":3115},"// use both objects to configure\n",{"type":14,"tag":288,"props":3117,"children":3118},{"class":290,"line":780},[3119],{"type":14,"tag":288,"props":3120,"children":3121},{"class":301},[3122],{"type":20,"value":3123},"    });\n",{"type":14,"tag":288,"props":3125,"children":3126},{"class":290,"line":789},[3127],{"type":14,"tag":288,"props":3128,"children":3129},{"class":301},[3130],{"type":20,"value":3131},"}\n",{"type":14,"tag":288,"props":3133,"children":3134},{"class":290,"line":798},[3135],{"type":14,"tag":288,"props":3136,"children":3137},{"class":301},[3138],{"type":20,"value":3139},"...",{"type":14,"tag":22,"props":3141,"children":3142},{},[3143,3145,3151],{"type":20,"value":3144},"See ",{"type":14,"tag":60,"props":3146,"children":3148},{"href":3147},"./feature",[3149],{"type":20,"value":3150},"Feature",{"type":20,"value":3152}," for more information on using layer configurators\nfor features.",{"type":14,"tag":2679,"props":3154,"children":3156},{"id":3155},"one-by-one",[3157],{"type":20,"value":3158},"One by One",{"type":14,"tag":22,"props":3160,"children":3161},{},[3162],{"type":20,"value":3163},"Below code demonstrates providing configuration objects one by one;",{"type":14,"tag":274,"props":3165,"children":3167},{"code":3166,"language":277,"meta":278},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContextBuilder()\n            .Add(_configuration1)\n            .Add(_configuration2)\n            .Build()\n        ;\n}\n",[3168],{"type":14,"tag":281,"props":3169,"children":3170},{},[3171],{"type":14,"tag":274,"props":3172,"children":3173},{"__ignoreMap":7},[3174,3217,3224,3271,3318,3325,3384,3408,3432,3455,3470,3478],{"type":14,"tag":288,"props":3175,"children":3176},{"class":290,"line":291},[3177,3181,3185,3189,3193,3197,3201,3205,3209,3213],{"type":14,"tag":288,"props":3178,"children":3179},{"class":295},[3180],{"type":20,"value":298},{"type":14,"tag":288,"props":3182,"children":3183},{"class":301},[3184],{"type":20,"value":304},{"type":14,"tag":288,"props":3186,"children":3187},{"class":295},[3188],{"type":20,"value":309},{"type":14,"tag":288,"props":3190,"children":3191},{"class":301},[3192],{"type":20,"value":304},{"type":14,"tag":288,"props":3194,"children":3195},{"class":316},[3196],{"type":20,"value":319},{"type":14,"tag":288,"props":3198,"children":3199},{"class":301},[3200],{"type":20,"value":324},{"type":14,"tag":288,"props":3202,"children":3203},{"class":316},[3204],{"type":20,"value":270},{"type":14,"tag":288,"props":3206,"children":3207},{"class":301},[3208],{"type":20,"value":661},{"type":14,"tag":288,"props":3210,"children":3211},{"class":316},[3212],{"type":20,"value":1709},{"type":14,"tag":288,"props":3214,"children":3215},{"class":301},[3216],{"type":20,"value":1266},{"type":14,"tag":288,"props":3218,"children":3219},{"class":290,"line":332},[3220],{"type":14,"tag":288,"props":3221,"children":3222},{"class":301},[3223],{"type":20,"value":338},{"type":14,"tag":288,"props":3225,"children":3226},{"class":290,"line":341},[3227,3231,3235,3239,3243,3247,3251,3255,3259,3263,3267],{"type":14,"tag":288,"props":3228,"children":3229},{"class":301},[3230],{"type":20,"value":488},{"type":14,"tag":288,"props":3232,"children":3233},{"class":295},[3234],{"type":20,"value":1732},{"type":14,"tag":288,"props":3236,"children":3237},{"class":301},[3238],{"type":20,"value":304},{"type":14,"tag":288,"props":3240,"children":3241},{"class":316},[3242],{"type":20,"value":2769},{"type":14,"tag":288,"props":3244,"children":3245},{"class":301},[3246],{"type":20,"value":304},{"type":14,"tag":288,"props":3248,"children":3249},{"class":518},[3250],{"type":20,"value":2778},{"type":14,"tag":288,"props":3252,"children":3253},{"class":301},[3254],{"type":20,"value":304},{"type":14,"tag":288,"props":3256,"children":3257},{"class":527},[3258],{"type":20,"value":1090},{"type":14,"tag":288,"props":3260,"children":3261},{"class":301},[3262],{"type":20,"value":304},{"type":14,"tag":288,"props":3264,"children":3265},{"class":674},[3266],{"type":20,"value":722},{"type":14,"tag":288,"props":3268,"children":3269},{"class":301},[3270],{"type":20,"value":736},{"type":14,"tag":288,"props":3272,"children":3273},{"class":290,"line":350},[3274,3278,3282,3286,3290,3294,3298,3302,3306,3310,3314],{"type":14,"tag":288,"props":3275,"children":3276},{"class":301},[3277],{"type":20,"value":488},{"type":14,"tag":288,"props":3279,"children":3280},{"class":295},[3281],{"type":20,"value":1732},{"type":14,"tag":288,"props":3283,"children":3284},{"class":301},[3285],{"type":20,"value":304},{"type":14,"tag":288,"props":3287,"children":3288},{"class":316},[3289],{"type":20,"value":2818},{"type":14,"tag":288,"props":3291,"children":3292},{"class":301},[3293],{"type":20,"value":304},{"type":14,"tag":288,"props":3295,"children":3296},{"class":518},[3297],{"type":20,"value":2827},{"type":14,"tag":288,"props":3299,"children":3300},{"class":301},[3301],{"type":20,"value":304},{"type":14,"tag":288,"props":3303,"children":3304},{"class":527},[3305],{"type":20,"value":1090},{"type":14,"tag":288,"props":3307,"children":3308},{"class":301},[3309],{"type":20,"value":304},{"type":14,"tag":288,"props":3311,"children":3312},{"class":674},[3313],{"type":20,"value":722},{"type":14,"tag":288,"props":3315,"children":3316},{"class":301},[3317],{"type":20,"value":736},{"type":14,"tag":288,"props":3319,"children":3320},{"class":290,"line":550},[3321],{"type":14,"tag":288,"props":3322,"children":3323},{},[3324],{"type":20,"value":795},{"type":14,"tag":288,"props":3326,"children":3327},{"class":290,"line":739},[3328,3332,3336,3340,3344,3348,3352,3356,3360,3364,3368,3372,3376,3380],{"type":14,"tag":288,"props":3329,"children":3330},{"class":301},[3331],{"type":20,"value":488},{"type":14,"tag":288,"props":3333,"children":3334},{"class":295},[3335],{"type":20,"value":493},{"type":14,"tag":288,"props":3337,"children":3338},{"class":301},[3339],{"type":20,"value":304},{"type":14,"tag":288,"props":3341,"children":3342},{"class":295},[3343],{"type":20,"value":502},{"type":14,"tag":288,"props":3345,"children":3346},{"class":301},[3347],{"type":20,"value":304},{"type":14,"tag":288,"props":3349,"children":3350},{"class":316},[3351],{"type":20,"value":1657},{"type":14,"tag":288,"props":3353,"children":3354},{"class":301},[3355],{"type":20,"value":304},{"type":14,"tag":288,"props":3357,"children":3358},{"class":674},[3359],{"type":20,"value":1813},{"type":14,"tag":288,"props":3361,"children":3362},{"class":301},[3363],{"type":20,"value":1142},{"type":14,"tag":288,"props":3365,"children":3366},{"class":316},[3367],{"type":20,"value":1709},{"type":14,"tag":288,"props":3369,"children":3370},{"class":301},[3371],{"type":20,"value":304},{"type":14,"tag":288,"props":3373,"children":3374},{"class":518},[3375],{"type":20,"value":1830},{"type":14,"tag":288,"props":3377,"children":3378},{"class":301},[3379],{"type":20,"value":1835},{"type":14,"tag":288,"props":3381,"children":3382},{"class":527},[3383],{"type":20,"value":1840},{"type":14,"tag":288,"props":3385,"children":3386},{"class":290,"line":780},[3387,3391,3395,3399,3404],{"type":14,"tag":288,"props":3388,"children":3389},{"class":301},[3390],{"type":20,"value":698},{"type":14,"tag":288,"props":3392,"children":3393},{"class":518},[3394],{"type":20,"value":1830},{"type":14,"tag":288,"props":3396,"children":3397},{"class":301},[3398],{"type":20,"value":272},{"type":14,"tag":288,"props":3400,"children":3401},{"class":674},[3402],{"type":20,"value":3403},"CreateContextBuilder",{"type":14,"tag":288,"props":3405,"children":3406},{"class":301},[3407],{"type":20,"value":682},{"type":14,"tag":288,"props":3409,"children":3410},{"class":290,"line":789},[3411,3416,3420,3424,3428],{"type":14,"tag":288,"props":3412,"children":3413},{"class":301},[3414],{"type":20,"value":3415},"            .",{"type":14,"tag":288,"props":3417,"children":3418},{"class":674},[3419],{"type":20,"value":154},{"type":14,"tag":288,"props":3421,"children":3422},{"class":301},[3423],{"type":20,"value":1142},{"type":14,"tag":288,"props":3425,"children":3426},{"class":518},[3427],{"type":20,"value":2778},{"type":14,"tag":288,"props":3429,"children":3430},{"class":301},[3431],{"type":20,"value":1329},{"type":14,"tag":288,"props":3433,"children":3434},{"class":290,"line":798},[3435,3439,3443,3447,3451],{"type":14,"tag":288,"props":3436,"children":3437},{"class":301},[3438],{"type":20,"value":3415},{"type":14,"tag":288,"props":3440,"children":3441},{"class":674},[3442],{"type":20,"value":154},{"type":14,"tag":288,"props":3444,"children":3445},{"class":301},[3446],{"type":20,"value":1142},{"type":14,"tag":288,"props":3448,"children":3449},{"class":518},[3450],{"type":20,"value":2827},{"type":14,"tag":288,"props":3452,"children":3453},{"class":301},[3454],{"type":20,"value":1329},{"type":14,"tag":288,"props":3456,"children":3457},{"class":290,"line":840},[3458,3462,3466],{"type":14,"tag":288,"props":3459,"children":3460},{"class":301},[3461],{"type":20,"value":3415},{"type":14,"tag":288,"props":3463,"children":3464},{"class":674},[3465],{"type":20,"value":233},{"type":14,"tag":288,"props":3467,"children":3468},{"class":301},[3469],{"type":20,"value":682},{"type":14,"tag":288,"props":3471,"children":3472},{"class":290,"line":880},[3473],{"type":14,"tag":288,"props":3474,"children":3475},{"class":301},[3476],{"type":20,"value":3477},"        ;\n",{"type":14,"tag":288,"props":3479,"children":3480},{"class":290,"line":2548},[3481],{"type":14,"tag":288,"props":3482,"children":3483},{"class":301},[3484],{"type":20,"value":356},{"type":14,"tag":22,"props":3486,"children":3487},{},[3488],{"type":20,"value":3489},"This phase context will require two different actions in a feature;",{"type":14,"tag":274,"props":3491,"children":3493},{"code":3492,"language":277,"meta":278},"...\npublic void Configure(LayerConfigurator configurator)\n{\n    configurator.Configure((Configuration1 configuration1) =>\n    {\n        // configure one by one\n    });\n\n    configurator.Configure((Configuration2 configuration2) =>\n    {\n        // configure one by one\n    });\n}\n...\n",[3494],{"type":14,"tag":281,"props":3495,"children":3496},{},[3497],{"type":14,"tag":274,"props":3498,"children":3499},{"__ignoreMap":7},[3500,3507,3550,3557,3600,3607,3619,3626,3633,3676,3683,3694,3701,3708],{"type":14,"tag":288,"props":3501,"children":3502},{"class":290,"line":291},[3503],{"type":14,"tag":288,"props":3504,"children":3505},{"class":301},[3506],{"type":20,"value":2982},{"type":14,"tag":288,"props":3508,"children":3509},{"class":290,"line":332},[3510,3514,3518,3522,3526,3530,3534,3538,3542,3546],{"type":14,"tag":288,"props":3511,"children":3512},{"class":295},[3513],{"type":20,"value":298},{"type":14,"tag":288,"props":3515,"children":3516},{"class":301},[3517],{"type":20,"value":304},{"type":14,"tag":288,"props":3519,"children":3520},{"class":295},[3521],{"type":20,"value":1040},{"type":14,"tag":288,"props":3523,"children":3524},{"class":301},[3525],{"type":20,"value":304},{"type":14,"tag":288,"props":3527,"children":3528},{"class":674},[3529],{"type":20,"value":205},{"type":14,"tag":288,"props":3531,"children":3532},{"class":301},[3533],{"type":20,"value":1142},{"type":14,"tag":288,"props":3535,"children":3536},{"class":316},[3537],{"type":20,"value":211},{"type":14,"tag":288,"props":3539,"children":3540},{"class":301},[3541],{"type":20,"value":304},{"type":14,"tag":288,"props":3543,"children":3544},{"class":518},[3545],{"type":20,"value":3022},{"type":14,"tag":288,"props":3547,"children":3548},{"class":301},[3549],{"type":20,"value":1329},{"type":14,"tag":288,"props":3551,"children":3552},{"class":290,"line":341},[3553],{"type":14,"tag":288,"props":3554,"children":3555},{"class":301},[3556],{"type":20,"value":338},{"type":14,"tag":288,"props":3558,"children":3559},{"class":290,"line":350},[3560,3564,3568,3572,3576,3580,3584,3588,3592,3596],{"type":14,"tag":288,"props":3561,"children":3562},{"class":301},[3563],{"type":20,"value":488},{"type":14,"tag":288,"props":3565,"children":3566},{"class":518},[3567],{"type":20,"value":3022},{"type":14,"tag":288,"props":3569,"children":3570},{"class":301},[3571],{"type":20,"value":272},{"type":14,"tag":288,"props":3573,"children":3574},{"class":674},[3575],{"type":20,"value":205},{"type":14,"tag":288,"props":3577,"children":3578},{"class":301},[3579],{"type":20,"value":3057},{"type":14,"tag":288,"props":3581,"children":3582},{"class":316},[3583],{"type":20,"value":2769},{"type":14,"tag":288,"props":3585,"children":3586},{"class":301},[3587],{"type":20,"value":304},{"type":14,"tag":288,"props":3589,"children":3590},{"class":518},[3591],{"type":20,"value":3070},{"type":14,"tag":288,"props":3593,"children":3594},{"class":301},[3595],{"type":20,"value":1835},{"type":14,"tag":288,"props":3597,"children":3598},{"class":527},[3599],{"type":20,"value":1840},{"type":14,"tag":288,"props":3601,"children":3602},{"class":290,"line":550},[3603],{"type":14,"tag":288,"props":3604,"children":3605},{"class":301},[3606],{"type":20,"value":690},{"type":14,"tag":288,"props":3608,"children":3609},{"class":290,"line":739},[3610,3614],{"type":14,"tag":288,"props":3611,"children":3612},{"class":301},[3613],{"type":20,"value":698},{"type":14,"tag":288,"props":3615,"children":3616},{"class":3112},[3617],{"type":20,"value":3618},"// configure one by one\n",{"type":14,"tag":288,"props":3620,"children":3621},{"class":290,"line":780},[3622],{"type":14,"tag":288,"props":3623,"children":3624},{"class":301},[3625],{"type":20,"value":3123},{"type":14,"tag":288,"props":3627,"children":3628},{"class":290,"line":789},[3629],{"type":14,"tag":288,"props":3630,"children":3631},{},[3632],{"type":20,"value":795},{"type":14,"tag":288,"props":3634,"children":3635},{"class":290,"line":798},[3636,3640,3644,3648,3652,3656,3660,3664,3668,3672],{"type":14,"tag":288,"props":3637,"children":3638},{"class":301},[3639],{"type":20,"value":488},{"type":14,"tag":288,"props":3641,"children":3642},{"class":518},[3643],{"type":20,"value":3022},{"type":14,"tag":288,"props":3645,"children":3646},{"class":301},[3647],{"type":20,"value":272},{"type":14,"tag":288,"props":3649,"children":3650},{"class":674},[3651],{"type":20,"value":205},{"type":14,"tag":288,"props":3653,"children":3654},{"class":301},[3655],{"type":20,"value":3057},{"type":14,"tag":288,"props":3657,"children":3658},{"class":316},[3659],{"type":20,"value":2818},{"type":14,"tag":288,"props":3661,"children":3662},{"class":301},[3663],{"type":20,"value":304},{"type":14,"tag":288,"props":3665,"children":3666},{"class":518},[3667],{"type":20,"value":3087},{"type":14,"tag":288,"props":3669,"children":3670},{"class":301},[3671],{"type":20,"value":1835},{"type":14,"tag":288,"props":3673,"children":3674},{"class":527},[3675],{"type":20,"value":1840},{"type":14,"tag":288,"props":3677,"children":3678},{"class":290,"line":840},[3679],{"type":14,"tag":288,"props":3680,"children":3681},{"class":301},[3682],{"type":20,"value":690},{"type":14,"tag":288,"props":3684,"children":3685},{"class":290,"line":880},[3686,3690],{"type":14,"tag":288,"props":3687,"children":3688},{"class":301},[3689],{"type":20,"value":698},{"type":14,"tag":288,"props":3691,"children":3692},{"class":3112},[3693],{"type":20,"value":3618},{"type":14,"tag":288,"props":3695,"children":3696},{"class":290,"line":2548},[3697],{"type":14,"tag":288,"props":3698,"children":3699},{"class":301},[3700],{"type":20,"value":3123},{"type":14,"tag":288,"props":3702,"children":3703},{"class":290,"line":2592},[3704],{"type":14,"tag":288,"props":3705,"children":3706},{"class":301},[3707],{"type":20,"value":3131},{"type":14,"tag":288,"props":3709,"children":3710},{"class":290,"line":2601},[3711],{"type":14,"tag":288,"props":3712,"children":3713},{"class":301},[3714],{"type":20,"value":3139},{"type":14,"tag":358,"props":3716,"children":3717},{},[3718,3722],{"type":14,"tag":22,"props":3719,"children":3720},{},[3721],{"type":20,"value":365},{"type":14,"tag":22,"props":3723,"children":3724},{},[3725,3730,3732,3737],{"type":14,"tag":28,"props":3726,"children":3727},{},[3728],{"type":20,"value":3729},"phase.CreateContext()",{"type":20,"value":3731}," is a helper method that utilizes\n",{"type":14,"tag":28,"props":3733,"children":3734},{},[3735],{"type":20,"value":3736},"phase.CreateContextBuilder()",{"type":20,"value":3738}," behind the scenes.",{"type":14,"tag":2679,"props":3740,"children":3742},{"id":3741},"using-in-combination",[3743],{"type":20,"value":3744},"Using in Combination",{"type":14,"tag":22,"props":3746,"children":3747},{},[3748],{"type":20,"value":3749},"You may combine these two ways to provide configuration;",{"type":14,"tag":274,"props":3751,"children":3753},{"code":3752,"language":277,"meta":278},"public class LayerX : LayerBase\u003CAddServices>\n{\n    readonly Configuration1 _configuration1 = new();\n    readonly Configuration2 _configuration2 = new();\n    readonly Configuration3 _configuration3 = new();\n\n    protected override PhaseContext GetContext(AddServices phase) =>\n        phase.CreateContextBuilder()\n            .Add(_configuration1, _configuration2)\n            .Add(_configuration3)\n            .Build()\n        ;\n}\n",[3754],{"type":14,"tag":281,"props":3755,"children":3756},{},[3757],{"type":14,"tag":274,"props":3758,"children":3759},{"__ignoreMap":7},[3760,3803,3810,3857,3904,3953,3960,4019,4042,4073,4096,4111,4118],{"type":14,"tag":288,"props":3761,"children":3762},{"class":290,"line":291},[3763,3767,3771,3775,3779,3783,3787,3791,3795,3799],{"type":14,"tag":288,"props":3764,"children":3765},{"class":295},[3766],{"type":20,"value":298},{"type":14,"tag":288,"props":3768,"children":3769},{"class":301},[3770],{"type":20,"value":304},{"type":14,"tag":288,"props":3772,"children":3773},{"class":295},[3774],{"type":20,"value":309},{"type":14,"tag":288,"props":3776,"children":3777},{"class":301},[3778],{"type":20,"value":304},{"type":14,"tag":288,"props":3780,"children":3781},{"class":316},[3782],{"type":20,"value":319},{"type":14,"tag":288,"props":3784,"children":3785},{"class":301},[3786],{"type":20,"value":324},{"type":14,"tag":288,"props":3788,"children":3789},{"class":316},[3790],{"type":20,"value":270},{"type":14,"tag":288,"props":3792,"children":3793},{"class":301},[3794],{"type":20,"value":661},{"type":14,"tag":288,"props":3796,"children":3797},{"class":316},[3798],{"type":20,"value":1709},{"type":14,"tag":288,"props":3800,"children":3801},{"class":301},[3802],{"type":20,"value":1266},{"type":14,"tag":288,"props":3804,"children":3805},{"class":290,"line":332},[3806],{"type":14,"tag":288,"props":3807,"children":3808},{"class":301},[3809],{"type":20,"value":338},{"type":14,"tag":288,"props":3811,"children":3812},{"class":290,"line":341},[3813,3817,3821,3825,3829,3833,3837,3841,3845,3849,3853],{"type":14,"tag":288,"props":3814,"children":3815},{"class":301},[3816],{"type":20,"value":488},{"type":14,"tag":288,"props":3818,"children":3819},{"class":295},[3820],{"type":20,"value":1732},{"type":14,"tag":288,"props":3822,"children":3823},{"class":301},[3824],{"type":20,"value":304},{"type":14,"tag":288,"props":3826,"children":3827},{"class":316},[3828],{"type":20,"value":2769},{"type":14,"tag":288,"props":3830,"children":3831},{"class":301},[3832],{"type":20,"value":304},{"type":14,"tag":288,"props":3834,"children":3835},{"class":518},[3836],{"type":20,"value":2778},{"type":14,"tag":288,"props":3838,"children":3839},{"class":301},[3840],{"type":20,"value":304},{"type":14,"tag":288,"props":3842,"children":3843},{"class":527},[3844],{"type":20,"value":1090},{"type":14,"tag":288,"props":3846,"children":3847},{"class":301},[3848],{"type":20,"value":304},{"type":14,"tag":288,"props":3850,"children":3851},{"class":674},[3852],{"type":20,"value":722},{"type":14,"tag":288,"props":3854,"children":3855},{"class":301},[3856],{"type":20,"value":736},{"type":14,"tag":288,"props":3858,"children":3859},{"class":290,"line":350},[3860,3864,3868,3872,3876,3880,3884,3888,3892,3896,3900],{"type":14,"tag":288,"props":3861,"children":3862},{"class":301},[3863],{"type":20,"value":488},{"type":14,"tag":288,"props":3865,"children":3866},{"class":295},[3867],{"type":20,"value":1732},{"type":14,"tag":288,"props":3869,"children":3870},{"class":301},[3871],{"type":20,"value":304},{"type":14,"tag":288,"props":3873,"children":3874},{"class":316},[3875],{"type":20,"value":2818},{"type":14,"tag":288,"props":3877,"children":3878},{"class":301},[3879],{"type":20,"value":304},{"type":14,"tag":288,"props":3881,"children":3882},{"class":518},[3883],{"type":20,"value":2827},{"type":14,"tag":288,"props":3885,"children":3886},{"class":301},[3887],{"type":20,"value":304},{"type":14,"tag":288,"props":3889,"children":3890},{"class":527},[3891],{"type":20,"value":1090},{"type":14,"tag":288,"props":3893,"children":3894},{"class":301},[3895],{"type":20,"value":304},{"type":14,"tag":288,"props":3897,"children":3898},{"class":674},[3899],{"type":20,"value":722},{"type":14,"tag":288,"props":3901,"children":3902},{"class":301},[3903],{"type":20,"value":736},{"type":14,"tag":288,"props":3905,"children":3906},{"class":290,"line":550},[3907,3911,3915,3919,3924,3928,3933,3937,3941,3945,3949],{"type":14,"tag":288,"props":3908,"children":3909},{"class":301},[3910],{"type":20,"value":488},{"type":14,"tag":288,"props":3912,"children":3913},{"class":295},[3914],{"type":20,"value":1732},{"type":14,"tag":288,"props":3916,"children":3917},{"class":301},[3918],{"type":20,"value":304},{"type":14,"tag":288,"props":3920,"children":3921},{"class":316},[3922],{"type":20,"value":3923},"Configuration3",{"type":14,"tag":288,"props":3925,"children":3926},{"class":301},[3927],{"type":20,"value":304},{"type":14,"tag":288,"props":3929,"children":3930},{"class":518},[3931],{"type":20,"value":3932},"_configuration3",{"type":14,"tag":288,"props":3934,"children":3935},{"class":301},[3936],{"type":20,"value":304},{"type":14,"tag":288,"props":3938,"children":3939},{"class":527},[3940],{"type":20,"value":1090},{"type":14,"tag":288,"props":3942,"children":3943},{"class":301},[3944],{"type":20,"value":304},{"type":14,"tag":288,"props":3946,"children":3947},{"class":674},[3948],{"type":20,"value":722},{"type":14,"tag":288,"props":3950,"children":3951},{"class":301},[3952],{"type":20,"value":736},{"type":14,"tag":288,"props":3954,"children":3955},{"class":290,"line":739},[3956],{"type":14,"tag":288,"props":3957,"children":3958},{},[3959],{"type":20,"value":795},{"type":14,"tag":288,"props":3961,"children":3962},{"class":290,"line":780},[3963,3967,3971,3975,3979,3983,3987,3991,3995,3999,4003,4007,4011,4015],{"type":14,"tag":288,"props":3964,"children":3965},{"class":301},[3966],{"type":20,"value":488},{"type":14,"tag":288,"props":3968,"children":3969},{"class":295},[3970],{"type":20,"value":493},{"type":14,"tag":288,"props":3972,"children":3973},{"class":301},[3974],{"type":20,"value":304},{"type":14,"tag":288,"props":3976,"children":3977},{"class":295},[3978],{"type":20,"value":502},{"type":14,"tag":288,"props":3980,"children":3981},{"class":301},[3982],{"type":20,"value":304},{"type":14,"tag":288,"props":3984,"children":3985},{"class":316},[3986],{"type":20,"value":1657},{"type":14,"tag":288,"props":3988,"children":3989},{"class":301},[3990],{"type":20,"value":304},{"type":14,"tag":288,"props":3992,"children":3993},{"class":674},[3994],{"type":20,"value":1813},{"type":14,"tag":288,"props":3996,"children":3997},{"class":301},[3998],{"type":20,"value":1142},{"type":14,"tag":288,"props":4000,"children":4001},{"class":316},[4002],{"type":20,"value":1709},{"type":14,"tag":288,"props":4004,"children":4005},{"class":301},[4006],{"type":20,"value":304},{"type":14,"tag":288,"props":4008,"children":4009},{"class":518},[4010],{"type":20,"value":1830},{"type":14,"tag":288,"props":4012,"children":4013},{"class":301},[4014],{"type":20,"value":1835},{"type":14,"tag":288,"props":4016,"children":4017},{"class":527},[4018],{"type":20,"value":1840},{"type":14,"tag":288,"props":4020,"children":4021},{"class":290,"line":789},[4022,4026,4030,4034,4038],{"type":14,"tag":288,"props":4023,"children":4024},{"class":301},[4025],{"type":20,"value":698},{"type":14,"tag":288,"props":4027,"children":4028},{"class":518},[4029],{"type":20,"value":1830},{"type":14,"tag":288,"props":4031,"children":4032},{"class":301},[4033],{"type":20,"value":272},{"type":14,"tag":288,"props":4035,"children":4036},{"class":674},[4037],{"type":20,"value":3403},{"type":14,"tag":288,"props":4039,"children":4040},{"class":301},[4041],{"type":20,"value":682},{"type":14,"tag":288,"props":4043,"children":4044},{"class":290,"line":798},[4045,4049,4053,4057,4061,4065,4069],{"type":14,"tag":288,"props":4046,"children":4047},{"class":301},[4048],{"type":20,"value":3415},{"type":14,"tag":288,"props":4050,"children":4051},{"class":674},[4052],{"type":20,"value":154},{"type":14,"tag":288,"props":4054,"children":4055},{"class":301},[4056],{"type":20,"value":1142},{"type":14,"tag":288,"props":4058,"children":4059},{"class":518},[4060],{"type":20,"value":2778},{"type":14,"tag":288,"props":4062,"children":4063},{"class":301},[4064],{"type":20,"value":192},{"type":14,"tag":288,"props":4066,"children":4067},{"class":518},[4068],{"type":20,"value":2827},{"type":14,"tag":288,"props":4070,"children":4071},{"class":301},[4072],{"type":20,"value":1329},{"type":14,"tag":288,"props":4074,"children":4075},{"class":290,"line":840},[4076,4080,4084,4088,4092],{"type":14,"tag":288,"props":4077,"children":4078},{"class":301},[4079],{"type":20,"value":3415},{"type":14,"tag":288,"props":4081,"children":4082},{"class":674},[4083],{"type":20,"value":154},{"type":14,"tag":288,"props":4085,"children":4086},{"class":301},[4087],{"type":20,"value":1142},{"type":14,"tag":288,"props":4089,"children":4090},{"class":518},[4091],{"type":20,"value":3932},{"type":14,"tag":288,"props":4093,"children":4094},{"class":301},[4095],{"type":20,"value":1329},{"type":14,"tag":288,"props":4097,"children":4098},{"class":290,"line":880},[4099,4103,4107],{"type":14,"tag":288,"props":4100,"children":4101},{"class":301},[4102],{"type":20,"value":3415},{"type":14,"tag":288,"props":4104,"children":4105},{"class":674},[4106],{"type":20,"value":233},{"type":14,"tag":288,"props":4108,"children":4109},{"class":301},[4110],{"type":20,"value":682},{"type":14,"tag":288,"props":4112,"children":4113},{"class":290,"line":2548},[4114],{"type":14,"tag":288,"props":4115,"children":4116},{"class":301},[4117],{"type":20,"value":3477},{"type":14,"tag":288,"props":4119,"children":4120},{"class":290,"line":2592},[4121],{"type":14,"tag":288,"props":4122,"children":4123},{"class":301},[4124],{"type":20,"value":356},{"type":14,"tag":22,"props":4126,"children":4127},{},[4128],{"type":20,"value":4129},"This phase context will require two different actions;",{"type":14,"tag":95,"props":4131,"children":4132},{},[4133,4143],{"type":14,"tag":99,"props":4134,"children":4135},{},[4136,4138],{"type":20,"value":4137},"For the first two configuration objects: ",{"type":14,"tag":28,"props":4139,"children":4140},{},[4141],{"type":20,"value":4142},"(Configuration1 configuration1, Configuration2 configuration2)",{"type":14,"tag":99,"props":4144,"children":4145},{},[4146,4148,4153],{"type":20,"value":4147},"For the last configuration object: ",{"type":14,"tag":28,"props":4149,"children":4150},{},[4151],{"type":20,"value":4152},"(Configuration3 configuration3)",{"type":20,"value":272},{"type":14,"tag":4155,"children":4156},"style",[4157],{"type":20,"value":4158},".ct-cf0ec0{color:#6A9955}\n.ct-7387d1{color:#C586C0}\n.ct-ae5d7d{color:#DCDCAA}\n.ct-52d695{color:#CE9178}\n.ct-7496fb{color:#D4D4D4}\n.ct-e9d130{color:#9CDCFE}\n.ct-378459{color:#4EC9B0}\n.ct-955215{color:#E6E6E6}\n.ct-516740{color:#569CD6}",{"title":7,"searchDepth":332,"depth":332,"links":4160},[4161,4162,4166,4171],{"id":85,"depth":332,"text":88},{"id":257,"depth":332,"text":260,"children":4163},[4164],{"id":380,"depth":341,"text":4165},"Id of a Layer",{"id":558,"depth":332,"text":561,"children":4167},[4168,4169,4170],{"id":923,"depth":341,"text":926},{"id":1185,"depth":341,"text":1188},{"id":1507,"depth":341,"text":1510},{"id":1644,"depth":332,"text":1647,"children":4172},[4173,4175,4176],{"id":1930,"depth":341,"text":4174},"Using non-generic LayerBase",{"id":2219,"depth":341,"text":2222},{"id":2669,"depth":341,"text":2672},"markdown","content:architecture:layer.md","content","architecture/layer.md","md",1697013454448]