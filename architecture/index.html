<!DOCTYPE html>
<html >
<head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Architecture</title>
<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Do">
<meta property="og:description" content="An opinionated framework for .NET">
<meta property="og:image" content="https://do.mouseless.codes/favicon.ico">
<meta property="og:image:width" content="50">
<meta property="og:image:height" content="50">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
<link rel="stylesheet" type="text/css" href="https://mouseless.github.io/brand/assets/css/default.css">
<meta property="og:title" content="Architecture">
<meta name="description" content="DO's architectural core is designed to allow us to build software with any
architectural style. Core idea is to enable a good separation of concerns
without causing any repetitive work. To achieve this DO breaks down an
application into following components: domain objects, layers and features.">
<meta property="og:description" content="DO's architectural core is designed to allow us to build software with any
architectural style. Core idea is to enable a good separation of concerns
without causing any repetitive work. To achieve this DO breaks down an
application into following components: domain objects, layers and features.">
<style>.content[data-v-5e897649],.full[data-v-5e897649]{box-sizing:border-box;margin:auto;max-width:calc(var(--width-content) + 34em);min-width:270px}@media (max-width:1830px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:calc(var(--width-content) + 34em)}}@media (max-width:1330px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:calc(var(--width-content) + 19em)}}@media (max-width:1074px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:calc(var(--width-content))}}@media (max-width:818px){.content[data-v-5e897649],.full[data-v-5e897649]{max-width:82%}}.content[data-v-5e897649]{display:grid;grid-template-areas:"side content" "side content";grid-template-columns:15em;grid-template-rows:65px 1fr}.side[data-v-5e897649]{grid-area:side}article[data-v-5e897649]{grid-area:content}@media (max-width:1330px){.content[data-v-5e897649]{margin-top:0}}@media (max-width:1074px){.side[data-v-5e897649]{grid-column-end:content;z-index:2}article[data-v-5e897649]{grid-column-start:side}}@media (max-width:818px){.content[data-v-5e897649]{display:block}}</style>
<style>div.top[data-v-049e3959]{border-bottom:2px solid var(--color-bg-soft)}header[data-v-049e3959]{align-items:center;box-sizing:border-box;display:flex;flex-direction:row;justify-content:space-between;margin:auto;max-width:calc(var(--width-content) + 34em);min-width:270px}@media (max-width:1830px){header[data-v-049e3959]{max-width:calc(var(--width-content) + 34em)}}@media (max-width:1330px){header[data-v-049e3959]{max-width:calc(var(--width-content) + 19em)}}@media (max-width:1074px){header[data-v-049e3959]{max-width:calc(var(--width-content))}}@media (max-width:818px){header[data-v-049e3959]{max-width:82%}}header .bars[data-v-049e3959]{display:none}div.logo[data-v-049e3959]{margin:20px 0}div.logo a[data-v-049e3959]:has(img.logo){display:block;height:25px}div.logo a:has(img.logo) img.do[data-v-049e3959]:is(.logo){display:inline-block;height:25px}a[data-v-049e3959]{color:var(--color-fg-soft);cursor:pointer}a[data-v-049e3959]:hover{color:var(--color-logo-mark)}nav a[data-v-049e3959]{margin:1em;text-decoration:none}nav a.close[data-v-049e3959]{display:none}nav a.active[data-v-049e3959]{border-bottom-color:var(--color-bg-soft);border-bottom:2px solid var(--color-logo-mark);padding-bottom:22px}nav a[data-v-049e3959]:last-child{margin-right:0}@media (max-width:1830px){nav a.active[data-v-049e3959]{padding-bottom:24px}}@media (max-width:1074px){a.bars[data-v-049e3959]{display:block}nav[data-v-049e3959]{background:var(--color-bg);border-left:2px solid var(--color-bg-soft);display:none;height:100%;padding:20px;position:fixed;right:0;top:0;width:calc(270px - 4em);z-index:99}nav a[data-v-049e3959],nav.active[data-v-049e3959]{display:block}nav a[data-v-049e3959]{height:2em}nav a.close[data-v-049e3959]{display:block;margin-bottom:1em}nav a.close i[data-v-049e3959]{font-size:larger}nav a.active[data-v-049e3959]{border:0;border-left-color:var(--color-bg-soft);border-left:2px solid var(--color-logo-mark);margin-left:-22px;padding-bottom:0;padding-left:calc(20px + 1em)}}@media (max-width:818px){nav[data-v-049e3959]{width:calc(270px - 7em)}}</style>
<style>nav[data-v-9dee0249]{align-self:start;margin-top:2.5em;position:sticky;top:1.5em}nav h4[data-v-9dee0249]{display:none}nav ul[data-v-9dee0249]{margin:0;padding:0}nav ul li[data-v-9dee0249]{list-style:none;margin:0}nav ul li a[data-v-9dee0249]{border-radius:calc(var(--border-radius)/3);color:var(--color-fg-soft);display:block;font-size:1em;padding:.5em 1em;text-decoration:none}nav ul li a[data-v-9dee0249]:hover{color:var(--color-logo-mark)}nav ul li a.active[data-v-9dee0249]{background-color:var(--color-bg-soft)}@media (max-width:1330px){nav[data-v-9dee0249]{margin-top:3.5em}}@media (max-width:1074px){nav[data-v-9dee0249]{margin-top:0;top:0;width:50%}nav h4[data-v-9dee0249]{display:block;font-size:.9em;text-transform:uppercase}nav h4 a[data-v-9dee0249]{padding-left:0}nav h4 a[data-v-9dee0249]:hover{color:var(--color-logo-mark)}nav ul[data-v-9dee0249]{background-color:var(--color-bg-box);background-color:var(--color-bg-soft);border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);box-sizing:border-box;display:none;padding:calc(var(--border-radius) - .5em) calc(var(--border-radius) - 1em);position:absolute;width:200%}nav ul.active[data-v-9dee0249]{display:block}nav ul li a.active[data-v-9dee0249]{background-color:var(--color-bg-mute)}}@media (max-width:818px){nav[data-v-9dee0249]{margin-bottom:-3.7em}}</style>
<style>.container[data-v-b90ae7fa]{display:flex}.container .content[data-v-b90ae7fa]{margin:0 4em;max-width:var(--width-content);width:100%}@media (max-width:1330px){.container[data-v-b90ae7fa]{flex-direction:column-reverse;margin-left:4em}.container .content[data-v-b90ae7fa]{margin:1em 0 0}}@media (max-width:1074px){.container[data-v-b90ae7fa]{margin-left:0}}</style>
<style>.full .content{margin-left:0!important;margin-right:0!important}@media (max-width:1330px){.full .container{margin-left:0}}</style>
<style>div.bottom[data-v-82c0088f]{border-top:2px solid var(--color-bg-soft);margin-top:4em}footer[data-v-82c0088f]{align-items:flex-start;box-sizing:border-box;display:flex;flex-direction:row;justify-content:space-between;margin:1em auto;max-width:calc(var(--width-content) + 34em);min-width:270px}@media (max-width:1830px){footer[data-v-82c0088f]{max-width:calc(var(--width-content) + 34em)}}@media (max-width:1330px){footer[data-v-82c0088f]{max-width:calc(var(--width-content) + 19em)}}@media (max-width:1074px){footer[data-v-82c0088f]{max-width:calc(var(--width-content))}}@media (max-width:818px){footer[data-v-82c0088f]{max-width:82%}}footer[data-v-82c0088f],footer *[data-v-82c0088f]{color:var(--color-fg-mute)}footer div[data-v-82c0088f],footer nav[data-v-82c0088f]{font-family:var(--font-heading);font-size:smaller}div.logo[data-v-82c0088f]{margin:20px 0}div.logo a[data-v-82c0088f]:has(img.logo){display:block;height:15px}div.logo a:has(img.logo) img.do[data-v-82c0088f]:is(.logo){display:inline-block;height:15px;opacity:.5}div.logo span[data-v-82c0088f]{display:inline-block;margin-top:1em}nav[data-v-82c0088f]{text-align:right}nav a[data-v-82c0088f]{display:block;margin:5px;text-decoration:none}nav a[data-v-82c0088f]:hover,nav a:hover i[data-v-82c0088f]{color:var(--color-logo-mark)}@media (max-width:818px){footer[data-v-82c0088f]{display:block}footer nav[data-v-82c0088f]{text-align:left}footer nav a[data-v-82c0088f]{margin-left:0}}</style>
<style>.navigation-buttons-container[data-v-6a000fc9]{margin-top:4em;max-width:var(--width-content)}.navigation-buttons-container .button[data-v-6a000fc9]{margin-top:.9em;padding-left:.4em;padding-right:.4em}.navigation-buttons-container .button a[data-v-6a000fc9]{text-decoration:none}.navigation-buttons-container .button a .link-text[data-v-6a000fc9]{color:var(--color-fg-mute);font-size:.75em}.navigation-buttons-container .button a .link-text h3[data-v-6a000fc9]{color:var(--color-fg-soft);font-size:1.5em;margin-top:.1em}.navigation-buttons-container .button a:hover h3[data-v-6a000fc9]{color:var(--color-logo-mark)}.navigation-buttons-container .button.left[data-v-6a000fc9]{float:left;text-align:left}.navigation-buttons-container .button.right[data-v-6a000fc9]{float:right;text-align:end}</style>
<style>h4[data-v-4f8affad]{margin-bottom:.5em;padding-left:1em}h4[data-v-4f8affad],nav[data-v-4f8affad]{font-size:.9em}nav[data-v-4f8affad]{text-wrap:nowrap;align-self:start;margin-top:2.5em;overflow:hidden;position:sticky;top:1.5em;width:15em}nav ul[data-v-4f8affad]{margin:0;padding-left:0}nav ul li[data-v-4f8affad]{line-height:24px;list-style:none;margin:0}nav ul li a[data-v-4f8affad]{border-left:2px solid transparent;color:var(--color-fg-soft);cursor:pointer;display:block;font-size:.9em;margin-top:.25em;overflow:hidden;padding-left:1em;text-decoration:none;text-overflow:ellipsis}nav ul li a[data-v-4f8affad]:hover{color:var(--color-logo-mark)}nav ul li a.active[data-v-4f8affad]{border-left-color:var(--color-bg-mute)}nav ul li a.return-to-top[data-v-4f8affad]{margin-top:.75em}nav ul li ul[data-v-4f8affad]{margin-bottom:.25em}nav ul li ul a[data-v-4f8affad]{padding-left:2em}@media (max-width:1330px){nav[data-v-4f8affad]{background-color:var(--color-bg);font-size:1em;margin:0 0 -3.7em;text-align:right;top:0;width:100%}nav h4 a[data-v-4f8affad]{display:inline-block;padding-left:0;padding-right:0}nav h4 a[data-v-4f8affad]:hover{color:var(--color-logo-mark)}nav>ul[data-v-4f8affad]{background-color:var(--color-bg-box);background-color:var(--color-bg-soft);border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);display:none;margin-bottom:2.5em;padding:var(--border-radius);padding-left:0;text-align:left}nav>ul.active[data-v-4f8affad]{display:block}nav ul li a[data-v-4f8affad]{padding-left:var(--border-radius)}nav ul li a.active[data-v-4f8affad]:before{left:0}nav ul li ul li a[data-v-4f8affad]{padding-left:calc(var(--border-radius) + 1em)}}</style>
<style>blockquote[data-v-cab260a3]{align-items:flex-start;border-radius:10px;display:flex;flex-direction:row;justify-content:flex-start;margin:1em 0;max-width:var(--width-content);padding:0}blockquote i[data-v-cab260a3]{line-height:var(--line-height);margin-top:1em;position:absolute}blockquote div[data-v-cab260a3]{padding-left:3ch;width:100%}blockquote.info i[data-v-cab260a3]{color:var(--color-blue)}blockquote.warning i[data-v-cab260a3]{color:var(--color-orange)}blockquote.tip i[data-v-cab260a3]{color:var(--color-green)}blockquote.danger i[data-v-cab260a3]{color:var(--color-red)}blockquote.default i[data-v-cab260a3]{color:var(--color-fg)}@media (min-width:1830px){blockquote i[data-v-cab260a3]{line-height:calc(var(--line-height)*1.1)}}</style>
<style>a[data-v-f8417185]{font-family:var(--font-default)}i[data-v-f8417185]{margin-left:.3em}</style>
<style>img[data-v-37a2b7c0]{max-width:100%}</style>
<style>@media (prefers-color-scheme:dark){:root{--url-logo-full:url(/logo-full-primary.svg);--url-logo-full-mono:url(/logo-full-white.svg);--url-logo-mark:url(/logo-mark-primary.svg);--url-logo-mark-mono:url(/logo-mark-white.svg)}}@media (prefers-color-scheme:light){:root{--url-logo-full:url(/logo-full-secondary.svg);--url-logo-full-mono:url(/logo-full-black.svg);--url-logo-mark:url(/logo-mark-primary.svg);--url-logo-mark-mono:url(/logo-mark-black.svg)}}body,html{margin:0;padding:0}body{font-size:calc(var(--font-size)*1.2);line-height:calc(var(--line-height)*1.1)}img.do:is(.logo),img.do:is(.logo:is(.full)){content:var(--url-logo-full)}img.do:is(.logo):is(.mono),img.do:is(.logo:is(.full)):is(.mono){content:var(--url-logo-full-mono)}img.do:is(.logo:is(.mark)){content:var(--url-logo-mark)}img.do:is(.logo:is(.mark)):is(.mono){content:var(--url-logo-mark-mono)}.content nav h4{margin-bottom:.5em;margin-top:0;text-transform:uppercase}.content nav h4 a{display:inline-block;text-decoration:none}.content nav h4 a,.content nav h4 a:hover{color:var(--color-fg-soft)}.content p:has(.diagram){background-color:var(--color-bg-box);border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-color:var(--color-bg-soft);border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);padding:30px 0 18px;text-align:center}.content code{background-color:var(--color-bg-soft);border-radius:5px;color:var(--color-soft);font-size:.9em;overflow-wrap:anywhere;padding:.2em .4em}.content pre{text-wrap:wrap;overflow:auto}.content pre code{text-wrap:nowrap;background-color:transparent;display:block;line-height:1.5em;max-width:0;padding:0}.content ol li,.content ul li{margin-bottom:.2em}.content ol li ol,.content ol li ul,.content ul li ol,.content ul li ul{margin-top:.2em}.content hr{border:2px solid var(--color-bg-soft)}@media (max-width:1830px){body{font-size:var(--font-size);line-height:var(--line-height)}.content pre code{line-height:1em}}@media (max-width:1330px){.content h2,.content h3{scroll-margin-top:3em}nav h4 a{cursor:pointer;padding:1em}nav h4 a:hover{color:var(--color-logo-mark)}}</style>
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.a3094e82.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/default.5aea3db6.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Header.70cac991.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/nuxt-link.e46f0f23.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/sectionStore.f616c452.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Side.a0e8229e.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/pageStore.e2fee975.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Footer.bd76959e.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/query.ae01de8b.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/preview.2c12b7d4.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/applyOrder.347713b5.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/_...content-page_.78434b97.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRenderer.66d7f727.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.vue.b2d1dd99.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/index.288f722b.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BottomNavigation.f7f91a7c.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Toc.9cc2e719.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentDoc.1046d653.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/vue.f36acd1f.1145753c.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentQuery.0c7ba323.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/asyncData.b3d10093.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.0db2637b.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH1.214c9f0e.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.0e2f8374.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseBlockquote.3de46760.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.6cbb8270.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH2.6ae6853a.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseImg.81545b4e.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCodeInline.a5f2a128.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseStrong.8e9f3c61.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH3.245b42aa.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/error-404.4b606ce1.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/error-500.31aae9a2.js">
<script type="module" src="/_nuxt/entry.a3094e82.js" crossorigin></script></head>
<body ><div id="__nuxt"><div data-v-5e897649><div class="top" data-v-5e897649 data-v-049e3959><header data-v-049e3959><div class="logo" data-v-049e3959><a href="/" class="" data-v-049e3959><img class="do logo" data-v-049e3959></a></div><a class="bars" data-v-049e3959><i class="fa-solid fa-bars" data-v-049e3959></i></a><nav class="" data-v-049e3959><a class="close" data-v-049e3959><i class="fa-solid fa-close" data-v-049e3959></i></a><!--[--><a href="/blueprints/" class="" data-v-049e3959>Blueprints</a><a href="/features/" class="" data-v-049e3959>Features</a><a href="/layers/" class="" data-v-049e3959>Layers</a><a aria-current="page" href="/architecture/" class="router-link-active router-link-exact-active active" data-v-049e3959>Architecture</a><a href="/release-notes/" class="" data-v-049e3959>Release Notes</a><!--]--><a href="https://github.com/mouseless/do" rel="noopener noreferrer" target="_blank" data-v-049e3959><i class="fa-brands fa-github" data-v-049e3959></i></a></nav></header></div><div class="content" data-v-5e897649><nav class="side" data-v-5e897649 data-v-9dee0249><h4 data-v-9dee0249><a data-v-9dee0249>Pages</a></h4><ul class="" data-v-9dee0249><li data-v-9dee0249><!--[--><!--]--></li></ul></nav><article data-v-5e897649><!--[--><!--[--><div class="container" data-v-b90ae7fa><div class="content" data-v-b90ae7fa><div class="toc-root" data-v-b90ae7fa><h1 id="architecture"><!--[-->Architecture<!--]--></h1><p><!--[-->DO&#39;s architectural core is designed to allow us to build software with any
architectural style. Core idea is to enable a good separation of concerns
without causing any repetitive work. To achieve this DO breaks down an
application into following components: domain objects, layers and features.<!--]--></p><blockquote class="info" data-v-cab260a3><i class="fa fa-circle-info" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->DO is inspired by <a href="https://learn.microsoft.com/en-us/dotnet/architecture/modern-web-apps-azure/common-web-application-architectures#clean-architecture" rel="nofollow" target="_blank" data-v-f8417185><!--[-->Clean Architecture<!--]--><i class="fa-solid fa-arrow-up-right-from-square" data-v-f8417185></i></a>, but it has its own approach to the
concept.<!--]--></p><!--]--></div></blockquote><p><!--[-->Let&#39;s dive into each type of software component to have a better understanding
of how DO is structured.<!--]--></p><h2 id="domain-objects"><!--[-->Domain Objects<!--]--></h2><p><!--[-->At the core of an application lies its domain logic. By this we understand the
very reason for an application to exist. Everything else exists only to expose
this domain to outside world. So first component is domain objects;<!--]--></p><p><!--[--><img src="/architecture/README-1.png" alt="diagram" class="diagram" data-v-37a2b7c0><!--]--></p><h2 id="layers"><!--[-->Layers<!--]--></h2><p><!--[-->Second component is layers. Every layer introduces a new technology, such as a
database server, message queue server or a framework, into your application
architecture.<!--]--></p><blockquote class="tip" data-v-cab260a3><i class="fa fa-lightbulb" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->Layers are named after the domain of their technology.<!--]--></p><!--]--></div></blockquote><p><!--[--><img src="/architecture/README-2.png" alt="diagram" class="diagram" data-v-37a2b7c0><!--]--></p><p><!--[-->In this example, <code class=""><!--[-->HttpServer<!--]--></code> introduces the concept of web as a layer through
the <code class=""><!--[-->ASP.NET Core<!--]--></code> technology. Also, <code class=""><!--[-->DataAccess<!--]--></code> introduces the concept of
relational databases as a layer through the <code class=""><!--[-->NHibernate<!--]--></code> framework.<!--]--></p><blockquote class="info" data-v-cab260a3><i class="fa fa-circle-info" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[--><code class=""><!--[-->Domain<!--]--></code> is a unique layer that introduces the business logic of an
application by encapsulating its domain objects. It processes the assemblies
to create an application schema, so that it can be used in creating
configuration, conventions and/or generating source code.<!--]--></p><!--]--></div></blockquote><p><!--[-->For domain objects to be exposed as API endpoints or mapped onto a relational
database, layers require an insight about how to interpret domain objects.<!--]--></p><p><!--[-->This is why every layer comes with its own configuration that is specific to
the technology it uses. Configurations may contain a set of helper classes
and/or facade methods that makes it easy to build a certain type of
configuration, but they do <strong><!--[-->not<!--]--></strong> have opinions upfront.<!--]--></p><h2 id="features"><!--[-->Features<!--]--></h2><p><!--[-->Finally, features connect layers in an opinionated way to introduce new
behaviours to the application. Features consist of two parts; an optional
abstraction (port) and a required implementation (adapter).<!--]--></p><h3 id="abstraction"><!--[-->Abstraction<!--]--></h3><p><!--[-->An abstraction is the library that contains all common classes, interfaces,
attributes, if any, for a feature. It is the only accessible part of a feature
from domain objects or from other feature implementations.<!--]--></p><blockquote class="info" data-v-cab260a3><i class="fa fa-circle-info" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[-->Each feature has only one abstraction, named after the ability it provides,
e.g. <code class=""><!--[-->Fs<!--]--></code>, <code class=""><!--[-->Orm<!--]--></code>, <code class=""><!--[-->Logging<!--]--></code>, <code class=""><!--[-->Auth<!--]--></code> etc.<!--]--></p><!--]--></div></blockquote><p><!--[--><img src="/architecture/README-3.png" alt="diagram" class="diagram" data-v-37a2b7c0><!--]--></p><h3 id="implementation"><!--[-->Implementation<!--]--></h3><p><!--[-->This is the implementation part of a feature that provides concrete
implementations for the interfaces defined in the abstraction, along with
opinionated configurations using the configuration API of the corresponding
layer(s).<!--]--></p><p><!--[-->Features may have multiple implementations, each named after its corresponding
design or technology, e.g. <code class=""><!--[-->Auth.Auth0<!--]--></code>, <code class=""><!--[-->Fs.Aws<!--]--></code>, <code class=""><!--[-->Database.MySql<!--]--></code>.<!--]--></p><blockquote class="tip" data-v-cab260a3><i class="fa fa-lightbulb" data-v-cab260a3></i><div data-v-cab260a3><!--[--><p><!--[--><code class=""><!--[-->Fs<!--]--></code> represents file system feature that provides an API to your domain logic
to read/write files. <code class=""><!--[-->Fs.Local<!--]--></code> and <code class=""><!--[-->Fs.AwsS3<!--]--></code> are two different
implementations that provides the same functionality through different system
components.<!--]--></p><!--]--></div></blockquote><p><!--[-->In conclusion, feature implementations serve as bridges, connecting layers to
each other through their opinionated configurations. Below is a complete sample
architecture, showcasing the integration of domain logic, layers and features;<!--]--></p><p><!--[--><img src="/architecture/README-4.png" alt="diagram" class="diagram" data-v-37a2b7c0><!--]--></p></div><div class="navigation-buttons-container" data-v-b90ae7fa data-v-6a000fc9><!----><div class="button right" data-v-6a000fc9><a href="/architecture/application" class="" data-v-6a000fc9><div class="link-text" data-v-6a000fc9> Next <i class="fa-solid fa-caret-right" data-v-6a000fc9></i><h3 data-v-6a000fc9>Application</h3></div></a></div></div></div><nav data-v-b90ae7fa data-v-4f8affad><h4 data-v-4f8affad><a data-v-4f8affad>On This Page</a></h4><ul class="" data-v-4f8affad><!--[--><li data-v-4f8affad><a aria-current="page" href="/architecture/#domain-objects" class="router-link-active router-link-exact-active" data-v-4f8affad>Domain Objects</a><ul data-v-4f8affad><!--[--><!--]--></ul></li><li data-v-4f8affad><a aria-current="page" href="/architecture/#layers" class="router-link-active router-link-exact-active" data-v-4f8affad>Layers</a><ul data-v-4f8affad><!--[--><!--]--></ul></li><li data-v-4f8affad><a aria-current="page" href="/architecture/#features" class="router-link-active router-link-exact-active" data-v-4f8affad>Features</a><ul data-v-4f8affad><!--[--><li data-v-4f8affad><a aria-current="page" href="/architecture/#abstraction" class="router-link-active router-link-exact-active" data-v-4f8affad>Abstraction</a></li><li data-v-4f8affad><a aria-current="page" href="/architecture/#implementation" class="router-link-active router-link-exact-active" data-v-4f8affad>Implementation</a></li><!--]--></ul></li><!--]--><li data-v-4f8affad><a class="return-to-top" href="#" data-v-4f8affad>Return to top</a></li></ul></nav></div><!--]--><!--]--></article></div><div class="bottom" data-v-5e897649 data-v-82c0088f><footer data-v-82c0088f><div class="logo" data-v-82c0088f><a href="/" class="" data-v-82c0088f><img class="do logo mono" data-v-82c0088f></a><span data-v-82c0088f>Copyright (c) 2024 Mouseless - MIT License</span></div><nav data-v-82c0088f><!--[--><a href="/blueprints/" class="" data-v-82c0088f>Blueprints</a><a href="/features/" class="" data-v-82c0088f>Features</a><a href="/layers/" class="" data-v-82c0088f>Layers</a><a aria-current="page" href="/architecture/" class="router-link-active router-link-exact-active" data-v-82c0088f>Architecture</a><a href="/release-notes/" class="" data-v-82c0088f>Release Notes</a><!--]--><a href="https://github.com/mouseless/do" rel="noopener noreferrer" target="_blank" data-v-82c0088f><i class="fa-brands fa-github" data-v-82c0088f></i> /mouseless/do</a></nav></footer></div></div></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true">[["Reactive",1],{"data":2,"state":340,"_errors":341,"serverRendered":343,"path":344,"prerenderedAt":345,"pinia":346},{"content-query-JXvGL0XVdO":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":5,"title":7,"description":8,"pages":9,"body":13,"_type":335,"_id":336,"_source":337,"_file":338,"_extension":339},"/architecture","",false,"Architecture","DO's architectural core is designed to allow us to build software with any\narchitectural style. Core idea is to enable a good separation of concerns\nwithout causing any repetitive work. To achieve this DO breaks down an\napplication into following components: domain objects, layers and features.",[10,11,12],"application","layer","feature",{"type":14,"children":15,"toc":325},"root",[16,24,29,54,59,66,71,80,86,91,104,111,145,162,167,180,186,191,198,203,241,248,254,259,283,313,318],{"type":17,"tag":18,"props":19,"children":21},"element","h1",{"id":20},"architecture",[22],{"type":23,"value":7},"text",{"type":17,"tag":25,"props":26,"children":27},"p",{},[28],{"type":23,"value":8},{"type":17,"tag":30,"props":31,"children":32},"blockquote",{},[33,38],{"type":17,"tag":25,"props":34,"children":35},{},[36],{"type":23,"value":37},":information_source:",{"type":17,"tag":25,"props":39,"children":40},{},[41,43,52],{"type":23,"value":42},"DO is inspired by ",{"type":17,"tag":44,"props":45,"children":49},"a",{"href":46,"rel":47},"https://learn.microsoft.com/en-us/dotnet/architecture/modern-web-apps-azure/common-web-application-architectures#clean-architecture",[48],"nofollow",[50],{"type":23,"value":51},"Clean Architecture",{"type":23,"value":53},", but it has its own approach to the\nconcept.",{"type":17,"tag":25,"props":55,"children":56},{},[57],{"type":23,"value":58},"Let's dive into each type of software component to have a better understanding\nof how DO is structured.",{"type":17,"tag":60,"props":61,"children":63},"h2",{"id":62},"domain-objects",[64],{"type":23,"value":65},"Domain Objects",{"type":17,"tag":25,"props":67,"children":68},{},[69],{"type":23,"value":70},"At the core of an application lies its domain logic. By this we understand the\nvery reason for an application to exist. Everything else exists only to expose\nthis domain to outside world. So first component is domain objects;",{"type":17,"tag":25,"props":72,"children":73},{},[74],{"type":17,"tag":75,"props":76,"children":79},"img",{"alt":77,"src":78},"diagram","./README-1.png",[],{"type":17,"tag":60,"props":81,"children":83},{"id":82},"layers",[84],{"type":23,"value":85},"Layers",{"type":17,"tag":25,"props":87,"children":88},{},[89],{"type":23,"value":90},"Second component is layers. Every layer introduces a new technology, such as a\ndatabase server, message queue server or a framework, into your application\narchitecture.",{"type":17,"tag":30,"props":92,"children":93},{},[94,99],{"type":17,"tag":25,"props":95,"children":96},{},[97],{"type":23,"value":98},":bulb:",{"type":17,"tag":25,"props":100,"children":101},{},[102],{"type":23,"value":103},"Layers are named after the domain of their technology.",{"type":17,"tag":25,"props":105,"children":106},{},[107],{"type":17,"tag":75,"props":108,"children":110},{"alt":77,"src":109},"./README-2.png",[],{"type":17,"tag":25,"props":112,"children":113},{},[114,116,122,124,129,131,136,138,143],{"type":23,"value":115},"In this example, ",{"type":17,"tag":117,"props":118,"children":119},"code",{"className":5},[120],{"type":23,"value":121},"HttpServer",{"type":23,"value":123}," introduces the concept of web as a layer through\nthe ",{"type":17,"tag":117,"props":125,"children":126},{"className":5},[127],{"type":23,"value":128},"ASP.NET Core",{"type":23,"value":130}," technology. Also, ",{"type":17,"tag":117,"props":132,"children":133},{"className":5},[134],{"type":23,"value":135},"DataAccess",{"type":23,"value":137}," introduces the concept of\nrelational databases as a layer through the ",{"type":17,"tag":117,"props":139,"children":140},{"className":5},[141],{"type":23,"value":142},"NHibernate",{"type":23,"value":144}," framework.",{"type":17,"tag":30,"props":146,"children":147},{},[148,152],{"type":17,"tag":25,"props":149,"children":150},{},[151],{"type":23,"value":37},{"type":17,"tag":25,"props":153,"children":154},{},[155,160],{"type":17,"tag":117,"props":156,"children":157},{"className":5},[158],{"type":23,"value":159},"Domain",{"type":23,"value":161}," is a unique layer that introduces the business logic of an\napplication by encapsulating its domain objects. It processes the assemblies\nto create an application schema, so that it can be used in creating\nconfiguration, conventions and/or generating source code.",{"type":17,"tag":25,"props":163,"children":164},{},[165],{"type":23,"value":166},"For domain objects to be exposed as API endpoints or mapped onto a relational\ndatabase, layers require an insight about how to interpret domain objects.",{"type":17,"tag":25,"props":168,"children":169},{},[170,172,178],{"type":23,"value":171},"This is why every layer comes with its own configuration that is specific to\nthe technology it uses. Configurations may contain a set of helper classes\nand/or facade methods that makes it easy to build a certain type of\nconfiguration, but they do ",{"type":17,"tag":173,"props":174,"children":175},"strong",{},[176],{"type":23,"value":177},"not",{"type":23,"value":179}," have opinions upfront.",{"type":17,"tag":60,"props":181,"children":183},{"id":182},"features",[184],{"type":23,"value":185},"Features",{"type":17,"tag":25,"props":187,"children":188},{},[189],{"type":23,"value":190},"Finally, features connect layers in an opinionated way to introduce new\nbehaviours to the application. Features consist of two parts; an optional\nabstraction (port) and a required implementation (adapter).",{"type":17,"tag":192,"props":193,"children":195},"h3",{"id":194},"abstraction",[196],{"type":23,"value":197},"Abstraction",{"type":17,"tag":25,"props":199,"children":200},{},[201],{"type":23,"value":202},"An abstraction is the library that contains all common classes, interfaces,\nattributes, if any, for a feature. It is the only accessible part of a feature\nfrom domain objects or from other feature implementations.",{"type":17,"tag":30,"props":204,"children":205},{},[206,210],{"type":17,"tag":25,"props":207,"children":208},{},[209],{"type":23,"value":37},{"type":17,"tag":25,"props":211,"children":212},{},[213,215,220,222,227,228,233,234,239],{"type":23,"value":214},"Each feature has only one abstraction, named after the ability it provides,\ne.g. ",{"type":17,"tag":117,"props":216,"children":217},{"className":5},[218],{"type":23,"value":219},"Fs",{"type":23,"value":221},", ",{"type":17,"tag":117,"props":223,"children":224},{"className":5},[225],{"type":23,"value":226},"Orm",{"type":23,"value":221},{"type":17,"tag":117,"props":229,"children":230},{"className":5},[231],{"type":23,"value":232},"Logging",{"type":23,"value":221},{"type":17,"tag":117,"props":235,"children":236},{"className":5},[237],{"type":23,"value":238},"Auth",{"type":23,"value":240}," etc.",{"type":17,"tag":25,"props":242,"children":243},{},[244],{"type":17,"tag":75,"props":245,"children":247},{"alt":77,"src":246},"./README-3.png",[],{"type":17,"tag":192,"props":249,"children":251},{"id":250},"implementation",[252],{"type":23,"value":253},"Implementation",{"type":17,"tag":25,"props":255,"children":256},{},[257],{"type":23,"value":258},"This is the implementation part of a feature that provides concrete\nimplementations for the interfaces defined in the abstraction, along with\nopinionated configurations using the configuration API of the corresponding\nlayer(s).",{"type":17,"tag":25,"props":260,"children":261},{},[262,264,269,270,275,276,281],{"type":23,"value":263},"Features may have multiple implementations, each named after its corresponding\ndesign or technology, e.g. ",{"type":17,"tag":117,"props":265,"children":266},{"className":5},[267],{"type":23,"value":268},"Auth.Auth0",{"type":23,"value":221},{"type":17,"tag":117,"props":271,"children":272},{"className":5},[273],{"type":23,"value":274},"Fs.Aws",{"type":23,"value":221},{"type":17,"tag":117,"props":277,"children":278},{"className":5},[279],{"type":23,"value":280},"Database.MySql",{"type":23,"value":282},".",{"type":17,"tag":30,"props":284,"children":285},{},[286,290],{"type":17,"tag":25,"props":287,"children":288},{},[289],{"type":23,"value":98},{"type":17,"tag":25,"props":291,"children":292},{},[293,297,299,304,306,311],{"type":17,"tag":117,"props":294,"children":295},{"className":5},[296],{"type":23,"value":219},{"type":23,"value":298}," represents file system feature that provides an API to your domain logic\nto read/write files. ",{"type":17,"tag":117,"props":300,"children":301},{"className":5},[302],{"type":23,"value":303},"Fs.Local",{"type":23,"value":305}," and ",{"type":17,"tag":117,"props":307,"children":308},{"className":5},[309],{"type":23,"value":310},"Fs.AwsS3",{"type":23,"value":312}," are two different\nimplementations that provides the same functionality through different system\ncomponents.",{"type":17,"tag":25,"props":314,"children":315},{},[316],{"type":23,"value":317},"In conclusion, feature implementations serve as bridges, connecting layers to\neach other through their opinionated configurations. Below is a complete sample\narchitecture, showcasing the integration of domain logic, layers and features;",{"type":17,"tag":25,"props":319,"children":320},{},[321],{"type":17,"tag":75,"props":322,"children":324},{"alt":77,"src":323},"./README-4.png",[],{"title":5,"searchDepth":326,"depth":326,"links":327},2,[328,329,330],{"id":62,"depth":326,"text":65},{"id":82,"depth":326,"text":85},{"id":182,"depth":326,"text":185,"children":331},[332,334],{"id":194,"depth":333,"text":197},3,{"id":250,"depth":333,"text":253},"markdown","content:architecture:index.md","content","architecture/index.md","md",{},{"content-query-JXvGL0XVdO":342},null,true,"/architecture/",1707907853674,{"sectionStore":347,"pageStore":360},{"sections":348},[349,352,354,356,357],{"_path":350,"_dir":5,"title":351},"/blueprints/","Blueprints",{"_path":353,"_dir":5,"title":185},"/features/",{"_path":355,"_dir":5,"title":85},"/layers/",{"_path":344,"_dir":5,"title":7},{"_path":358,"_dir":5,"title":359},"/release-notes/","Release Notes",{"pages":361},[362,364,367,370],{"_path":344,"title":7,"pages":363},[10,11,12],{"_path":365,"title":366},"/architecture/application","Application",{"_path":368,"title":369},"/architecture/layer","Layer",{"_path":371,"title":372},"/architecture/feature","Feature"]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:false,h3:false,h4:false,h5:false,h6:false}}},baseURL:"/",githubURL:"/mouseless/do",content:{locales:[],defaultLocale:"",integrity:1707907842701,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"slack-dark",preload:["diff","ts","js","css","java","markdown","sql","xml","json","csharp","md","bash"]},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body>
</html>